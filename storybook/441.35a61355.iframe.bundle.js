/*! For license information please see 441.35a61355.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkreact_spreadsheet=self.webpackChunkreact_spreadsheet||[]).push([[441],{"./node_modules/bahttext/src/index.js":module=>{const defaultResult="ศูนย์บาทถ้วน",singleUnitStrs=["","หนึ่ง","สอง","สาม","สี่","ห้า","หก","เจ็ด","แปด","เก้า"],placeNameStrs=["","สิบ","ร้อย","พัน","หมื่น","แสน","ล้าน"];function num2Word(nums){let result="";const len=nums.length;if(len>7){const overflowIndex=len-7+1,overflowNums=nums.slice(0,overflowIndex),remainingNumbs=nums.slice(overflowIndex);return num2Word(overflowNums)+"ล้าน"+num2Word(remainingNumbs)}for(let i=0;i<len;i++){const digit=nums[i];digit>0&&(result+=singleUnitStrs[digit]+placeNameStrs[len-i-1])}return result}function grammarFix(str){let result=str;result=result.replace("หนึ่งสิบ","สิบ"),result=result.replace("สองสิบ","ยี่สิบ");return result.length>5&&result.length-result.lastIndexOf("หนึ่ง")==5&&(result=result.substr(0,result.length-5)+"เอ็ด"),result}null!=module.exports&&(module.exports=function bahttext(num){let result=defaultResult;if(isNaN(num))return result;if(num>=Number.MAX_SAFE_INTEGER)return result;const bahtStr=Math.floor(num).toString(),satangStr=Math.round(num%1*100).toString(),bahtArr=Array.from(bahtStr).map(Number),satangArr=Array.from(satangStr).map(Number);let baht=num2Word(bahtArr),satang=num2Word(satangArr);return baht=grammarFix(baht),satang=grammarFix(satang),result=function combine(baht,satang){let result="";return result=""===baht&&""===satang?defaultResult:""!==baht&&""===satang?baht+"บาทถ้วน":""===baht&&""!==satang?satang+"สตางค์":baht+"บาท"+satang+"สตางค์",result}(baht,satang),result})},"./node_modules/bessel/bessel.js":(__unused_webpack_module,exports)=>{var factory;factory=function(BESSEL){BESSEL.version="1.0.2";var M=Math;function _horner(arr,v){for(var i=0,z=0;i<arr.length;++i)z=v*z+arr[i];return z}function _bessel_iter(x,n,f0,f1,sign){if(0===n)return f0;if(1===n)return f1;for(var tdx=2/x,f2=f1,o=1;o<n;++o)f2=f1*o*tdx+sign*f0,f0=f1,f1=f2;return f2}function _bessel_wrap(bessel0,bessel1,name,nonzero,sign){return function bessel(x,n){if(nonzero){if(0===x)return 1==nonzero?-1/0:1/0;if(x<0)return NaN}return 0===n?bessel0(x):1===n?bessel1(x):n<0?NaN:_bessel_iter(x,n|=0,bessel0(x),bessel1(x),sign)}}var W,b0_a1a,b0_a2a,b0_a1b,b0_a2b,b1_a1a,b1_a2a,b1_a1b,b1_a2b,b0_a,b0_b,b1_a,b1_b,besselj=function(){var W=.636619772,b0_a1a=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),b0_a2a=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse();function bessel0(x){var a=0,a1=0,a2=0,y=x*x;if(x<8)a=(a1=_horner(b0_a1a,y))/(a2=_horner(b0_a2a,y));else{var xx=x-.785398164;a1=_horner(b0_a1b,y=64/y),a2=_horner(b0_a2b,y),a=M.sqrt(W/x)*(M.cos(xx)*a1-M.sin(xx)*a2*8/x)}return a}var b1_a1a=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),b1_a2a=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function bessel1(x){var a=0,a1=0,a2=0,y=x*x,xx=M.abs(x)-2.356194491;return Math.abs(x)<8?a=(a1=x*_horner(b1_a1a,y))/(a2=_horner(b1_a2a,y)):(a1=_horner(b1_a1b,y=64/y),a2=_horner(b1_a2b,y),a=M.sqrt(W/M.abs(x))*(M.cos(xx)*a1-M.sin(xx)*a2*8/M.abs(x)),x<0&&(a=-a)),a}return function besselj(x,n){if(n=Math.round(n),!isFinite(x))return isNaN(x)?x:0;if(n<0)return(n%2?-1:1)*besselj(x,-n);if(x<0)return(n%2?-1:1)*besselj(-x,n);if(0===n)return bessel0(x);if(1===n)return bessel1(x);if(0===x)return 0;var ret=0;if(x>n)ret=_bessel_iter(x,n,bessel0(x),bessel1(x),-1);else{for(var jsum=!1,bjp=0,sum=0,bj=1,bjm=0,tox=2/x,j=2*M.floor((n+M.floor(M.sqrt(40*n)))/2);j>0;j--)bjm=j*tox*bj-bjp,bjp=bj,bj=bjm,M.abs(bj)>1e10&&(bj*=1e-10,bjp*=1e-10,ret*=1e-10,sum*=1e-10),jsum&&(sum+=bj),jsum=!jsum,j==n&&(ret=bjp);ret/=sum=2*sum-bj}return ret}}(),bessely=(W=.636619772,b0_a1a=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),b0_a2a=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),b0_a1b=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),b0_a2b=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),b1_a1a=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),b1_a2a=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),b1_a1b=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),b1_a2b=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse(),_bessel_wrap((function bessel0(x){var a=0,a1=0,a2=0,y=x*x,xx=x-.785398164;return x<8?a=(a1=_horner(b0_a1a,y))/(a2=_horner(b0_a2a,y))+W*besselj(x,0)*M.log(x):(a1=_horner(b0_a1b,y=64/y),a2=_horner(b0_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}),(function bessel1(x){var a=0,a1=0,a2=0,y=x*x,xx=x-2.356194491;return x<8?a=(a1=x*_horner(b1_a1a,y))/(a2=_horner(b1_a2a,y))+W*(besselj(x,1)*M.log(x)-1/x):(a1=_horner(b1_a1b,y=64/y),a2=_horner(b1_a2b,y),a=M.sqrt(W/x)*(M.sin(xx)*a1+M.cos(xx)*a2*8/x)),a}),0,1,-1)),besseli=(b0_a=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),b0_b=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),b1_a=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),b1_b=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse(),function besseli(x,n){if(0===(n=Math.round(n)))return function bessel0(x){return x<=3.75?_horner(b0_a,x*x/14.0625):M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b0_b,3.75/M.abs(x))}(x);if(1===n)return function bessel1(x){return x<3.75?x*_horner(b1_a,x*x/14.0625):(x<0?-1:1)*M.exp(M.abs(x))/M.sqrt(M.abs(x))*_horner(b1_b,3.75/M.abs(x))}(x);if(n<0)return NaN;if(0===M.abs(x))return 0;if(x==1/0)return 1/0;var j,ret=0,tox=2/M.abs(x),bip=0,bi=1,bim=0;for(j=2*M.round((n+M.round(M.sqrt(40*n)))/2);j>0;j--)bim=j*tox*bi+bip,bip=bi,bi=bim,M.abs(bi)>1e10&&(bi*=1e-10,bip*=1e-10,ret*=1e-10),j==n&&(ret=bip);return ret*=besseli(x,0)/bi,x<0&&n%2?-ret:ret}),besselk=function(){var b0_a=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),b0_b=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),b1_a=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),b1_b=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return _bessel_wrap((function bessel0(x){return x<=2?-M.log(x/2)*besseli(x,0)+_horner(b0_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b0_b,2/x)}),(function bessel1(x){return x<=2?M.log(x/2)*besseli(x,1)+1/x*_horner(b1_a,x*x/4):M.exp(-x)/M.sqrt(x)*_horner(b1_b,2/x)}),0,2,1)}();BESSEL.besselj=besselj,BESSEL.bessely=bessely,BESSEL.besseli=besseli,BESSEL.besselk=besselk},"undefined"==typeof DO_NOT_EXPORT_BESSEL?factory(exports):factory({})},"./node_modules/chevrotain/lib_esm/src/api.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Alternation:()=>Alternation,Alternative:()=>Alternative,CstParser:()=>CstParser,EMPTY_ALT:()=>EMPTY_ALT,EOF:()=>EOF,EarlyExitException:()=>EarlyExitException,EmbeddedActionsParser:()=>EmbeddedActionsParser,GAstVisitor:()=>GAstVisitor,Lexer:()=>Lexer,LexerDefinitionErrorType:()=>LexerDefinitionErrorType,MismatchedTokenException:()=>MismatchedTokenException,NoViableAltException:()=>NoViableAltException,NonTerminal:()=>NonTerminal,NotAllInputParsedException:()=>NotAllInputParsedException,Option:()=>Option,Parser:()=>api_Parser,ParserDefinitionErrorType:()=>ParserDefinitionErrorType,Repetition:()=>Repetition,RepetitionMandatory:()=>RepetitionMandatory,RepetitionMandatoryWithSeparator:()=>RepetitionMandatoryWithSeparator,RepetitionWithSeparator:()=>RepetitionWithSeparator,Rule:()=>Rule,Terminal:()=>Terminal,VERSION:()=>VERSION,assignOccurrenceIndices:()=>assignOccurrenceIndices,clearCache:()=>clearCache,createSyntaxDiagramsCode:()=>createSyntaxDiagramsCode,createToken:()=>createToken,createTokenInstance:()=>createTokenInstance,defaultGrammarResolverErrorProvider:()=>defaultGrammarResolverErrorProvider,defaultGrammarValidatorErrorProvider:()=>defaultGrammarValidatorErrorProvider,defaultLexerErrorProvider:()=>defaultLexerErrorProvider,defaultParserErrorProvider:()=>defaultParserErrorProvider,generateParserFactory:()=>generateParserFactory,generateParserModule:()=>generateParserModule,isRecognitionException:()=>isRecognitionException,resolveGrammar:()=>gast_resolver_public_resolveGrammar,serializeGrammar:()=>serializeGrammar,serializeProduction:()=>serializeProduction,tokenLabel:()=>tokenLabel,tokenMatcher:()=>tokenMatcher,tokenName:()=>tokenName,validateGrammar:()=>gast_resolver_public_validateGrammar});var VERSION="7.1.2",utils=__webpack_require__("./node_modules/chevrotain/lib_esm/src/utils/utils.js"),regexp_to_ast=__webpack_require__("./node_modules/regexp-to-ast/lib/regexp-to-ast.js"),regExpAstCache={},regExpParser=new regexp_to_ast.RegExpParser;function getRegExpAst(regExp){var regExpStr=regExp.toString();if(regExpAstCache.hasOwnProperty(regExpStr))return regExpAstCache[regExpStr];var regExpAst=regExpParser.pattern(regExpStr);return regExpAstCache[regExpStr]=regExpAst,regExpAst}var extendStatics,__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),complementErrorMessage="Complement Sets are not supported for first char optimization",failedOptimizationPrefixMsg='Unable to use "first char" lexer optimizations:\n';function getOptimizedStartCodesIndices(regExp,ensureOptimizations){void 0===ensureOptimizations&&(ensureOptimizations=!1);try{var ast=getRegExpAst(regExp);return firstCharOptimizedIndices(ast.value,{},ast.flags.ignoreCase)}catch(e){if(e.message===complementErrorMessage)ensureOptimizations&&(0,utils.rr)(failedOptimizationPrefixMsg+"\tUnable to optimize: < "+regExp.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var msgSuffix="";ensureOptimizations&&(msgSuffix="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,utils.WB)(failedOptimizationPrefixMsg+"\n\tFailed parsing: < "+regExp.toString()+" >\n\tUsing the regexp-to-ast library version: "+regexp_to_ast.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+msgSuffix)}}return[]}function firstCharOptimizedIndices(ast,result,ignoreCase){switch(ast.type){case"Disjunction":for(var i=0;i<ast.value.length;i++)firstCharOptimizedIndices(ast.value[i],result,ignoreCase);break;case"Alternative":var terms=ast.value;for(i=0;i<terms.length;i++){var term=terms[i];switch(term.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var atom=term;switch(atom.type){case"Character":addOptimizedIdxToResult(atom.value,result,ignoreCase);break;case"Set":if(!0===atom.complement)throw Error(complementErrorMessage);(0,utils.Ed)(atom.value,(function(code){if("number"==typeof code)addOptimizedIdxToResult(code,result,ignoreCase);else{var range=code;if(!0===ignoreCase)for(var rangeCode=range.from;rangeCode<=range.to;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);else{for(rangeCode=range.from;rangeCode<=range.to&&rangeCode<minOptimizationVal;rangeCode++)addOptimizedIdxToResult(rangeCode,result,ignoreCase);if(range.to>=minOptimizationVal)for(var minUnOptVal=range.from>=minOptimizationVal?range.from:minOptimizationVal,maxUnOptVal=range.to,minOptIdx=charCodeToOptimizedIndex(minUnOptVal),maxOptIdx=charCodeToOptimizedIndex(maxUnOptVal),currOptIdx=minOptIdx;currOptIdx<=maxOptIdx;currOptIdx++)result[currOptIdx]=currOptIdx}}}));break;case"Group":firstCharOptimizedIndices(atom.value,result,ignoreCase);break;default:throw Error("Non Exhaustive Match")}var isOptionalQuantifier=void 0!==atom.quantifier&&0===atom.quantifier.atLeast;if("Group"===atom.type&&!1===isWholeOptional(atom)||"Group"!==atom.type&&!1===isOptionalQuantifier)break}break;default:throw Error("non exhaustive match!")}return(0,utils.VO)(result)}function addOptimizedIdxToResult(code,result,ignoreCase){var optimizedCharIdx=charCodeToOptimizedIndex(code);result[optimizedCharIdx]=optimizedCharIdx,!0===ignoreCase&&function handleIgnoreCase(code,result){var char=String.fromCharCode(code),upperChar=char.toUpperCase();if(upperChar!==char){result[optimizedCharIdx=charCodeToOptimizedIndex(upperChar.charCodeAt(0))]=optimizedCharIdx}else{var optimizedCharIdx,lowerChar=char.toLowerCase();if(lowerChar!==char)result[optimizedCharIdx=charCodeToOptimizedIndex(lowerChar.charCodeAt(0))]=optimizedCharIdx}}(code,result)}function findCode(setNode,targetCharCodes){return(0,utils.sE)(setNode.value,(function(codeOrRange){if("number"==typeof codeOrRange)return(0,utils.r3)(targetCharCodes,codeOrRange);var range_1=codeOrRange;return void 0!==(0,utils.sE)(targetCharCodes,(function(targetCode){return range_1.from<=targetCode&&targetCode<=range_1.to}))}))}function isWholeOptional(ast){return!(!ast.quantifier||0!==ast.quantifier.atLeast)||!!ast.value&&((0,utils.kJ)(ast.value)?(0,utils.yW)(ast.value,isWholeOptional):isWholeOptional(ast.value))}var CharCodeFinder=function(_super){function CharCodeFinder(targetCharCodes){var _this=_super.call(this)||this;return _this.targetCharCodes=targetCharCodes,_this.found=!1,_this}return __extends(CharCodeFinder,_super),CharCodeFinder.prototype.visitChildren=function(node){if(!0!==this.found){switch(node.type){case"Lookahead":return void this.visitLookahead(node);case"NegativeLookahead":return void this.visitNegativeLookahead(node)}_super.prototype.visitChildren.call(this,node)}},CharCodeFinder.prototype.visitCharacter=function(node){(0,utils.r3)(this.targetCharCodes,node.value)&&(this.found=!0)},CharCodeFinder.prototype.visitSet=function(node){node.complement?void 0===findCode(node,this.targetCharCodes)&&(this.found=!0):void 0!==findCode(node,this.targetCharCodes)&&(this.found=!0)},CharCodeFinder}(regexp_to_ast.BaseRegExpVisitor);function canMatchCharCode(charCodes,pattern){if(pattern instanceof RegExp){var ast=getRegExpAst(pattern),charCodeFinder=new CharCodeFinder(charCodes);return charCodeFinder.visit(ast),charCodeFinder.found}return void 0!==(0,utils.sE)(pattern,(function(char){return(0,utils.r3)(charCodes,char.charCodeAt(0))}))}var lexer_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),PATTERN="PATTERN",SUPPORT_STICKY="boolean"==typeof new RegExp("(?:)").sticky;function analyzeTokenTypes(tokenTypes,options){var onlyRelevantTypes,tracer=(options=(0,utils.ce)(options,{useSticky:SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(msg,action){return action()}})).tracer;tracer("initCharCodeToOptimizedIndexMap",(function(){!function initCharCodeToOptimizedIndexMap(){if((0,utils.xb)(charCodeToOptimizedIdxMap)){charCodeToOptimizedIdxMap=new Array(65536);for(var i=0;i<65536;i++)charCodeToOptimizedIdxMap[i]=i>255?255+~~(i/255):i}}()})),tracer("Reject Lexer.NA",(function(){onlyRelevantTypes=(0,utils.d1)(tokenTypes,(function(currType){return currType[PATTERN]===Lexer.NA}))}));var allTransformedPatterns,patternIdxToType,patternIdxToGroup,patternIdxToLongerAltIdx,patternIdxToPushMode,patternIdxToPopMode,patternIdxToCanLineTerminator,patternIdxToIsCustom,patternIdxToShort,emptyGroups,patternIdxToConfig,hasCustom=!1;tracer("Transform Patterns",(function(){hasCustom=!1,allTransformedPatterns=(0,utils.UI)(onlyRelevantTypes,(function(currType){var currPattern=currType[PATTERN];if((0,utils.Kj)(currPattern)){var regExpSource=currPattern.source;return 1!==regExpSource.length||"^"===regExpSource||"$"===regExpSource||"."===regExpSource||currPattern.ignoreCase?2!==regExpSource.length||"\\"!==regExpSource[0]||(0,utils.r3)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],regExpSource[1])?options.useSticky?addStickyFlag(currPattern):addStartOfInput(currPattern):regExpSource[1]:regExpSource}if((0,utils.mf)(currPattern))return hasCustom=!0,{exec:currPattern};if((0,utils.e$)(currPattern,"exec"))return hasCustom=!0,currPattern;if("string"==typeof currPattern){if(1===currPattern.length)return currPattern;var escapedRegExpString=currPattern.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),wrappedRegExp=new RegExp(escapedRegExpString);return options.useSticky?addStickyFlag(wrappedRegExp):addStartOfInput(wrappedRegExp)}throw Error("non exhaustive match")}))})),tracer("misc mapping",(function(){patternIdxToType=(0,utils.UI)(onlyRelevantTypes,(function(currType){return currType.tokenTypeIdx})),patternIdxToGroup=(0,utils.UI)(onlyRelevantTypes,(function(clazz){var groupName=clazz.GROUP;if(groupName!==Lexer.SKIPPED){if((0,utils.HD)(groupName))return groupName;if((0,utils.o8)(groupName))return!1;throw Error("non exhaustive match")}})),patternIdxToLongerAltIdx=(0,utils.UI)(onlyRelevantTypes,(function(clazz){var longerAltType=clazz.LONGER_ALT;if(longerAltType)return(0,utils.cq)(onlyRelevantTypes,longerAltType)})),patternIdxToPushMode=(0,utils.UI)(onlyRelevantTypes,(function(clazz){return clazz.PUSH_MODE})),patternIdxToPopMode=(0,utils.UI)(onlyRelevantTypes,(function(clazz){return(0,utils.e$)(clazz,"POP_MODE")}))})),tracer("Line Terminator Handling",(function(){var lineTerminatorCharCodes=getCharCodes(options.lineTerminatorCharacters);patternIdxToCanLineTerminator=(0,utils.UI)(onlyRelevantTypes,(function(tokType){return!1})),"onlyOffset"!==options.positionTracking&&(patternIdxToCanLineTerminator=(0,utils.UI)(onlyRelevantTypes,(function(tokType){return(0,utils.e$)(tokType,"LINE_BREAKS")?tokType.LINE_BREAKS:!1===checkLineBreaksIssues(tokType,lineTerminatorCharCodes)?canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN):void 0})))})),tracer("Misc Mapping #2",(function(){patternIdxToIsCustom=(0,utils.UI)(onlyRelevantTypes,isCustomPattern),patternIdxToShort=(0,utils.UI)(allTransformedPatterns,isShortPattern),emptyGroups=(0,utils.u4)(onlyRelevantTypes,(function(acc,clazz){var groupName=clazz.GROUP;return(0,utils.HD)(groupName)&&groupName!==Lexer.SKIPPED&&(acc[groupName]=[]),acc}),{}),patternIdxToConfig=(0,utils.UI)(allTransformedPatterns,(function(x,idx){return{pattern:allTransformedPatterns[idx],longerAlt:patternIdxToLongerAltIdx[idx],canLineTerminator:patternIdxToCanLineTerminator[idx],isCustom:patternIdxToIsCustom[idx],short:patternIdxToShort[idx],group:patternIdxToGroup[idx],push:patternIdxToPushMode[idx],pop:patternIdxToPopMode[idx],tokenTypeIdx:patternIdxToType[idx],tokenType:onlyRelevantTypes[idx]}}))}));var canBeOptimized=!0,charCodeToPatternIdxToConfig=[];return options.safeMode||tracer("First Char Optimization",(function(){charCodeToPatternIdxToConfig=(0,utils.u4)(onlyRelevantTypes,(function(result,currTokType,idx){if("string"==typeof currTokType.PATTERN){var optimizedIdx=charCodeToOptimizedIndex(currTokType.PATTERN.charCodeAt(0));addToMapOfArrays(result,optimizedIdx,patternIdxToConfig[idx])}else if((0,utils.kJ)(currTokType.START_CHARS_HINT)){var lastOptimizedIdx_1;(0,utils.Ed)(currTokType.START_CHARS_HINT,(function(charOrInt){var currOptimizedIdx=charCodeToOptimizedIndex("string"==typeof charOrInt?charOrInt.charCodeAt(0):charOrInt);lastOptimizedIdx_1!==currOptimizedIdx&&(lastOptimizedIdx_1=currOptimizedIdx,addToMapOfArrays(result,currOptimizedIdx,patternIdxToConfig[idx]))}))}else if((0,utils.Kj)(currTokType.PATTERN))if(currTokType.PATTERN.unicode)canBeOptimized=!1,options.ensureOptimizations&&(0,utils.WB)(failedOptimizationPrefixMsg+"\tUnable to analyze < "+currTokType.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var optimizedCodes=getOptimizedStartCodesIndices(currTokType.PATTERN,options.ensureOptimizations);(0,utils.xb)(optimizedCodes)&&(canBeOptimized=!1),(0,utils.Ed)(optimizedCodes,(function(code){addToMapOfArrays(result,code,patternIdxToConfig[idx])}))}else options.ensureOptimizations&&(0,utils.WB)(failedOptimizationPrefixMsg+"\tTokenType: <"+currTokType.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),canBeOptimized=!1;return result}),[])})),tracer("ArrayPacking",(function(){charCodeToPatternIdxToConfig=(0,utils.X0)(charCodeToPatternIdxToConfig)})),{emptyGroups,patternIdxToConfig,charCodeToPatternIdxToConfig,hasCustom,canBeOptimized}}function validatePatterns(tokenTypes,validModesNames){var errors=[],missingResult=function findMissingPatterns(tokenTypes){var tokenTypesWithMissingPattern=(0,utils.hX)(tokenTypes,(function(currType){return!(0,utils.e$)(currType,PATTERN)})),errors=(0,utils.UI)(tokenTypesWithMissingPattern,(function(currType){return{message:"Token Type: ->"+currType.name+"<- missing static 'PATTERN' property",type:LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[currType]}})),valid=(0,utils.e5)(tokenTypes,tokenTypesWithMissingPattern);return{errors,valid}}(tokenTypes);errors=errors.concat(missingResult.errors);var invalidResult=function findInvalidPatterns(tokenTypes){var tokenTypesWithInvalidPattern=(0,utils.hX)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return!((0,utils.Kj)(pattern)||(0,utils.mf)(pattern)||(0,utils.e$)(pattern,"exec")||(0,utils.HD)(pattern))})),errors=(0,utils.UI)(tokenTypesWithInvalidPattern,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[currType]}})),valid=(0,utils.e5)(tokenTypes,tokenTypesWithInvalidPattern);return{errors,valid}}(missingResult.valid),validTokenTypes=invalidResult.valid;return errors=(errors=errors.concat(invalidResult.errors)).concat(function validateRegExpPattern(tokenTypes){var errors=[],withRegExpPatterns=(0,utils.hX)(tokenTypes,(function(currTokType){return(0,utils.Kj)(currTokType[PATTERN])}));return errors=errors.concat(function findEndOfInputAnchor(tokenTypes){var EndAnchorFinder=function(_super){function EndAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return lexer_extends(EndAnchorFinder,_super),EndAnchorFinder.prototype.visitEndAnchor=function(node){this.found=!0},EndAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=(0,utils.hX)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),endAnchorVisitor=new EndAnchorFinder;return endAnchorVisitor.visit(regexpAst),endAnchorVisitor.found}catch(e){return end_of_input.test(pattern.source)}})),errors=(0,utils.UI)(invalidRegex,(function(currType){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+currType.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[currType]}}));return errors}(withRegExpPatterns)),errors=errors.concat(function findStartOfInputAnchor(tokenTypes){var StartAnchorFinder=function(_super){function StartAnchorFinder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.found=!1,_this}return lexer_extends(StartAnchorFinder,_super),StartAnchorFinder.prototype.visitStartAnchor=function(node){this.found=!0},StartAnchorFinder}(regexp_to_ast.BaseRegExpVisitor),invalidRegex=(0,utils.hX)(tokenTypes,(function(currType){var pattern=currType[PATTERN];try{var regexpAst=getRegExpAst(pattern),startAnchorVisitor=new StartAnchorFinder;return startAnchorVisitor.visit(regexpAst),startAnchorVisitor.found}catch(e){return start_of_input.test(pattern.source)}})),errors=(0,utils.UI)(invalidRegex,(function(currType){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+currType.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[currType]}}));return errors}(withRegExpPatterns)),errors=errors.concat(function findUnsupportedFlags(tokenTypes){var invalidFlags=(0,utils.hX)(tokenTypes,(function(currType){var pattern=currType[PATTERN];return pattern instanceof RegExp&&(pattern.multiline||pattern.global)})),errors=(0,utils.UI)(invalidFlags,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[currType]}}));return errors}(withRegExpPatterns)),errors=errors.concat(function findDuplicatePatterns(tokenTypes){var found=[],identicalPatterns=(0,utils.UI)(tokenTypes,(function(outerType){return(0,utils.u4)(tokenTypes,(function(result,innerType){return outerType.PATTERN.source!==innerType.PATTERN.source||(0,utils.r3)(found,innerType)||innerType.PATTERN===Lexer.NA||(found.push(innerType),result.push(innerType)),result}),[])}));identicalPatterns=(0,utils.oA)(identicalPatterns);var duplicatePatterns=(0,utils.hX)(identicalPatterns,(function(currIdenticalSet){return currIdenticalSet.length>1})),errors=(0,utils.UI)(duplicatePatterns,(function(setOfIdentical){var tokenTypeNames=(0,utils.UI)(setOfIdentical,(function(currType){return currType.name}));return{message:"The same RegExp pattern ->"+(0,utils.Ps)(setOfIdentical).PATTERN+"<-has been used in all of the following Token Types: "+tokenTypeNames.join(", ")+" <-",type:LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:setOfIdentical}}));return errors}(withRegExpPatterns)),errors=errors.concat(function findEmptyMatchRegExps(tokenTypes){var matchesEmptyString=(0,utils.hX)(tokenTypes,(function(currType){return currType[PATTERN].test("")})),errors=(0,utils.UI)(matchesEmptyString,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'PATTERN' must not match an empty string",type:LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[currType]}}));return errors}(withRegExpPatterns)),errors}(validTokenTypes)),errors=errors.concat(function findInvalidGroupType(tokenTypes){var invalidTypes=(0,utils.hX)(tokenTypes,(function(clazz){if(!(0,utils.e$)(clazz,"GROUP"))return!1;var group=clazz.GROUP;return group!==Lexer.SKIPPED&&group!==Lexer.NA&&!(0,utils.HD)(group)})),errors=(0,utils.UI)(invalidTypes,(function(currType){return{message:"Token Type: ->"+currType.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[currType]}}));return errors}(validTokenTypes)),errors=errors.concat(function findModesThatDoNotExist(tokenTypes,validModes){var invalidModes=(0,utils.hX)(tokenTypes,(function(clazz){return void 0!==clazz.PUSH_MODE&&!(0,utils.r3)(validModes,clazz.PUSH_MODE)})),errors=(0,utils.UI)(invalidModes,(function(tokType){return{message:"Token Type: ->"+tokType.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+tokType.PUSH_MODE+"<-which does not exist",type:LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[tokType]}}));return errors}(validTokenTypes,validModesNames)),errors=errors.concat(function findUnreachablePatterns(tokenTypes){var errors=[],canBeTested=(0,utils.u4)(tokenTypes,(function(result,tokType,idx){var pattern=tokType.PATTERN;return pattern===Lexer.NA||((0,utils.HD)(pattern)?result.push({str:pattern,idx,tokenType:tokType}):(0,utils.Kj)(pattern)&&function noMetaChar(regExp){var metaChars=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,utils.sE)(metaChars,(function(char){return-1!==regExp.source.indexOf(char)}))}(pattern)&&result.push({str:pattern.source,idx,tokenType:tokType})),result}),[]);return(0,utils.Ed)(tokenTypes,(function(tokType,testIdx){(0,utils.Ed)(canBeTested,(function(_a){var str=_a.str,idx=_a.idx,tokenType=_a.tokenType;if(testIdx<idx&&function testTokenType(str,pattern){if((0,utils.Kj)(pattern)){var regExpArray=pattern.exec(str);return null!==regExpArray&&0===regExpArray.index}if((0,utils.mf)(pattern))return pattern(str,0,[],{});if((0,utils.e$)(pattern,"exec"))return pattern.exec(str,0,[],{});if("string"==typeof pattern)return pattern===str;throw Error("non exhaustive match")}(str,tokType.PATTERN)){var msg="Token: ->"+tokenType.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+tokType.name+"<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE";errors.push({message:msg,type:LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[tokType,tokenType]})}}))})),errors}(validTokenTypes)),errors}var end_of_input=/[^\\][\$]/;var start_of_input=/[^\\[][\^]|^\^/;function addStartOfInput(pattern){var flags=pattern.ignoreCase?"i":"";return new RegExp("^(?:"+pattern.source+")",flags)}function addStickyFlag(pattern){var flags=pattern.ignoreCase?"iy":"y";return new RegExp(""+pattern.source,flags)}function performWarningRuntimeChecks(lexerDefinition,trackLines,lineTerminatorCharacters){var warnings=[],hasAnyLineBreak=!1,allTokenTypes=(0,utils.oA)((0,utils.xH)((0,utils.Q8)(lexerDefinition.modes,(function(tokTypes){return tokTypes})))),concreteTokenTypes=(0,utils.d1)(allTokenTypes,(function(currType){return currType[PATTERN]===Lexer.NA})),terminatorCharCodes=getCharCodes(lineTerminatorCharacters);return trackLines&&(0,utils.Ed)(concreteTokenTypes,(function(tokType){var currIssue=checkLineBreaksIssues(tokType,terminatorCharCodes);if(!1!==currIssue){var message=function buildLineBreakIssueMessage(tokType,details){if(details.issue===LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+tokType.name+"> Token Type\n\t Root cause: "+details.errMsg+".\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(details.issue===LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+tokType.name+"> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(tokType,currIssue),warningDescriptor={message,type:currIssue.issue,tokenType:tokType};warnings.push(warningDescriptor)}else(0,utils.e$)(tokType,"LINE_BREAKS")?!0===tokType.LINE_BREAKS&&(hasAnyLineBreak=!0):canMatchCharCode(terminatorCharCodes,tokType.PATTERN)&&(hasAnyLineBreak=!0)})),trackLines&&!hasAnyLineBreak&&warnings.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),warnings}function isCustomPattern(tokenType){var pattern=tokenType.PATTERN;if((0,utils.Kj)(pattern))return!1;if((0,utils.mf)(pattern))return!0;if((0,utils.e$)(pattern,"exec"))return!0;if((0,utils.HD)(pattern))return!1;throw Error("non exhaustive match")}function isShortPattern(pattern){return!(!(0,utils.HD)(pattern)||1!==pattern.length)&&pattern.charCodeAt(0)}var LineTerminatorOptimizedTester={test:function(text){for(var len=text.length,i=this.lastIndex;i<len;i++){var c=text.charCodeAt(i);if(10===c)return this.lastIndex=i+1,!0;if(13===c)return 10===text.charCodeAt(i+1)?this.lastIndex=i+2:this.lastIndex=i+1,!0}return!1},lastIndex:0};function checkLineBreaksIssues(tokType,lineTerminatorCharCodes){if((0,utils.e$)(tokType,"LINE_BREAKS"))return!1;if((0,utils.Kj)(tokType.PATTERN)){try{canMatchCharCode(lineTerminatorCharCodes,tokType.PATTERN)}catch(e){return{issue:LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if((0,utils.HD)(tokType.PATTERN))return!1;if(isCustomPattern(tokType))return{issue:LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function getCharCodes(charsOrCodes){return(0,utils.UI)(charsOrCodes,(function(numOrString){return(0,utils.HD)(numOrString)&&numOrString.length>0?numOrString.charCodeAt(0):numOrString}))}function addToMapOfArrays(map,key,value){void 0===map[key]?map[key]=[value]:map[key].push(value)}var minOptimizationVal=256;function charCodeToOptimizedIndex(charCode){return charCode<minOptimizationVal?charCode:charCodeToOptimizedIdxMap[charCode]}var charCodeToOptimizedIdxMap=[];function tokenStructuredMatcher(tokInstance,tokConstructor){var instanceType=tokInstance.tokenTypeIdx;return instanceType===tokConstructor.tokenTypeIdx||!0===tokConstructor.isParent&&!0===tokConstructor.categoryMatchesMap[instanceType]}function tokenStructuredMatcherNoCategories(token,tokType){return token.tokenTypeIdx===tokType.tokenTypeIdx}var tokenShortNameIdx=1,tokenIdxToClass={};function augmentTokenTypes(tokenTypes){var tokenTypesAndParents=function expandCategories(tokenTypes){var result=(0,utils.Qw)(tokenTypes),categories=tokenTypes,searching=!0;for(;searching;){categories=(0,utils.oA)((0,utils.xH)((0,utils.UI)(categories,(function(currTokType){return currTokType.CATEGORIES}))));var newCategories=(0,utils.e5)(categories,result);result=result.concat(newCategories),(0,utils.xb)(newCategories)?searching=!1:categories=newCategories}return result}(tokenTypes);!function assignTokenDefaultProps(tokenTypes){(0,utils.Ed)(tokenTypes,(function(currTokType){hasShortKeyProperty(currTokType)||(tokenIdxToClass[tokenShortNameIdx]=currTokType,currTokType.tokenTypeIdx=tokenShortNameIdx++),hasCategoriesProperty(currTokType)&&!(0,utils.kJ)(currTokType.CATEGORIES)&&(currTokType.CATEGORIES=[currTokType.CATEGORIES]),hasCategoriesProperty(currTokType)||(currTokType.CATEGORIES=[]),function hasExtendingTokensTypesProperty(tokType){return(0,utils.e$)(tokType,"categoryMatches")}(currTokType)||(currTokType.categoryMatches=[]),function hasExtendingTokensTypesMapProperty(tokType){return(0,utils.e$)(tokType,"categoryMatchesMap")}(currTokType)||(currTokType.categoryMatchesMap={})}))}(tokenTypesAndParents),function assignCategoriesMapProp(tokenTypes){(0,utils.Ed)(tokenTypes,(function(currTokType){singleAssignCategoriesToksMap([],currTokType)}))}(tokenTypesAndParents),function assignCategoriesTokensProp(tokenTypes){(0,utils.Ed)(tokenTypes,(function(currTokType){currTokType.categoryMatches=[],(0,utils.Ed)(currTokType.categoryMatchesMap,(function(val,key){currTokType.categoryMatches.push(tokenIdxToClass[key].tokenTypeIdx)}))}))}(tokenTypesAndParents),(0,utils.Ed)(tokenTypesAndParents,(function(tokType){tokType.isParent=tokType.categoryMatches.length>0}))}function singleAssignCategoriesToksMap(path,nextNode){(0,utils.Ed)(path,(function(pathNode){nextNode.categoryMatchesMap[pathNode.tokenTypeIdx]=!0})),(0,utils.Ed)(nextNode.CATEGORIES,(function(nextCategory){var newPath=path.concat(nextNode);(0,utils.r3)(newPath,nextCategory)||singleAssignCategoriesToksMap(newPath,nextCategory)}))}function hasShortKeyProperty(tokType){return(0,utils.e$)(tokType,"tokenTypeIdx")}function hasCategoriesProperty(tokType){return(0,utils.e$)(tokType,"CATEGORIES")}function isTokenType(tokType){return(0,utils.e$)(tokType,"tokenTypeIdx")}var LexerDefinitionErrorType,defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(token){return"Unable to pop Lexer Mode after encountering Token ->"+token.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(fullText,startOffset,length,line,column){return"unexpected character: ->"+fullText.charAt(startOffset)+"<- at offset: "+startOffset+", skipped "+length+" characters."}};!function(LexerDefinitionErrorType){LexerDefinitionErrorType[LexerDefinitionErrorType.MISSING_PATTERN=0]="MISSING_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_PATTERN=1]="INVALID_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",LexerDefinitionErrorType[LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",LexerDefinitionErrorType[LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",LexerDefinitionErrorType[LexerDefinitionErrorType.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",LexerDefinitionErrorType[LexerDefinitionErrorType.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",LexerDefinitionErrorType[LexerDefinitionErrorType.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",LexerDefinitionErrorType[LexerDefinitionErrorType.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",LexerDefinitionErrorType[LexerDefinitionErrorType.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(LexerDefinitionErrorType||(LexerDefinitionErrorType={}));var DEFAULT_LEXER_CONFIG={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(DEFAULT_LEXER_CONFIG);var Lexer=function(){function Lexer(lexerDefinition,config){var _this=this;if(void 0===config&&(config=DEFAULT_LEXER_CONFIG),this.lexerDefinition=lexerDefinition,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof config)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,utils.TS)(DEFAULT_LEXER_CONFIG,config);var traceInitVal=this.config.traceInitPerf;!0===traceInitVal?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof traceInitVal&&(this.traceInitMaxIdent=traceInitVal,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var actualDefinition,hasOnlySingleMode=!0;_this.TRACE_INIT("Lexer Config handling",(function(){if(_this.config.lineTerminatorsPattern===DEFAULT_LEXER_CONFIG.lineTerminatorsPattern)_this.config.lineTerminatorsPattern=LineTerminatorOptimizedTester;else if(_this.config.lineTerminatorCharacters===DEFAULT_LEXER_CONFIG.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(config.safeMode&&config.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');_this.trackStartLines=/full|onlyStart/i.test(_this.config.positionTracking),_this.trackEndLines=/full/i.test(_this.config.positionTracking),(0,utils.kJ)(lexerDefinition)?((actualDefinition={modes:{}}).modes.defaultMode=(0,utils.Qw)(lexerDefinition),actualDefinition.defaultMode="defaultMode"):(hasOnlySingleMode=!1,actualDefinition=(0,utils.Cl)(lexerDefinition))})),!1===_this.config.skipValidations&&(_this.TRACE_INIT("performRuntimeChecks",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(function performRuntimeChecks(lexerDefinition,trackLines,lineTerminatorCharacters){var errors=[];return(0,utils.e$)(lexerDefinition,"defaultMode")||errors.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,utils.e$)(lexerDefinition,"modes")||errors.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,utils.e$)(lexerDefinition,"modes")&&(0,utils.e$)(lexerDefinition,"defaultMode")&&!(0,utils.e$)(lexerDefinition.modes,lexerDefinition.defaultMode)&&errors.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+lexerDefinition.defaultMode+">which does not exist\n",type:LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,utils.e$)(lexerDefinition,"modes")&&(0,utils.Ed)(lexerDefinition.modes,(function(currModeValue,currModeName){(0,utils.Ed)(currModeValue,(function(currTokType,currIdx){(0,utils.o8)(currTokType)&&errors.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+currModeName+"> at index: <"+currIdx+">\n",type:LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),errors}(actualDefinition,_this.trackStartLines,_this.config.lineTerminatorCharacters))})),_this.TRACE_INIT("performWarningRuntimeChecks",(function(){_this.lexerDefinitionWarning=_this.lexerDefinitionWarning.concat(performWarningRuntimeChecks(actualDefinition,_this.trackStartLines,_this.config.lineTerminatorCharacters))}))),actualDefinition.modes=actualDefinition.modes?actualDefinition.modes:{},(0,utils.Ed)(actualDefinition.modes,(function(currModeValue,currModeName){actualDefinition.modes[currModeName]=(0,utils.d1)(currModeValue,(function(currTokType){return(0,utils.o8)(currTokType)}))}));var allModeNames=(0,utils.XP)(actualDefinition.modes);if((0,utils.Ed)(actualDefinition.modes,(function(currModDef,currModName){_this.TRACE_INIT("Mode: <"+currModName+"> processing",(function(){var currAnalyzeResult_1;(_this.modes.push(currModName),!1===_this.config.skipValidations&&_this.TRACE_INIT("validatePatterns",(function(){_this.lexerDefinitionErrors=_this.lexerDefinitionErrors.concat(validatePatterns(currModDef,allModeNames))})),(0,utils.xb)(_this.lexerDefinitionErrors))&&(augmentTokenTypes(currModDef),_this.TRACE_INIT("analyzeTokenTypes",(function(){currAnalyzeResult_1=analyzeTokenTypes(currModDef,{lineTerminatorCharacters:_this.config.lineTerminatorCharacters,positionTracking:config.positionTracking,ensureOptimizations:config.ensureOptimizations,safeMode:config.safeMode,tracer:_this.TRACE_INIT.bind(_this)})})),_this.patternIdxToConfig[currModName]=currAnalyzeResult_1.patternIdxToConfig,_this.charCodeToPatternIdxToConfig[currModName]=currAnalyzeResult_1.charCodeToPatternIdxToConfig,_this.emptyGroups=(0,utils.TS)(_this.emptyGroups,currAnalyzeResult_1.emptyGroups),_this.hasCustom=currAnalyzeResult_1.hasCustom||_this.hasCustom,_this.canModeBeOptimized[currModName]=currAnalyzeResult_1.canBeOptimized)}))})),_this.defaultMode=actualDefinition.defaultMode,!(0,utils.xb)(_this.lexerDefinitionErrors)&&!_this.config.deferDefinitionErrorsHandling){var allErrMessagesString=(0,utils.UI)(_this.lexerDefinitionErrors,(function(error){return error.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+allErrMessagesString)}(0,utils.Ed)(_this.lexerDefinitionWarning,(function(warningDescriptor){(0,utils.rr)(warningDescriptor.message)})),_this.TRACE_INIT("Choosing sub-methods implementations",(function(){if(SUPPORT_STICKY?(_this.chopInput=utils.Wd,_this.match=_this.matchWithTest):(_this.updateLastIndex=utils.dG,_this.match=_this.matchWithExec),hasOnlySingleMode&&(_this.handleModes=utils.dG),!1===_this.trackStartLines&&(_this.computeNewColumn=utils.Wd),!1===_this.trackEndLines&&(_this.updateTokenEndLineColumnLocation=utils.dG),/full/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createFullToken;else if(/onlyStart/i.test(_this.config.positionTracking))_this.createTokenInstance=_this.createStartOnlyToken;else{if(!/onlyOffset/i.test(_this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+_this.config.positionTracking+'"');_this.createTokenInstance=_this.createOffsetOnlyToken}_this.hasCustom?(_this.addToken=_this.addTokenUsingPush,_this.handlePayload=_this.handlePayloadWithCustom):(_this.addToken=_this.addTokenUsingMemberAccess,_this.handlePayload=_this.handlePayloadNoCustom)})),_this.TRACE_INIT("Failed Optimization Warnings",(function(){var unOptimizedModes=(0,utils.u4)(_this.canModeBeOptimized,(function(cannotBeOptimized,canBeOptimized,modeName){return!1===canBeOptimized&&cannotBeOptimized.push(modeName),cannotBeOptimized}),[]);if(config.ensureOptimizations&&!(0,utils.xb)(unOptimizedModes))throw Error("Lexer Modes: < "+unOptimizedModes.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),_this.TRACE_INIT("clearRegExpParserCache",(function(){!function clearRegExpParserCache(){regExpAstCache={}}()})),_this.TRACE_INIT("toFastProperties",(function(){(0,utils.SV)(_this)}))}))}return Lexer.prototype.tokenize=function(text,initialMode){if(void 0===initialMode&&(initialMode=this.defaultMode),!(0,utils.xb)(this.lexerDefinitionErrors)){var allErrMessagesString=(0,utils.UI)(this.lexerDefinitionErrors,(function(error){return error.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+allErrMessagesString)}return this.tokenizeInternal(text,initialMode)},Lexer.prototype.tokenizeInternal=function(text,initialMode){var i,j,matchAltImage,longerAltIdx,matchedImage,payload,altPayload,imageLength,group,tokType,newToken,errLength,msg,match,_this=this,orgText=text,orgLength=orgText.length,offset=0,matchedTokensIndex=0,guessedNumberOfTokens=this.hasCustom?0:Math.floor(text.length/10),matchedTokens=new Array(guessedNumberOfTokens),errors=[],line=this.trackStartLines?1:void 0,column=this.trackStartLines?1:void 0,groups=function cloneEmptyGroups(emptyGroups){var clonedResult={},groupKeys=(0,utils.XP)(emptyGroups);return(0,utils.Ed)(groupKeys,(function(currKey){var currGroupValue=emptyGroups[currKey];if(!(0,utils.kJ)(currGroupValue))throw Error("non exhaustive match");clonedResult[currKey]=[]})),clonedResult}(this.emptyGroups),trackLines=this.trackStartLines,lineTerminatorPattern=this.config.lineTerminatorsPattern,currModePatternsLength=0,patternIdxToConfig=[],currCharCodeToPatternIdxToConfig=[],modeStack=[],emptyArray=[];Object.freeze(emptyArray);var getPossiblePatterns=void 0;function getPossiblePatternsSlow(){return patternIdxToConfig}function getPossiblePatternsOptimized(charCode){var optimizedCharIdx=charCodeToOptimizedIndex(charCode),possiblePatterns=currCharCodeToPatternIdxToConfig[optimizedCharIdx];return void 0===possiblePatterns?emptyArray:possiblePatterns}var currConfig,pop_mode=function(popToken){if(1===modeStack.length&&void 0===popToken.tokenType.PUSH_MODE){var msg_1=_this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(popToken);errors.push({offset:popToken.startOffset,line:void 0!==popToken.startLine?popToken.startLine:void 0,column:void 0!==popToken.startColumn?popToken.startColumn:void 0,length:popToken.image.length,message:msg_1})}else{modeStack.pop();var newMode=(0,utils.Z$)(modeStack);patternIdxToConfig=_this.patternIdxToConfig[newMode],currCharCodeToPatternIdxToConfig=_this.charCodeToPatternIdxToConfig[newMode],currModePatternsLength=patternIdxToConfig.length;var modeCanBeOptimized=_this.canModeBeOptimized[newMode]&&!1===_this.config.safeMode;getPossiblePatterns=currCharCodeToPatternIdxToConfig&&modeCanBeOptimized?getPossiblePatternsOptimized:getPossiblePatternsSlow}};function push_mode(newMode){modeStack.push(newMode),currCharCodeToPatternIdxToConfig=this.charCodeToPatternIdxToConfig[newMode],patternIdxToConfig=this.patternIdxToConfig[newMode],currModePatternsLength=patternIdxToConfig.length,currModePatternsLength=patternIdxToConfig.length;var modeCanBeOptimized=this.canModeBeOptimized[newMode]&&!1===this.config.safeMode;getPossiblePatterns=currCharCodeToPatternIdxToConfig&&modeCanBeOptimized?getPossiblePatternsOptimized:getPossiblePatternsSlow}for(push_mode.call(this,initialMode);offset<orgLength;){matchedImage=null;var nextCharCode=orgText.charCodeAt(offset),chosenPatternIdxToConfig=getPossiblePatterns(nextCharCode),chosenPatternsLength=chosenPatternIdxToConfig.length;for(i=0;i<chosenPatternsLength;i++){var currPattern=(currConfig=chosenPatternIdxToConfig[i]).pattern;if(payload=null,!1!==(singleCharCode=currConfig.short)?nextCharCode===singleCharCode&&(matchedImage=currPattern):!0===currConfig.isCustom?null!==(match=currPattern.exec(orgText,offset,matchedTokens,groups))?(matchedImage=match[0],void 0!==match.payload&&(payload=match.payload)):matchedImage=null:(this.updateLastIndex(currPattern,offset),matchedImage=this.match(currPattern,text,offset)),null!==matchedImage){if(void 0!==(longerAltIdx=currConfig.longerAlt)){var longerAltConfig=patternIdxToConfig[longerAltIdx],longerAltPattern=longerAltConfig.pattern;altPayload=null,!0===longerAltConfig.isCustom?null!==(match=longerAltPattern.exec(orgText,offset,matchedTokens,groups))?(matchAltImage=match[0],void 0!==match.payload&&(altPayload=match.payload)):matchAltImage=null:(this.updateLastIndex(longerAltPattern,offset),matchAltImage=this.match(longerAltPattern,text,offset)),matchAltImage&&matchAltImage.length>matchedImage.length&&(matchedImage=matchAltImage,payload=altPayload,currConfig=longerAltConfig)}break}}if(null!==matchedImage){if(imageLength=matchedImage.length,void 0!==(group=currConfig.group)&&(tokType=currConfig.tokenTypeIdx,newToken=this.createTokenInstance(matchedImage,offset,tokType,currConfig.tokenType,line,column,imageLength),this.handlePayload(newToken,payload),!1===group?matchedTokensIndex=this.addToken(matchedTokens,matchedTokensIndex,newToken):groups[group].push(newToken)),text=this.chopInput(text,imageLength),offset+=imageLength,column=this.computeNewColumn(column,imageLength),!0===trackLines&&!0===currConfig.canLineTerminator){var numOfLTsInMatch=0,foundTerminator=void 0,lastLTEndOffset=void 0;lineTerminatorPattern.lastIndex=0;do{!0===(foundTerminator=lineTerminatorPattern.test(matchedImage))&&(lastLTEndOffset=lineTerminatorPattern.lastIndex-1,numOfLTsInMatch++)}while(!0===foundTerminator);0!==numOfLTsInMatch&&(line+=numOfLTsInMatch,column=imageLength-lastLTEndOffset,this.updateTokenEndLineColumnLocation(newToken,group,lastLTEndOffset,numOfLTsInMatch,line,column,imageLength))}this.handleModes(currConfig,pop_mode,push_mode,newToken)}else{for(var errorStartOffset=offset,errorLine=line,errorColumn=column,foundResyncPoint=!1;!foundResyncPoint&&offset<orgLength;)for(orgText.charCodeAt(offset),text=this.chopInput(text,1),offset++,j=0;j<currModePatternsLength;j++){var singleCharCode,currConfig_1=patternIdxToConfig[j];currPattern=currConfig_1.pattern;if(!1!==(singleCharCode=currConfig_1.short)?orgText.charCodeAt(offset)===singleCharCode&&(foundResyncPoint=!0):!0===currConfig_1.isCustom?foundResyncPoint=null!==currPattern.exec(orgText,offset,matchedTokens,groups):(this.updateLastIndex(currPattern,offset),foundResyncPoint=null!==currPattern.exec(text)),!0===foundResyncPoint)break}errLength=offset-errorStartOffset,msg=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(orgText,errorStartOffset,errLength,errorLine,errorColumn),errors.push({offset:errorStartOffset,line:errorLine,column:errorColumn,length:errLength,message:msg})}}return this.hasCustom||(matchedTokens.length=matchedTokensIndex),{tokens:matchedTokens,groups,errors}},Lexer.prototype.handleModes=function(config,pop_mode,push_mode,newToken){if(!0===config.pop){var pushMode=config.push;pop_mode(newToken),void 0!==pushMode&&push_mode.call(this,pushMode)}else void 0!==config.push&&push_mode.call(this,config.push)},Lexer.prototype.chopInput=function(text,length){return text.substring(length)},Lexer.prototype.updateLastIndex=function(regExp,newLastIndex){regExp.lastIndex=newLastIndex},Lexer.prototype.updateTokenEndLineColumnLocation=function(newToken,group,lastLTIdx,numOfLTsInMatch,line,column,imageLength){var lastCharIsLT,fixForEndingInLT;void 0!==group&&(fixForEndingInLT=(lastCharIsLT=lastLTIdx===imageLength-1)?-1:0,1===numOfLTsInMatch&&!0===lastCharIsLT||(newToken.endLine=line+fixForEndingInLT,newToken.endColumn=column-1-fixForEndingInLT))},Lexer.prototype.computeNewColumn=function(oldColumn,imageLength){return oldColumn+imageLength},Lexer.prototype.createTokenInstance=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null},Lexer.prototype.createOffsetOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType){return{image,startOffset,tokenTypeIdx,tokenType}},Lexer.prototype.createStartOnlyToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn){return{image,startOffset,startLine,startColumn,tokenTypeIdx,tokenType}},Lexer.prototype.createFullToken=function(image,startOffset,tokenTypeIdx,tokenType,startLine,startColumn,imageLength){return{image,startOffset,endOffset:startOffset+imageLength-1,startLine,endLine:startLine,startColumn,endColumn:startColumn+imageLength-1,tokenTypeIdx,tokenType}},Lexer.prototype.addToken=function(tokenVector,index,tokenToAdd){return 666},Lexer.prototype.addTokenUsingPush=function(tokenVector,index,tokenToAdd){return tokenVector.push(tokenToAdd),index},Lexer.prototype.addTokenUsingMemberAccess=function(tokenVector,index,tokenToAdd){return tokenVector[index]=tokenToAdd,++index},Lexer.prototype.handlePayload=function(token,payload){},Lexer.prototype.handlePayloadNoCustom=function(token,payload){},Lexer.prototype.handlePayloadWithCustom=function(token,payload){null!==payload&&(token.payload=payload)},Lexer.prototype.match=function(pattern,text,offset){return null},Lexer.prototype.matchWithTest=function(pattern,text,offset){return!0===pattern.test(text)?text.substring(offset,pattern.lastIndex):null},Lexer.prototype.matchWithExec=function(pattern,text){var regExpArray=pattern.exec(text);return null!==regExpArray?regExpArray[0]:regExpArray},Lexer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+"--\x3e <"+phaseDesc+">");var _a=(0,utils.HT)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+"<-- <"+phaseDesc+"> time: "+time+"ms"),this.traceInitIndent--,value}return phaseImpl()},Lexer.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Lexer.NA=/NOT_APPLICABLE/,Lexer}();function tokenLabel(tokType){return hasTokenLabel(tokType)?tokType.LABEL:tokType.name}function tokenName(tokType){return tokType.name}function hasTokenLabel(obj){return(0,utils.HD)(obj.LABEL)&&""!==obj.LABEL}var PARENT="parent",CATEGORIES="categories",LABEL="label",GROUP="group",PUSH_MODE="push_mode",POP_MODE="pop_mode",LONGER_ALT="longer_alt",LINE_BREAKS="line_breaks",START_CHARS_HINT="start_chars_hint";function createToken(config){return function createTokenInternal(config){var pattern=config.pattern,tokenType={};tokenType.name=config.name,(0,utils.o8)(pattern)||(tokenType.PATTERN=pattern);if((0,utils.e$)(config,PARENT))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";(0,utils.e$)(config,CATEGORIES)&&(tokenType.CATEGORIES=config[CATEGORIES]);augmentTokenTypes([tokenType]),(0,utils.e$)(config,LABEL)&&(tokenType.LABEL=config[LABEL]);(0,utils.e$)(config,GROUP)&&(tokenType.GROUP=config[GROUP]);(0,utils.e$)(config,POP_MODE)&&(tokenType.POP_MODE=config[POP_MODE]);(0,utils.e$)(config,PUSH_MODE)&&(tokenType.PUSH_MODE=config[PUSH_MODE]);(0,utils.e$)(config,LONGER_ALT)&&(tokenType.LONGER_ALT=config[LONGER_ALT]);(0,utils.e$)(config,LINE_BREAKS)&&(tokenType.LINE_BREAKS=config[LINE_BREAKS]);(0,utils.e$)(config,START_CHARS_HINT)&&(tokenType.START_CHARS_HINT=config[START_CHARS_HINT]);return tokenType}(config)}var EOF=createToken({name:"EOF",pattern:Lexer.NA});function createTokenInstance(tokType,image,startOffset,endOffset,startLine,endLine,startColumn,endColumn){return{image,startOffset,endOffset,startLine,endLine,startColumn,endColumn,tokenTypeIdx:tokType.tokenTypeIdx,tokenType:tokType}}function tokenMatcher(token,tokType){return tokenStructuredMatcher(token,tokType)}augmentTokenTypes([EOF]);var gast_public_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AbstractProduction=function(){function AbstractProduction(_definition){this._definition=_definition}return Object.defineProperty(AbstractProduction.prototype,"definition",{get:function(){return this._definition},set:function(value){this._definition=value},enumerable:!1,configurable:!0}),AbstractProduction.prototype.accept=function(visitor){visitor.visit(this),(0,utils.Ed)(this.definition,(function(prod){prod.accept(visitor)}))},AbstractProduction}(),NonTerminal=function(_super){function NonTerminal(options){var _this=_super.call(this,[])||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(NonTerminal,_super),Object.defineProperty(NonTerminal.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(definition){},enumerable:!1,configurable:!0}),NonTerminal.prototype.accept=function(visitor){visitor.visit(this)},NonTerminal}(AbstractProduction),Rule=function(_super){function Rule(options){var _this=_super.call(this,options.definition)||this;return _this.orgText="",(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Rule,_super),Rule}(AbstractProduction),Alternative=function(_super){function Alternative(options){var _this=_super.call(this,options.definition)||this;return _this.ignoreAmbiguities=!1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Alternative,_super),Alternative}(AbstractProduction),Option=function(_super){function Option(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Option,_super),Option}(AbstractProduction),RepetitionMandatory=function(_super){function RepetitionMandatory(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionMandatory,_super),RepetitionMandatory}(AbstractProduction),RepetitionMandatoryWithSeparator=function(_super){function RepetitionMandatoryWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionMandatoryWithSeparator,_super),RepetitionMandatoryWithSeparator}(AbstractProduction),Repetition=function(_super){function Repetition(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Repetition,_super),Repetition}(AbstractProduction),RepetitionWithSeparator=function(_super){function RepetitionWithSeparator(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(RepetitionWithSeparator,_super),RepetitionWithSeparator}(AbstractProduction),Alternation=function(_super){function Alternation(options){var _this=_super.call(this,options.definition)||this;return _this.idx=1,_this.ignoreAmbiguities=!1,_this.hasPredicates=!1,(0,utils.f0)(_this,(0,utils.ei)(options,(function(v){return void 0!==v}))),_this}return gast_public_extends(Alternation,_super),Object.defineProperty(Alternation.prototype,"definition",{get:function(){return this._definition},set:function(value){this._definition=value},enumerable:!1,configurable:!0}),Alternation}(AbstractProduction),Terminal=function(){function Terminal(options){this.idx=1,(0,utils.f0)(this,(0,utils.ei)(options,(function(v){return void 0!==v})))}return Terminal.prototype.accept=function(visitor){visitor.visit(this)},Terminal}();function serializeGrammar(topRules){return(0,utils.UI)(topRules,serializeProduction)}function serializeProduction(node){function convertDefinition(definition){return(0,utils.UI)(definition,serializeProduction)}if(node instanceof NonTerminal)return{type:"NonTerminal",name:node.nonTerminalName,idx:node.idx};if(node instanceof Alternative)return{type:"Alternative",definition:convertDefinition(node.definition)};if(node instanceof Option)return{type:"Option",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof RepetitionMandatory)return{type:"RepetitionMandatory",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof RepetitionMandatoryWithSeparator)return{type:"RepetitionMandatoryWithSeparator",idx:node.idx,separator:serializeProduction(new Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof RepetitionWithSeparator)return{type:"RepetitionWithSeparator",idx:node.idx,separator:serializeProduction(new Terminal({terminalType:node.separator})),definition:convertDefinition(node.definition)};if(node instanceof Repetition)return{type:"Repetition",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof Alternation)return{type:"Alternation",idx:node.idx,definition:convertDefinition(node.definition)};if(node instanceof Terminal){var serializedTerminal={type:"Terminal",name:node.terminalType.name,label:tokenLabel(node.terminalType),idx:node.idx},pattern=node.terminalType.PATTERN;return node.terminalType.PATTERN&&(serializedTerminal.pattern=(0,utils.Kj)(pattern)?pattern.source:pattern),serializedTerminal}if(node instanceof Rule)return{type:"Rule",name:node.name,orgText:node.orgText,definition:convertDefinition(node.definition)};throw Error("non exhaustive match")}var RestWalker=function(){function RestWalker(){}return RestWalker.prototype.walk=function(prod,prevRest){var _this=this;void 0===prevRest&&(prevRest=[]),(0,utils.Ed)(prod.definition,(function(subProd,index){var currRest=(0,utils.Cw)(prod.definition,index+1);if(subProd instanceof NonTerminal)_this.walkProdRef(subProd,currRest,prevRest);else if(subProd instanceof Terminal)_this.walkTerminal(subProd,currRest,prevRest);else if(subProd instanceof Alternative)_this.walkFlat(subProd,currRest,prevRest);else if(subProd instanceof Option)_this.walkOption(subProd,currRest,prevRest);else if(subProd instanceof RepetitionMandatory)_this.walkAtLeastOne(subProd,currRest,prevRest);else if(subProd instanceof RepetitionMandatoryWithSeparator)_this.walkAtLeastOneSep(subProd,currRest,prevRest);else if(subProd instanceof RepetitionWithSeparator)_this.walkManySep(subProd,currRest,prevRest);else if(subProd instanceof Repetition)_this.walkMany(subProd,currRest,prevRest);else{if(!(subProd instanceof Alternation))throw Error("non exhaustive match");_this.walkOr(subProd,currRest,prevRest)}}))},RestWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},RestWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){},RestWalker.prototype.walkFlat=function(flatProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(flatProd,fullOrRest)},RestWalker.prototype.walkOption=function(optionProd,currRest,prevRest){var fullOrRest=currRest.concat(prevRest);this.walk(optionProd,fullOrRest)},RestWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){var fullAtLeastOneRest=[new Option({definition:atLeastOneProd.definition})].concat(currRest,prevRest);this.walk(atLeastOneProd,fullAtLeastOneRest)},RestWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){var fullAtLeastOneSepRest=restForRepetitionWithSeparator(atLeastOneSepProd,currRest,prevRest);this.walk(atLeastOneSepProd,fullAtLeastOneSepRest)},RestWalker.prototype.walkMany=function(manyProd,currRest,prevRest){var fullManyRest=[new Option({definition:manyProd.definition})].concat(currRest,prevRest);this.walk(manyProd,fullManyRest)},RestWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){var fullManySepRest=restForRepetitionWithSeparator(manySepProd,currRest,prevRest);this.walk(manySepProd,fullManySepRest)},RestWalker.prototype.walkOr=function(orProd,currRest,prevRest){var _this=this,fullOrRest=currRest.concat(prevRest);(0,utils.Ed)(orProd.definition,(function(alt){var prodWrapper=new Alternative({definition:[alt]});_this.walk(prodWrapper,fullOrRest)}))},RestWalker}();function restForRepetitionWithSeparator(repSepProd,currRest,prevRest){return[new Option({definition:[new Terminal({terminalType:repSepProd.separator})].concat(repSepProd.definition)})].concat(currRest,prevRest)}var GAstVisitor=function(){function GAstVisitor(){}return GAstVisitor.prototype.visit=function(node){var nodeAny=node;switch(nodeAny.constructor){case NonTerminal:return this.visitNonTerminal(nodeAny);case Alternative:return this.visitAlternative(nodeAny);case Option:return this.visitOption(nodeAny);case RepetitionMandatory:return this.visitRepetitionMandatory(nodeAny);case RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(nodeAny);case RepetitionWithSeparator:return this.visitRepetitionWithSeparator(nodeAny);case Repetition:return this.visitRepetition(nodeAny);case Alternation:return this.visitAlternation(nodeAny);case Terminal:return this.visitTerminal(nodeAny);case Rule:return this.visitRule(nodeAny);default:throw Error("non exhaustive match")}},GAstVisitor.prototype.visitNonTerminal=function(node){},GAstVisitor.prototype.visitAlternative=function(node){},GAstVisitor.prototype.visitOption=function(node){},GAstVisitor.prototype.visitRepetition=function(node){},GAstVisitor.prototype.visitRepetitionMandatory=function(node){},GAstVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){},GAstVisitor.prototype.visitRepetitionWithSeparator=function(node){},GAstVisitor.prototype.visitAlternation=function(node){},GAstVisitor.prototype.visitTerminal=function(node){},GAstVisitor.prototype.visitRule=function(node){},GAstVisitor}(),gast_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();function isOptionalProd(prod,alreadyVisited){return void 0===alreadyVisited&&(alreadyVisited=[]),!!(prod instanceof Option||prod instanceof Repetition||prod instanceof RepetitionWithSeparator)||(prod instanceof Alternation?(0,utils.G)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)})):!(prod instanceof NonTerminal&&(0,utils.r3)(alreadyVisited,prod))&&(prod instanceof AbstractProduction&&(prod instanceof NonTerminal&&alreadyVisited.push(prod),(0,utils.yW)(prod.definition,(function(subProd){return isOptionalProd(subProd,alreadyVisited)})))))}function getProductionDslName(prod){if(prod instanceof NonTerminal)return"SUBRULE";if(prod instanceof Option)return"OPTION";if(prod instanceof Alternation)return"OR";if(prod instanceof RepetitionMandatory)return"AT_LEAST_ONE";if(prod instanceof RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(prod instanceof RepetitionWithSeparator)return"MANY_SEP";if(prod instanceof Repetition)return"MANY";if(prod instanceof Terminal)return"CONSUME";throw Error("non exhaustive match")}var DslMethodsCollectorVisitor=function(_super){function DslMethodsCollectorVisitor(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.separator="-",_this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},_this}return gast_extends(DslMethodsCollectorVisitor,_super),DslMethodsCollectorVisitor.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},DslMethodsCollectorVisitor.prototype.visitTerminal=function(terminal){var key=terminal.terminalType.name+this.separator+"Terminal";(0,utils.e$)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(terminal)},DslMethodsCollectorVisitor.prototype.visitNonTerminal=function(subrule){var key=subrule.nonTerminalName+this.separator+"Terminal";(0,utils.e$)(this.dslMethods,key)||(this.dslMethods[key]=[]),this.dslMethods[key].push(subrule)},DslMethodsCollectorVisitor.prototype.visitOption=function(option){this.dslMethods.option.push(option)},DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator=function(manySep){this.dslMethods.repetitionWithSeparator.push(manySep)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory=function(atLeastOne){this.dslMethods.repetitionMandatory.push(atLeastOne)},DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep)},DslMethodsCollectorVisitor.prototype.visitRepetition=function(many){this.dslMethods.repetition.push(many)},DslMethodsCollectorVisitor.prototype.visitAlternation=function(or){this.dslMethods.alternation.push(or)},DslMethodsCollectorVisitor}(GAstVisitor),collectorVisitor=new DslMethodsCollectorVisitor;function first(prod){if(prod instanceof NonTerminal)return first(prod.referencedRule);if(prod instanceof Terminal)return function firstForTerminal(terminal){return[terminal.terminalType]}(prod);if(function isSequenceProd(prod){return prod instanceof Alternative||prod instanceof Option||prod instanceof Repetition||prod instanceof RepetitionMandatory||prod instanceof RepetitionMandatoryWithSeparator||prod instanceof RepetitionWithSeparator||prod instanceof Terminal||prod instanceof Rule}(prod))return function firstForSequence(prod){var currSubProd,firstSet=[],seq=prod.definition,nextSubProdIdx=0,hasInnerProdsRemaining=seq.length>nextSubProdIdx,isLastInnerProdOptional=!0;for(;hasInnerProdsRemaining&&isLastInnerProdOptional;)isLastInnerProdOptional=isOptionalProd(currSubProd=seq[nextSubProdIdx]),firstSet=firstSet.concat(first(currSubProd)),nextSubProdIdx+=1,hasInnerProdsRemaining=seq.length>nextSubProdIdx;return(0,utils.jj)(firstSet)}(prod);if(function isBranchingProd(prod){return prod instanceof Alternation}(prod))return function firstForBranching(prod){var allAlternativesFirsts=(0,utils.UI)(prod.definition,(function(innerProd){return first(innerProd)}));return(0,utils.jj)((0,utils.xH)(allAlternativesFirsts))}(prod);throw Error("non exhaustive match")}var constants_IN="_~IN~_",follow_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),ResyncFollowsWalker=function(_super){function ResyncFollowsWalker(topProd){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.follows={},_this}return follow_extends(ResyncFollowsWalker,_super),ResyncFollowsWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},ResyncFollowsWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){},ResyncFollowsWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){var followName=function buildBetweenProdsFollowPrefix(inner,occurenceInParent){return inner.name+occurenceInParent+constants_IN}(refProd.referencedRule,refProd.idx)+this.topProd.name,fullRest=currRest.concat(prevRest),t_in_topProd_follows=first(new Alternative({definition:fullRest}));this.follows[followName]=t_in_topProd_follows},ResyncFollowsWalker}(RestWalker);var defaultParserErrorProvider={buildMismatchTokenMessage:function(_a){var expected=_a.expected,actual=_a.actual;_a.previous,_a.ruleName;return"Expecting "+(hasTokenLabel(expected)?"--\x3e "+tokenLabel(expected)+" <--":"token of type --\x3e "+expected.name+" <--")+" but found --\x3e '"+actual.image+"' <--"},buildNotAllInputParsedMessage:function(_a){var firstRedundant=_a.firstRedundant;_a.ruleName;return"Redundant input, expecting EOF but found: "+firstRedundant.image},buildNoViableAltMessage:function(_a){var expectedPathsPerAlt=_a.expectedPathsPerAlt,actual=_a.actual,customUserDescription=(_a.previous,_a.customUserDescription),errSuffix=(_a.ruleName,"\nbut found: '"+(0,utils.Ps)(actual).image+"'");if(customUserDescription)return"Expecting: "+customUserDescription+errSuffix;var allLookAheadPaths=(0,utils.u4)(expectedPathsPerAlt,(function(result,currAltPaths){return result.concat(currAltPaths)}),[]),nextValidTokenSequences=(0,utils.UI)(allLookAheadPaths,(function(currPath){return"["+(0,utils.UI)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+(0,utils.UI)(nextValidTokenSequences,(function(itemMsg,idx){return"  "+(idx+1)+". "+itemMsg})).join("\n"))+errSuffix},buildEarlyExitMessage:function(_a){var expectedIterationPaths=_a.expectedIterationPaths,actual=_a.actual,customUserDescription=_a.customUserDescription,errSuffix=(_a.ruleName,"\nbut found: '"+(0,utils.Ps)(actual).image+"'");return customUserDescription?"Expecting: "+customUserDescription+errSuffix:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+(0,utils.UI)(expectedIterationPaths,(function(currPath){return"["+(0,utils.UI)(currPath,(function(currTokenType){return tokenLabel(currTokenType)})).join(",")+"]"})).join(" ,")+">")+errSuffix}};Object.freeze(defaultParserErrorProvider);var defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(topLevelRule,undefinedRule){return"Invalid grammar, reference to a rule which is not defined: ->"+undefinedRule.nonTerminalName+"<-\ninside top level rule: ->"+topLevelRule.name+"<-"}},defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(topLevelRule,duplicateProds){var topLevelName=topLevelRule.name,duplicateProd=(0,utils.Ps)(duplicateProds),index=duplicateProd.idx,dslName=getProductionDslName(duplicateProd),extraArgument=function getExtraProductionArgument(prod){return prod instanceof Terminal?prod.terminalType.name:prod instanceof NonTerminal?prod.nonTerminalName:""}(duplicateProd),msg="->"+dslName+(index>0?index:"")+"<- "+(extraArgument?"with argument: ->"+extraArgument+"<-":"")+"\n                  appears more than once ("+duplicateProds.length+" times) in the top level rule: ->"+topLevelName+"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return msg=(msg=msg.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(rule){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+rule.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(options){var pathMsg=(0,utils.UI)(options.prefixPath,(function(currTok){return tokenLabel(currTok)})).join(", "),occurrence=0===options.alternation.idx?"":options.alternation.idx;return"Ambiguous alternatives: <"+options.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+occurrence+"> inside <"+options.topLevelRule.name+"> Rule,\n<"+pathMsg+"> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(options){var pathMsg=(0,utils.UI)(options.prefixPath,(function(currtok){return tokenLabel(currtok)})).join(", "),occurrence=0===options.alternation.idx?"":options.alternation.idx,currMessage="Ambiguous Alternatives Detected: <"+options.ambiguityIndices.join(" ,")+"> in <OR"+occurrence+"> inside <"+options.topLevelRule.name+"> Rule,\n<"+pathMsg+"> may appears as a prefix path in all these alternatives.\n";return currMessage+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(options){var dslName=getProductionDslName(options.repetition);return 0!==options.repetition.idx&&(dslName+=options.repetition.idx),"The repetition <"+dslName+"> within Rule <"+options.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(options){return"deprecated"},buildEmptyAlternationError:function(options){return"Ambiguous empty alternative: <"+(options.emptyChoiceIdx+1)+"> in <OR"+options.alternation.idx+"> inside <"+options.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(options){return"An Alternation cannot have more than 256 alternatives:\n<OR"+options.alternation.idx+"> inside <"+options.topLevelRule.name+"> Rule.\n has "+(options.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(options){var ruleName=options.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+ruleName+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(ruleName+" --\x3e "+utils.UI(options.leftRecursionPath,(function(currRule){return currRule.name})).concat([ruleName]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(options){return"deprecated"},buildDuplicateRuleNameError:function(options){return"Duplicate definition, rule: ->"+(options.topLevelRule instanceof Rule?options.topLevelRule.name:options.topLevelRule)+"<- is already defined in the grammar: ->"+options.grammarName+"<-"}},resolver_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();var GastRefResolverVisitor=function(_super){function GastRefResolverVisitor(nameToTopRule,errMsgProvider){var _this=_super.call(this)||this;return _this.nameToTopRule=nameToTopRule,_this.errMsgProvider=errMsgProvider,_this.errors=[],_this}return resolver_extends(GastRefResolverVisitor,_super),GastRefResolverVisitor.prototype.resolveRefs=function(){var _this=this;(0,utils.Ed)((0,utils.VO)(this.nameToTopRule),(function(prod){_this.currTopLevel=prod,prod.accept(_this)}))},GastRefResolverVisitor.prototype.visitNonTerminal=function(node){var ref=this.nameToTopRule[node.nonTerminalName];if(ref)node.referencedRule=ref;else{var msg=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,node);this.errors.push({message:msg,type:ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:node.nonTerminalName})}},GastRefResolverVisitor}(GAstVisitor),interpreter_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),NextAfterTokenWalker=function(_super){function NextAfterTokenWalker(topProd,path){var _this=_super.call(this,topProd,path)||this;return _this.path=path,_this.nextTerminalName="",_this.nextTerminalOccurrence=0,_this.nextTerminalName=_this.path.lastTok.name,_this.nextTerminalOccurrence=_this.path.lastTokOccurrence,_this}return interpreter_extends(NextAfterTokenWalker,_super),NextAfterTokenWalker.prototype.walkTerminal=function(terminal,currRest,prevRest){if(this.isAtEndOfPath&&terminal.terminalType.name===this.nextTerminalName&&terminal.idx===this.nextTerminalOccurrence&&!this.found){var fullRest=currRest.concat(prevRest),restProd=new Alternative({definition:fullRest});this.possibleTokTypes=first(restProd),this.found=!0}},NextAfterTokenWalker}(function(_super){function AbstractNextPossibleTokensWalker(topProd,path){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.path=path,_this.possibleTokTypes=[],_this.nextProductionName="",_this.nextProductionOccurrence=0,_this.found=!1,_this.isAtEndOfPath=!1,_this}return interpreter_extends(AbstractNextPossibleTokensWalker,_super),AbstractNextPossibleTokensWalker.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,utils.Qw)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,utils.Qw)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},AbstractNextPossibleTokensWalker.prototype.walk=function(prod,prevRest){void 0===prevRest&&(prevRest=[]),this.found||_super.prototype.walk.call(this,prod,prevRest)},AbstractNextPossibleTokensWalker.prototype.walkProdRef=function(refProd,currRest,prevRest){if(refProd.referencedRule.name===this.nextProductionName&&refProd.idx===this.nextProductionOccurrence){var fullRest=currRest.concat(prevRest);this.updateExpectedNext(),this.walk(refProd.referencedRule,fullRest)}},AbstractNextPossibleTokensWalker.prototype.updateExpectedNext=function(){(0,utils.xb)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},AbstractNextPossibleTokensWalker}(RestWalker)),AbstractNextTerminalAfterProductionWalker=function(_super){function AbstractNextTerminalAfterProductionWalker(topRule,occurrence){var _this=_super.call(this)||this;return _this.topRule=topRule,_this.occurrence=occurrence,_this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},_this}return interpreter_extends(AbstractNextTerminalAfterProductionWalker,_super),AbstractNextTerminalAfterProductionWalker.prototype.startWalking=function(){return this.walk(this.topRule),this.result},AbstractNextTerminalAfterProductionWalker}(RestWalker),NextTerminalAfterManyWalker=function(_super){function NextTerminalAfterManyWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterManyWalker,_super),NextTerminalAfterManyWalker.prototype.walkMany=function(manyProd,currRest,prevRest){if(manyProd.idx===this.occurrence){var firstAfterMany=(0,utils.Ps)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterMany,firstAfterMany instanceof Terminal&&(this.result.token=firstAfterMany.terminalType,this.result.occurrence=firstAfterMany.idx)}else _super.prototype.walkMany.call(this,manyProd,currRest,prevRest)},NextTerminalAfterManyWalker}(AbstractNextTerminalAfterProductionWalker),NextTerminalAfterManySepWalker=function(_super){function NextTerminalAfterManySepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterManySepWalker,_super),NextTerminalAfterManySepWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){if(manySepProd.idx===this.occurrence){var firstAfterManySep=(0,utils.Ps)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterManySep,firstAfterManySep instanceof Terminal&&(this.result.token=firstAfterManySep.terminalType,this.result.occurrence=firstAfterManySep.idx)}else _super.prototype.walkManySep.call(this,manySepProd,currRest,prevRest)},NextTerminalAfterManySepWalker}(AbstractNextTerminalAfterProductionWalker),NextTerminalAfterAtLeastOneWalker=function(_super){function NextTerminalAfterAtLeastOneWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterAtLeastOneWalker,_super),NextTerminalAfterAtLeastOneWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){if(atLeastOneProd.idx===this.occurrence){var firstAfterAtLeastOne=(0,utils.Ps)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterAtLeastOne,firstAfterAtLeastOne instanceof Terminal&&(this.result.token=firstAfterAtLeastOne.terminalType,this.result.occurrence=firstAfterAtLeastOne.idx)}else _super.prototype.walkAtLeastOne.call(this,atLeastOneProd,currRest,prevRest)},NextTerminalAfterAtLeastOneWalker}(AbstractNextTerminalAfterProductionWalker),NextTerminalAfterAtLeastOneSepWalker=function(_super){function NextTerminalAfterAtLeastOneSepWalker(){return null!==_super&&_super.apply(this,arguments)||this}return interpreter_extends(NextTerminalAfterAtLeastOneSepWalker,_super),NextTerminalAfterAtLeastOneSepWalker.prototype.walkAtLeastOneSep=function(atleastOneSepProd,currRest,prevRest){if(atleastOneSepProd.idx===this.occurrence){var firstAfterfirstAfterAtLeastOneSep=(0,utils.Ps)(currRest.concat(prevRest));this.result.isEndOfRule=void 0===firstAfterfirstAfterAtLeastOneSep,firstAfterfirstAfterAtLeastOneSep instanceof Terminal&&(this.result.token=firstAfterfirstAfterAtLeastOneSep.terminalType,this.result.occurrence=firstAfterfirstAfterAtLeastOneSep.idx)}else _super.prototype.walkAtLeastOneSep.call(this,atleastOneSepProd,currRest,prevRest)},NextTerminalAfterAtLeastOneSepWalker}(AbstractNextTerminalAfterProductionWalker);function possiblePathsFrom(targetDef,maxLength,currPath){void 0===currPath&&(currPath=[]),currPath=(0,utils.Qw)(currPath);var result=[],i=0;function getAlternativesForProd(definition){var alternatives=possiblePathsFrom(function remainingPathWith(nextDef){return nextDef.concat((0,utils.Cw)(targetDef,i+1))}(definition),maxLength,currPath);return result.concat(alternatives)}for(;currPath.length<maxLength&&i<targetDef.length;){var prod=targetDef[i];if(prod instanceof Alternative)return getAlternativesForProd(prod.definition);if(prod instanceof NonTerminal)return getAlternativesForProd(prod.definition);if(prod instanceof Option)result=getAlternativesForProd(prod.definition);else{if(prod instanceof RepetitionMandatory)return getAlternativesForProd(newDef=prod.definition.concat([new Repetition({definition:prod.definition})]));if(prod instanceof RepetitionMandatoryWithSeparator)return getAlternativesForProd(newDef=[new Alternative({definition:prod.definition}),new Repetition({definition:[new Terminal({terminalType:prod.separator})].concat(prod.definition)})]);if(prod instanceof RepetitionWithSeparator){var newDef=prod.definition.concat([new Repetition({definition:[new Terminal({terminalType:prod.separator})].concat(prod.definition)})]);result=getAlternativesForProd(newDef)}else if(prod instanceof Repetition){newDef=prod.definition.concat([new Repetition({definition:prod.definition})]);result=getAlternativesForProd(newDef)}else{if(prod instanceof Alternation)return(0,utils.Ed)(prod.definition,(function(currAlt){!1===(0,utils.xb)(currAlt.definition)&&(result=getAlternativesForProd(currAlt.definition))})),result;if(!(prod instanceof Terminal))throw Error("non exhaustive match");currPath.push(prod.terminalType)}}i++}return result.push({partialPath:currPath,suffixDef:(0,utils.Cw)(targetDef,i)}),result}function nextPossibleTokensAfter(initialDef,tokenVector,tokMatcher,maxLookAhead){var EXIT_NON_TERMINAL_ARR=["EXIT_NONE_TERMINAL"],foundCompletePath=!1,tokenVectorLength=tokenVector.length,minimalAlternativesIndex=tokenVectorLength-maxLookAhead-1,result=[],possiblePaths=[];for(possiblePaths.push({idx:-1,def:initialDef,ruleStack:[],occurrenceStack:[]});!(0,utils.xb)(possiblePaths);){var currPath=possiblePaths.pop();if("EXIT_ALTERNATIVE"!==currPath){var currDef=currPath.def,currIdx=currPath.idx,currRuleStack=currPath.ruleStack,currOccurrenceStack=currPath.occurrenceStack;if(!(0,utils.xb)(currDef)){var prod=currDef[0];if("EXIT_NONE_TERMINAL"===prod){var nextPath={idx:currIdx,def:(0,utils.Cw)(currDef),ruleStack:(0,utils.j7)(currRuleStack),occurrenceStack:(0,utils.j7)(currOccurrenceStack)};possiblePaths.push(nextPath)}else if(prod instanceof Terminal)if(currIdx<tokenVectorLength-1){var nextIdx=currIdx+1;if(tokMatcher(tokenVector[nextIdx],prod.terminalType)){nextPath={idx:nextIdx,def:(0,utils.Cw)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}}else{if(currIdx!==tokenVectorLength-1)throw Error("non exhaustive match");result.push({nextTokenType:prod.terminalType,nextTokenOccurrence:prod.idx,ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack}),foundCompletePath=!0}else if(prod instanceof NonTerminal){var newRuleStack=(0,utils.Qw)(currRuleStack);newRuleStack.push(prod.nonTerminalName);var newOccurrenceStack=(0,utils.Qw)(currOccurrenceStack);newOccurrenceStack.push(prod.idx);nextPath={idx:currIdx,def:prod.definition.concat(EXIT_NON_TERMINAL_ARR,(0,utils.Cw)(currDef)),ruleStack:newRuleStack,occurrenceStack:newOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof Option){var nextPathWithout={idx:currIdx,def:(0,utils.Cw)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");var nextPathWith={idx:currIdx,def:prod.definition.concat((0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof RepetitionMandatory){var secondIteration=new Repetition({definition:prod.definition,idx:prod.idx});nextPath={idx:currIdx,def:prod.definition.concat([secondIteration],(0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof RepetitionMandatoryWithSeparator){var separatorGast=new Terminal({terminalType:prod.separator});secondIteration=new Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx}),nextPath={idx:currIdx,def:prod.definition.concat([secondIteration],(0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPath)}else if(prod instanceof RepetitionWithSeparator){nextPathWithout={idx:currIdx,def:(0,utils.Cw)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");separatorGast=new Terminal({terminalType:prod.separator});var nthRepetition=new Repetition({definition:[separatorGast].concat(prod.definition),idx:prod.idx});nextPathWith={idx:currIdx,def:prod.definition.concat([nthRepetition],(0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof Repetition){nextPathWithout={idx:currIdx,def:(0,utils.Cw)(currDef),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWithout),possiblePaths.push("EXIT_ALTERNATIVE");nthRepetition=new Repetition({definition:prod.definition,idx:prod.idx}),nextPathWith={idx:currIdx,def:prod.definition.concat([nthRepetition],(0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(nextPathWith)}else if(prod instanceof Alternation)for(var i=prod.definition.length-1;i>=0;i--){var currAltPath={idx:currIdx,def:prod.definition[i].definition.concat((0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack};possiblePaths.push(currAltPath),possiblePaths.push("EXIT_ALTERNATIVE")}else if(prod instanceof Alternative)possiblePaths.push({idx:currIdx,def:prod.definition.concat((0,utils.Cw)(currDef)),ruleStack:currRuleStack,occurrenceStack:currOccurrenceStack});else{if(!(prod instanceof Rule))throw Error("non exhaustive match");possiblePaths.push(expandTopLevelRule(prod,currIdx,currRuleStack,currOccurrenceStack))}}}else foundCompletePath&&(0,utils.Z$)(possiblePaths).idx<=minimalAlternativesIndex&&possiblePaths.pop()}return result}function expandTopLevelRule(topRule,currIdx,currRuleStack,currOccurrenceStack){var newRuleStack=(0,utils.Qw)(currRuleStack);newRuleStack.push(topRule.name);var newCurrOccurrenceStack=(0,utils.Qw)(currOccurrenceStack);return newCurrOccurrenceStack.push(1),{idx:currIdx,def:topRule.definition,ruleStack:newRuleStack,occurrenceStack:newCurrOccurrenceStack}}var PROD_TYPE,lookahead_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function(PROD_TYPE){PROD_TYPE[PROD_TYPE.OPTION=0]="OPTION",PROD_TYPE[PROD_TYPE.REPETITION=1]="REPETITION",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",PROD_TYPE[PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",PROD_TYPE[PROD_TYPE.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",PROD_TYPE[PROD_TYPE.ALTERNATION=5]="ALTERNATION"}(PROD_TYPE||(PROD_TYPE={}));var RestDefinitionFinderWalker=function(_super){function RestDefinitionFinderWalker(topProd,targetOccurrence,targetProdType){var _this=_super.call(this)||this;return _this.topProd=topProd,_this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this}return lookahead_extends(RestDefinitionFinderWalker,_super),RestDefinitionFinderWalker.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},RestDefinitionFinderWalker.prototype.checkIsTarget=function(node,expectedProdType,currRest,prevRest){return node.idx===this.targetOccurrence&&this.targetProdType===expectedProdType&&(this.restDef=currRest.concat(prevRest),!0)},RestDefinitionFinderWalker.prototype.walkOption=function(optionProd,currRest,prevRest){this.checkIsTarget(optionProd,PROD_TYPE.OPTION,currRest,prevRest)||_super.prototype.walkOption.call(this,optionProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOne=function(atLeastOneProd,currRest,prevRest){this.checkIsTarget(atLeastOneProd,PROD_TYPE.REPETITION_MANDATORY,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkAtLeastOneSep=function(atLeastOneSepProd,currRest,prevRest){this.checkIsTarget(atLeastOneSepProd,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,atLeastOneSepProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkMany=function(manyProd,currRest,prevRest){this.checkIsTarget(manyProd,PROD_TYPE.REPETITION,currRest,prevRest)||_super.prototype.walkOption.call(this,manyProd,currRest,prevRest)},RestDefinitionFinderWalker.prototype.walkManySep=function(manySepProd,currRest,prevRest){this.checkIsTarget(manySepProd,PROD_TYPE.REPETITION_WITH_SEPARATOR,currRest,prevRest)||_super.prototype.walkOption.call(this,manySepProd,currRest,prevRest)},RestDefinitionFinderWalker}(RestWalker),InsideDefinitionFinderVisitor=function(_super){function InsideDefinitionFinderVisitor(targetOccurrence,targetProdType,targetRef){var _this=_super.call(this)||this;return _this.targetOccurrence=targetOccurrence,_this.targetProdType=targetProdType,_this.targetRef=targetRef,_this.result=[],_this}return lookahead_extends(InsideDefinitionFinderVisitor,_super),InsideDefinitionFinderVisitor.prototype.checkIsTarget=function(node,expectedProdName){node.idx!==this.targetOccurrence||this.targetProdType!==expectedProdName||void 0!==this.targetRef&&node!==this.targetRef||(this.result=node.definition)},InsideDefinitionFinderVisitor.prototype.visitOption=function(node){this.checkIsTarget(node,PROD_TYPE.OPTION)},InsideDefinitionFinderVisitor.prototype.visitRepetition=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatory=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY)},InsideDefinitionFinderVisitor.prototype.visitRepetitionMandatoryWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitRepetitionWithSeparator=function(node){this.checkIsTarget(node,PROD_TYPE.REPETITION_WITH_SEPARATOR)},InsideDefinitionFinderVisitor.prototype.visitAlternation=function(node){this.checkIsTarget(node,PROD_TYPE.ALTERNATION)},InsideDefinitionFinderVisitor}(GAstVisitor);function initializeArrayOfArrays(size){for(var result=new Array(size),i=0;i<size;i++)result[i]=[];return result}function pathToHashKeys(path){for(var keys=[""],i=0;i<path.length;i++){for(var tokType=path[i],longerKeys=[],j=0;j<keys.length;j++){var currShorterKey=keys[j];longerKeys.push(currShorterKey+"_"+tokType.tokenTypeIdx);for(var t=0;t<tokType.categoryMatches.length;t++){var categoriesKeySuffix="_"+tokType.categoryMatches[t];longerKeys.push(currShorterKey+categoriesKeySuffix)}}keys=longerKeys}return keys}function isUniquePrefixHash(altKnownPathsKeys,searchPathKeys,idx){for(var currAltIdx=0;currAltIdx<altKnownPathsKeys.length;currAltIdx++)if(currAltIdx!==idx)for(var otherAltKnownPathsKeys=altKnownPathsKeys[currAltIdx],searchIdx=0;searchIdx<searchPathKeys.length;searchIdx++){if(!0===otherAltKnownPathsKeys[searchPathKeys[searchIdx]])return!1}return!0}function lookAheadSequenceFromAlternatives(altsDefs,k){for(var partialAlts=(0,utils.UI)(altsDefs,(function(currAlt){return possiblePathsFrom([currAlt],1)})),finalResult=initializeArrayOfArrays(partialAlts.length),altsHashes=(0,utils.UI)(partialAlts,(function(currAltPaths){var dict={};return(0,utils.Ed)(currAltPaths,(function(item){var keys=pathToHashKeys(item.partialPath);(0,utils.Ed)(keys,(function(currKey){dict[currKey]=!0}))})),dict})),newData=partialAlts,pathLength=1;pathLength<=k;pathLength++){var currDataset=newData;newData=initializeArrayOfArrays(currDataset.length);for(var _loop_1=function(altIdx){for(var currAltPathsAndSuffixes=currDataset[altIdx],currPathIdx=0;currPathIdx<currAltPathsAndSuffixes.length;currPathIdx++){var currPathPrefix=currAltPathsAndSuffixes[currPathIdx].partialPath,suffixDef=currAltPathsAndSuffixes[currPathIdx].suffixDef,prefixKeys=pathToHashKeys(currPathPrefix);if(isUniquePrefixHash(altsHashes,prefixKeys,altIdx)||(0,utils.xb)(suffixDef)||currPathPrefix.length===k){var currAltResult=finalResult[altIdx];if(!1===containsPath(currAltResult,currPathPrefix)){currAltResult.push(currPathPrefix);for(var j=0;j<prefixKeys.length;j++){var currKey=prefixKeys[j];altsHashes[altIdx][currKey]=!0}}}else{var newPartialPathsAndSuffixes=possiblePathsFrom(suffixDef,pathLength+1,currPathPrefix);newData[altIdx]=newData[altIdx].concat(newPartialPathsAndSuffixes),(0,utils.Ed)(newPartialPathsAndSuffixes,(function(item){var prefixKeys=pathToHashKeys(item.partialPath);(0,utils.Ed)(prefixKeys,(function(key){altsHashes[altIdx][key]=!0}))}))}}},altIdx=0;altIdx<currDataset.length;altIdx++)_loop_1(altIdx)}return finalResult}function getLookaheadPathsForOr(occurrence,ruleGrammar,k,orProd){var visitor=new InsideDefinitionFinderVisitor(occurrence,PROD_TYPE.ALTERNATION,orProd);return ruleGrammar.accept(visitor),lookAheadSequenceFromAlternatives(visitor.result,k)}function getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k){var insideDefVisitor=new InsideDefinitionFinderVisitor(occurrence,prodType);ruleGrammar.accept(insideDefVisitor);var insideDef=insideDefVisitor.result,afterDef=new RestDefinitionFinderWalker(ruleGrammar,occurrence,prodType).startWalking();return lookAheadSequenceFromAlternatives([new Alternative({definition:insideDef}),new Alternative({definition:afterDef})],k)}function containsPath(alternative,searchPath){compareOtherPath:for(var i=0;i<alternative.length;i++){var otherPath=alternative[i];if(otherPath.length===searchPath.length){for(var j=0;j<otherPath.length;j++){var searchTok=searchPath[j],otherTok=otherPath[j];if(!1===(searchTok===otherTok||void 0!==otherTok.categoryMatchesMap[searchTok.tokenTypeIdx]))continue compareOtherPath}return!0}}return!1}function areTokenCategoriesNotUsed(lookAheadPaths){return(0,utils.yW)(lookAheadPaths,(function(singleAltPaths){return(0,utils.yW)(singleAltPaths,(function(singlePath){return(0,utils.yW)(singlePath,(function(token){return(0,utils.xb)(token.categoryMatches)}))}))}))}var checks_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();function validateGrammar(topLevels,globalMaxLookahead,tokenTypes,errMsgProvider,grammarName){var duplicateErrors=utils.UI(topLevels,(function(currTopLevel){return function validateDuplicateProductions(topLevelRule,errMsgProvider){var collectorVisitor=new OccurrenceValidationCollector;topLevelRule.accept(collectorVisitor);var allRuleProductions=collectorVisitor.allProductions,productionGroups=utils.vM(allRuleProductions,identifyProductionForDuplicates),duplicates=utils.ei(productionGroups,(function(currGroup){return currGroup.length>1})),errors=utils.UI(utils.VO(duplicates),(function(currDuplicates){var firstProd=utils.Ps(currDuplicates),msg=errMsgProvider.buildDuplicateFoundError(topLevelRule,currDuplicates),dslName=getProductionDslName(firstProd),defError={message:msg,type:ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:topLevelRule.name,dslName,occurrence:firstProd.idx},param=getExtraProductionArgument(firstProd);return param&&(defError.parameter=param),defError}));return errors}(currTopLevel,errMsgProvider)})),leftRecursionErrors=utils.UI(topLevels,(function(currTopRule){return validateNoLeftRecursion(currTopRule,currTopRule,errMsgProvider)})),emptyAltErrors=[],ambiguousAltsErrors=[],emptyRepetitionErrors=[];(0,utils.yW)(leftRecursionErrors,utils.xb)&&(emptyAltErrors=(0,utils.UI)(topLevels,(function(currTopRule){return function validateEmptyOrAlternative(topLevelRule,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations,errors=utils.u4(ors,(function(errors,currOr){var exceptLast=utils.j7(currOr.definition),currErrors=utils.UI(exceptLast,(function(currAlternative,currAltIdx){var possibleFirstInAlt=nextPossibleTokensAfter([currAlternative],[],null,1);return utils.xb(possibleFirstInAlt)?{message:errMsgProvider.buildEmptyAlternationError({topLevelRule,alternation:currOr,emptyChoiceIdx:currAltIdx}),type:ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:topLevelRule.name,occurrence:currOr.idx,alternative:currAltIdx+1}:null}));return errors.concat(utils.oA(currErrors))}),[]);return errors}(currTopRule,errMsgProvider)})),ambiguousAltsErrors=(0,utils.UI)(topLevels,(function(currTopRule){return function validateAmbiguousAlternationAlternatives(topLevelRule,globalMaxLookahead,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations;ors=(0,utils.d1)(ors,(function(currOr){return!0===currOr.ignoreAmbiguities}));var errors=utils.u4(ors,(function(result,currOr){var currOccurrence=currOr.idx,actualMaxLookahead=currOr.maxLookahead||globalMaxLookahead,alternatives=getLookaheadPathsForOr(currOccurrence,topLevelRule,actualMaxLookahead,currOr),altsAmbiguityErrors=function checkAlternativesAmbiguities(alternatives,alternation,rule,errMsgProvider){var foundAmbiguousPaths=[],identicalAmbiguities=(0,utils.u4)(alternatives,(function(result,currAlt,currAltIdx){return!0===alternation.definition[currAltIdx].ignoreAmbiguities||(0,utils.Ed)(currAlt,(function(currPath){var altsCurrPathAppearsIn=[currAltIdx];(0,utils.Ed)(alternatives,(function(currOtherAlt,currOtherAltIdx){currAltIdx!==currOtherAltIdx&&containsPath(currOtherAlt,currPath)&&!0!==alternation.definition[currOtherAltIdx].ignoreAmbiguities&&altsCurrPathAppearsIn.push(currOtherAltIdx)})),altsCurrPathAppearsIn.length>1&&!containsPath(foundAmbiguousPaths,currPath)&&(foundAmbiguousPaths.push(currPath),result.push({alts:altsCurrPathAppearsIn,path:currPath}))})),result}),[]),currErrors=utils.UI(identicalAmbiguities,(function(currAmbDescriptor){var ambgIndices=(0,utils.UI)(currAmbDescriptor.alts,(function(currAltIdx){return currAltIdx+1}));return{message:errMsgProvider.buildAlternationAmbiguityError({topLevelRule:rule,alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbDescriptor.path}),type:ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:rule.name,occurrence:alternation.idx,alternatives:[currAmbDescriptor.alts]}}));return currErrors}(alternatives,currOr,topLevelRule,errMsgProvider),altsPrefixAmbiguityErrors=function checkPrefixAlternativesAmbiguities(alternatives,alternation,rule,errMsgProvider){var errors=[],pathsAndIndices=(0,utils.u4)(alternatives,(function(result,currAlt,idx){var currPathsAndIdx=(0,utils.UI)(currAlt,(function(currPath){return{idx,path:currPath}}));return result.concat(currPathsAndIdx)}),[]);return(0,utils.Ed)(pathsAndIndices,(function(currPathAndIdx){if(!0!==alternation.definition[currPathAndIdx.idx].ignoreAmbiguities){var targetIdx=currPathAndIdx.idx,targetPath=currPathAndIdx.path,prefixAmbiguitiesPathsAndIndices=(0,utils.Oq)(pathsAndIndices,(function(searchPathAndIdx){return!0!==alternation.definition[searchPathAndIdx.idx].ignoreAmbiguities&&searchPathAndIdx.idx<targetIdx&&function isStrictPrefixOfPath(prefix,other){return prefix.length<other.length&&(0,utils.yW)(prefix,(function(tokType,idx){var otherTokType=other[idx];return tokType===otherTokType||otherTokType.categoryMatchesMap[tokType.tokenTypeIdx]}))}(searchPathAndIdx.path,targetPath)})),currPathPrefixErrors=(0,utils.UI)(prefixAmbiguitiesPathsAndIndices,(function(currAmbPathAndIdx){var ambgIndices=[currAmbPathAndIdx.idx+1,targetIdx+1],occurrence=0===alternation.idx?"":alternation.idx;return{message:errMsgProvider.buildAlternationPrefixAmbiguityError({topLevelRule:rule,alternation,ambiguityIndices:ambgIndices,prefixPath:currAmbPathAndIdx.path}),type:ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:rule.name,occurrence,alternatives:ambgIndices}}));errors=errors.concat(currPathPrefixErrors)}})),errors}(alternatives,currOr,topLevelRule,errMsgProvider);return result.concat(altsAmbiguityErrors,altsPrefixAmbiguityErrors)}),[]);return errors}(currTopRule,globalMaxLookahead,errMsgProvider)})),emptyRepetitionErrors=function validateSomeNonEmptyLookaheadPath(topLevelRules,maxLookahead,errMsgProvider){var errors=[];return(0,utils.Ed)(topLevelRules,(function(currTopRule){var collectorVisitor=new RepetionCollector;currTopRule.accept(collectorVisitor);var allRuleProductions=collectorVisitor.allProductions;(0,utils.Ed)(allRuleProductions,(function(currProd){var prodType=function getProdType(prod){if(prod instanceof Option)return PROD_TYPE.OPTION;if(prod instanceof Repetition)return PROD_TYPE.REPETITION;if(prod instanceof RepetitionMandatory)return PROD_TYPE.REPETITION_MANDATORY;if(prod instanceof RepetitionMandatoryWithSeparator)return PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR;if(prod instanceof RepetitionWithSeparator)return PROD_TYPE.REPETITION_WITH_SEPARATOR;if(prod instanceof Alternation)return PROD_TYPE.ALTERNATION;throw Error("non exhaustive match")}(currProd),actualMaxLookahead=currProd.maxLookahead||maxLookahead,pathsInsideProduction=getLookaheadPathsForOptionalProd(currProd.idx,currTopRule,prodType,actualMaxLookahead)[0];if((0,utils.xb)((0,utils.xH)(pathsInsideProduction))){var errMsg=errMsgProvider.buildEmptyRepetitionError({topLevelRule:currTopRule,repetition:currProd});errors.push({message:errMsg,type:ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:currTopRule.name})}}))})),errors}(topLevels,globalMaxLookahead,errMsgProvider));var termsNamespaceConflictErrors=function checkTerminalAndNoneTerminalsNameSpace(topLevels,tokenTypes,errMsgProvider){var errors=[],tokenNames=(0,utils.UI)(tokenTypes,(function(currToken){return currToken.name}));return(0,utils.Ed)(topLevels,(function(currRule){var currRuleName=currRule.name;if((0,utils.r3)(tokenNames,currRuleName)){var errMsg=errMsgProvider.buildNamespaceConflictError(currRule);errors.push({message:errMsg,type:ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:currRuleName})}})),errors}(topLevels,tokenTypes,errMsgProvider),tooManyAltsErrors=(0,utils.UI)(topLevels,(function(curRule){return function validateTooManyAlts(topLevelRule,errMsgProvider){var orCollector=new OrCollector;topLevelRule.accept(orCollector);var ors=orCollector.alternations,errors=utils.u4(ors,(function(errors,currOr){return currOr.definition.length>255&&errors.push({message:errMsgProvider.buildTooManyAlternativesError({topLevelRule,alternation:currOr}),type:ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:topLevelRule.name,occurrence:currOr.idx}),errors}),[]);return errors}(curRule,errMsgProvider)})),duplicateRulesError=(0,utils.UI)(topLevels,(function(curRule){return function validateRuleDoesNotAlreadyExist(rule,allRules,className,errMsgProvider){var errors=[],occurrences=(0,utils.u4)(allRules,(function(result,curRule){return curRule.name===rule.name?result+1:result}),0);if(occurrences>1){var errMsg=errMsgProvider.buildDuplicateRuleNameError({topLevelRule:rule,grammarName:className});errors.push({message:errMsg,type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:rule.name})}return errors}(curRule,topLevels,grammarName,errMsgProvider)}));return utils.xH(duplicateErrors.concat(emptyRepetitionErrors,leftRecursionErrors,emptyAltErrors,ambiguousAltsErrors,termsNamespaceConflictErrors,tooManyAltsErrors,duplicateRulesError))}function identifyProductionForDuplicates(prod){return getProductionDslName(prod)+"_#_"+prod.idx+"_#_"+getExtraProductionArgument(prod)}function getExtraProductionArgument(prod){return prod instanceof Terminal?prod.terminalType.name:prod instanceof NonTerminal?prod.nonTerminalName:""}var OccurrenceValidationCollector=function(_super){function OccurrenceValidationCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return checks_extends(OccurrenceValidationCollector,_super),OccurrenceValidationCollector.prototype.visitNonTerminal=function(subrule){this.allProductions.push(subrule)},OccurrenceValidationCollector.prototype.visitOption=function(option){this.allProductions.push(option)},OccurrenceValidationCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},OccurrenceValidationCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},OccurrenceValidationCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},OccurrenceValidationCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},OccurrenceValidationCollector.prototype.visitAlternation=function(or){this.allProductions.push(or)},OccurrenceValidationCollector.prototype.visitTerminal=function(terminal){this.allProductions.push(terminal)},OccurrenceValidationCollector}(GAstVisitor);function validateNoLeftRecursion(topRule,currRule,errMsgProvider,path){void 0===path&&(path=[]);var errors=[],nextNonTerminals=getFirstNoneTerminal(currRule.definition);if(utils.xb(nextNonTerminals))return[];var ruleName=topRule.name;utils.r3(nextNonTerminals,topRule)&&errors.push({message:errMsgProvider.buildLeftRecursionError({topLevelRule:topRule,leftRecursionPath:path}),type:ParserDefinitionErrorType.LEFT_RECURSION,ruleName});var validNextSteps=utils.e5(nextNonTerminals,path.concat([topRule])),errorsFromNextSteps=utils.UI(validNextSteps,(function(currRefRule){var newPath=utils.Qw(path);return newPath.push(currRefRule),validateNoLeftRecursion(topRule,currRefRule,errMsgProvider,newPath)}));return errors.concat(utils.xH(errorsFromNextSteps))}function getFirstNoneTerminal(definition){var result=[];if(utils.xb(definition))return result;var firstProd=utils.Ps(definition);if(firstProd instanceof NonTerminal)result.push(firstProd.referencedRule);else if(firstProd instanceof Alternative||firstProd instanceof Option||firstProd instanceof RepetitionMandatory||firstProd instanceof RepetitionMandatoryWithSeparator||firstProd instanceof RepetitionWithSeparator||firstProd instanceof Repetition)result=result.concat(getFirstNoneTerminal(firstProd.definition));else if(firstProd instanceof Alternation)result=utils.xH(utils.UI(firstProd.definition,(function(currSubDef){return getFirstNoneTerminal(currSubDef.definition)})));else if(!(firstProd instanceof Terminal))throw Error("non exhaustive match");var isFirstOptional=isOptionalProd(firstProd),hasMore=definition.length>1;if(isFirstOptional&&hasMore){var rest=utils.Cw(definition);return result.concat(getFirstNoneTerminal(rest))}return result}var OrCollector=function(_super){function OrCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.alternations=[],_this}return checks_extends(OrCollector,_super),OrCollector.prototype.visitAlternation=function(node){this.alternations.push(node)},OrCollector}(GAstVisitor);var RepetionCollector=function(_super){function RepetionCollector(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.allProductions=[],_this}return checks_extends(RepetionCollector,_super),RepetionCollector.prototype.visitRepetitionWithSeparator=function(manySep){this.allProductions.push(manySep)},RepetionCollector.prototype.visitRepetitionMandatory=function(atLeastOne){this.allProductions.push(atLeastOne)},RepetionCollector.prototype.visitRepetitionMandatoryWithSeparator=function(atLeastOneSep){this.allProductions.push(atLeastOneSep)},RepetionCollector.prototype.visitRepetition=function(many){this.allProductions.push(many)},RepetionCollector}(GAstVisitor);function gast_resolver_public_resolveGrammar(options){options=(0,utils.ce)(options,{errMsgProvider:defaultGrammarResolverErrorProvider});var topRulesTable={};return(0,utils.Ed)(options.rules,(function(rule){topRulesTable[rule.name]=rule})),function resolveGrammar(topLevels,errMsgProvider){var refResolver=new GastRefResolverVisitor(topLevels,errMsgProvider);return refResolver.resolveRefs(),refResolver.errors}(topRulesTable,options.errMsgProvider)}function gast_resolver_public_validateGrammar(options){return validateGrammar((options=(0,utils.ce)(options,{errMsgProvider:defaultGrammarValidatorErrorProvider})).rules,options.maxLookahead,options.tokenTypes,options.errMsgProvider,options.grammarName)}function assignOccurrenceIndices(options){(0,utils.Ed)(options.rules,(function(currRule){var methodsCollector=new DslMethodsCollectorVisitor;currRule.accept(methodsCollector),(0,utils.Ed)(methodsCollector.dslMethods,(function(methods){(0,utils.Ed)(methods,(function(currMethod,arrIdx){currMethod.idx=arrIdx+1}))}))}))}var exceptions_public_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),RECOGNITION_EXCEPTION_NAMES=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function isRecognitionException(error){return(0,utils.r3)(RECOGNITION_EXCEPTION_NAMES,error.name)}Object.freeze(RECOGNITION_EXCEPTION_NAMES);var RecognitionException=function(_super){function RecognitionException(message,token){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.token=token,_this.resyncedTokens=[],Object.setPrototypeOf(_this,_newTarget.prototype),Error.captureStackTrace&&Error.captureStackTrace(_this,_this.constructor),_this}return exceptions_public_extends(RecognitionException,_super),RecognitionException}(Error),MismatchedTokenException=function(_super){function MismatchedTokenException(message,token,previousToken){var _this=_super.call(this,message,token)||this;return _this.previousToken=previousToken,_this.name="MismatchedTokenException",_this}return exceptions_public_extends(MismatchedTokenException,_super),MismatchedTokenException}(RecognitionException),NoViableAltException=function(_super){function NoViableAltException(message,token,previousToken){var _this=_super.call(this,message,token)||this;return _this.previousToken=previousToken,_this.name="NoViableAltException",_this}return exceptions_public_extends(NoViableAltException,_super),NoViableAltException}(RecognitionException),NotAllInputParsedException=function(_super){function NotAllInputParsedException(message,token){var _this=_super.call(this,message,token)||this;return _this.name="NotAllInputParsedException",_this}return exceptions_public_extends(NotAllInputParsedException,_super),NotAllInputParsedException}(RecognitionException),EarlyExitException=function(_super){function EarlyExitException(message,token,previousToken){var _this=_super.call(this,message,token)||this;return _this.previousToken=previousToken,_this.name="EarlyExitException",_this}return exceptions_public_extends(EarlyExitException,_super),EarlyExitException}(RecognitionException),EOF_FOLLOW_KEY={},IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";function InRuleRecoveryException(message){this.name=IN_RULE_RECOVERY_EXCEPTION,this.message=message}InRuleRecoveryException.prototype=Error.prototype;var Recoverable=function(){function Recoverable(){}return Recoverable.prototype.initRecoverable=function(config){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,utils.e$)(config,"recoveryEnabled")?config.recoveryEnabled:DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=attemptInRepetitionRecovery)},Recoverable.prototype.getTokenToInsert=function(tokType){var tokToInsert=createTokenInstance(tokType,"",NaN,NaN,NaN,NaN,NaN,NaN);return tokToInsert.isInsertedInRecovery=!0,tokToInsert},Recoverable.prototype.canTokenTypeBeInsertedInRecovery=function(tokType){return!0},Recoverable.prototype.tryInRepetitionRecovery=function(grammarRule,grammarRuleArgs,lookAheadFunc,expectedTokType){for(var _this=this,reSyncTokType=this.findReSyncTokenType(),savedLexerState=this.exportLexerState(),resyncedTokens=[],passedResyncPoint=!1,nextTokenWithoutResync=this.LA(1),currToken=this.LA(1),generateErrorMessage=function(){var previousToken=_this.LA(0),msg=_this.errorMessageProvider.buildMismatchTokenMessage({expected:expectedTokType,actual:nextTokenWithoutResync,previous:previousToken,ruleName:_this.getCurrRuleFullName()}),error=new MismatchedTokenException(msg,nextTokenWithoutResync,_this.LA(0));error.resyncedTokens=(0,utils.j7)(resyncedTokens),_this.SAVE_ERROR(error)};!passedResyncPoint;){if(this.tokenMatcher(currToken,expectedTokType))return void generateErrorMessage();if(lookAheadFunc.call(this))return generateErrorMessage(),void grammarRule.apply(this,grammarRuleArgs);this.tokenMatcher(currToken,reSyncTokType)?passedResyncPoint=!0:(currToken=this.SKIP_TOKEN(),this.addToResyncTokens(currToken,resyncedTokens))}this.importLexerState(savedLexerState)},Recoverable.prototype.shouldInRepetitionRecoveryBeTried=function(expectTokAfterLastMatch,nextTokIdx,notStuck){return!1!==notStuck&&(void 0!==expectTokAfterLastMatch&&void 0!==nextTokIdx&&(!this.tokenMatcher(this.LA(1),expectTokAfterLastMatch)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(expectTokAfterLastMatch,this.getFollowsForInRuleRecovery(expectTokAfterLastMatch,nextTokIdx)))))},Recoverable.prototype.getFollowsForInRuleRecovery=function(tokType,tokIdxInRule){var grammarPath=this.getCurrentGrammarPath(tokType,tokIdxInRule);return this.getNextPossibleTokenTypes(grammarPath)},Recoverable.prototype.tryInRuleRecovery=function(expectedTokType,follows){if(this.canRecoverWithSingleTokenInsertion(expectedTokType,follows))return this.getTokenToInsert(expectedTokType);if(this.canRecoverWithSingleTokenDeletion(expectedTokType)){var nextTok=this.SKIP_TOKEN();return this.consumeToken(),nextTok}throw new InRuleRecoveryException("sad sad panda")},Recoverable.prototype.canPerformInRuleRecovery=function(expectedToken,follows){return this.canRecoverWithSingleTokenInsertion(expectedToken,follows)||this.canRecoverWithSingleTokenDeletion(expectedToken)},Recoverable.prototype.canRecoverWithSingleTokenInsertion=function(expectedTokType,follows){var _this=this;if(!this.canTokenTypeBeInsertedInRecovery(expectedTokType))return!1;if((0,utils.xb)(follows))return!1;var mismatchedTok=this.LA(1);return void 0!==(0,utils.sE)(follows,(function(possibleFollowsTokType){return _this.tokenMatcher(mismatchedTok,possibleFollowsTokType)}))},Recoverable.prototype.canRecoverWithSingleTokenDeletion=function(expectedTokType){return this.tokenMatcher(this.LA(2),expectedTokType)},Recoverable.prototype.isInCurrentRuleReSyncSet=function(tokenTypeIdx){var followKey=this.getCurrFollowKey(),currentRuleReSyncSet=this.getFollowSetFromFollowKey(followKey);return(0,utils.r3)(currentRuleReSyncSet,tokenTypeIdx)},Recoverable.prototype.findReSyncTokenType=function(){for(var allPossibleReSyncTokTypes=this.flattenFollowSet(),nextToken=this.LA(1),k=2;;){var nextTokenType=nextToken.tokenType;if((0,utils.r3)(allPossibleReSyncTokTypes,nextTokenType))return nextTokenType;nextToken=this.LA(k),k++}},Recoverable.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return EOF_FOLLOW_KEY;var currRuleShortName=this.getLastExplicitRuleShortName(),currRuleIdx=this.getLastExplicitRuleOccurrenceIndex(),prevRuleShortName=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(currRuleShortName),idxInCallingRule:currRuleIdx,inRule:this.shortRuleNameToFullName(prevRuleShortName)}},Recoverable.prototype.buildFullFollowKeyStack=function(){var _this=this,explicitRuleStack=this.RULE_STACK,explicitOccurrenceStack=this.RULE_OCCURRENCE_STACK;return(0,utils.UI)(explicitRuleStack,(function(ruleName,idx){return 0===idx?EOF_FOLLOW_KEY:{ruleName:_this.shortRuleNameToFullName(ruleName),idxInCallingRule:explicitOccurrenceStack[idx],inRule:_this.shortRuleNameToFullName(explicitRuleStack[idx-1])}}))},Recoverable.prototype.flattenFollowSet=function(){var _this=this,followStack=(0,utils.UI)(this.buildFullFollowKeyStack(),(function(currKey){return _this.getFollowSetFromFollowKey(currKey)}));return(0,utils.xH)(followStack)},Recoverable.prototype.getFollowSetFromFollowKey=function(followKey){if(followKey===EOF_FOLLOW_KEY)return[EOF];var followName=followKey.ruleName+followKey.idxInCallingRule+constants_IN+followKey.inRule;return this.resyncFollows[followName]},Recoverable.prototype.addToResyncTokens=function(token,resyncTokens){return this.tokenMatcher(token,EOF)||resyncTokens.push(token),resyncTokens},Recoverable.prototype.reSyncTo=function(tokType){for(var resyncedTokens=[],nextTok=this.LA(1);!1===this.tokenMatcher(nextTok,tokType);)nextTok=this.SKIP_TOKEN(),this.addToResyncTokens(nextTok,resyncedTokens);return(0,utils.j7)(resyncedTokens)},Recoverable.prototype.attemptInRepetitionRecovery=function(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){},Recoverable.prototype.getCurrentGrammarPath=function(tokType,tokIdxInRule){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,utils.Qw)(this.RULE_OCCURRENCE_STACK),lastTok:tokType,lastTokOccurrence:tokIdxInRule}},Recoverable.prototype.getHumanReadableRuleStack=function(){var _this=this;return(0,utils.UI)(this.RULE_STACK,(function(currShortName){return _this.shortRuleNameToFullName(currShortName)}))},Recoverable}();function attemptInRepetitionRecovery(prodFunc,args,lookaheadFunc,dslMethodIdx,prodOccurrence,nextToksWalker,notStuck){var key=this.getKeyForAutomaticLookahead(dslMethodIdx,prodOccurrence),firstAfterRepInfo=this.firstAfterRepMap[key];if(void 0===firstAfterRepInfo){var currRuleName=this.getCurrRuleFullName();firstAfterRepInfo=new nextToksWalker(this.getGAstProductions()[currRuleName],prodOccurrence).startWalking(),this.firstAfterRepMap[key]=firstAfterRepInfo}var expectTokAfterLastMatch=firstAfterRepInfo.token,nextTokIdx=firstAfterRepInfo.occurrence,isEndOfRule=firstAfterRepInfo.isEndOfRule;1===this.RULE_STACK.length&&isEndOfRule&&void 0===expectTokAfterLastMatch&&(expectTokAfterLastMatch=EOF,nextTokIdx=1),this.shouldInRepetitionRecoveryBeTried(expectTokAfterLastMatch,nextTokIdx,notStuck)&&this.tryInRepetitionRecovery(prodFunc,args,lookaheadFunc,expectTokAfterLastMatch)}function getKeyForAutomaticLookahead(ruleIdx,dslMethodIdx,occurrence){return occurrence|dslMethodIdx|ruleIdx}var LooksAhead=function(){function LooksAhead(){}return LooksAhead.prototype.initLooksAhead=function(config){this.dynamicTokensEnabled=(0,utils.e$)(config,"dynamicTokensEnabled")?config.dynamicTokensEnabled:DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,utils.e$)(config,"maxLookahead")?config.maxLookahead:DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=(0,utils.dU)()?new Map:[],(0,utils.dU)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},LooksAhead.prototype.preComputeLookaheadFunctions=function(rules){var _this=this;(0,utils.Ed)(rules,(function(currRule){_this.TRACE_INIT(currRule.name+" Rule Lookahead",(function(){var _a=function collectMethods(rule){collectorVisitor.reset(),rule.accept(collectorVisitor);var dslMethods=collectorVisitor.dslMethods;return collectorVisitor.reset(),dslMethods}(currRule),alternation=_a.alternation,repetition=_a.repetition,option=_a.option,repetitionMandatory=_a.repetitionMandatory,repetitionMandatoryWithSeparator=_a.repetitionMandatoryWithSeparator,repetitionWithSeparator=_a.repetitionWithSeparator;(0,utils.Ed)(alternation,(function(currProd){var prodIdx=0===currProd.idx?"":currProd.idx;_this.TRACE_INIT(""+getProductionDslName(currProd)+prodIdx,(function(){var laFunc=function buildLookaheadFuncForOr(occurrence,ruleGrammar,maxLookahead,hasPredicates,dynamicTokensEnabled,laFuncBuilder){var lookAheadPaths=getLookaheadPathsForOr(occurrence,ruleGrammar,maxLookahead);return laFuncBuilder(lookAheadPaths,hasPredicates,areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,dynamicTokensEnabled)}(currProd.idx,currRule,currProd.maxLookahead||_this.maxLookahead,currProd.hasPredicates,_this.dynamicTokensEnabled,_this.lookAheadBuilderForAlternatives),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name],256,currProd.idx);_this.setLaFuncCache(key,laFunc)}))})),(0,utils.Ed)(repetition,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,768,PROD_TYPE.REPETITION,currProd.maxLookahead,getProductionDslName(currProd))})),(0,utils.Ed)(option,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,512,PROD_TYPE.OPTION,currProd.maxLookahead,getProductionDslName(currProd))})),(0,utils.Ed)(repetitionMandatory,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1024,PROD_TYPE.REPETITION_MANDATORY,currProd.maxLookahead,getProductionDslName(currProd))})),(0,utils.Ed)(repetitionMandatoryWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1536,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))})),(0,utils.Ed)(repetitionWithSeparator,(function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,1280,PROD_TYPE.REPETITION_WITH_SEPARATOR,currProd.maxLookahead,getProductionDslName(currProd))}))}))}))},LooksAhead.prototype.computeLookaheadFunc=function(rule,prodOccurrence,prodKey,prodType,prodMaxLookahead,dslMethodName){var _this=this;this.TRACE_INIT(""+dslMethodName+(0===prodOccurrence?"":prodOccurrence),(function(){var laFunc=function buildLookaheadFuncForOptionalProd(occurrence,ruleGrammar,k,dynamicTokensEnabled,prodType,lookaheadBuilder){var lookAheadPaths=getLookaheadPathsForOptionalProd(occurrence,ruleGrammar,prodType,k),tokenMatcher=areTokenCategoriesNotUsed(lookAheadPaths)?tokenStructuredMatcherNoCategories:tokenStructuredMatcher;return lookaheadBuilder(lookAheadPaths[0],tokenMatcher,dynamicTokensEnabled)}(prodOccurrence,rule,prodMaxLookahead||_this.maxLookahead,_this.dynamicTokensEnabled,prodType,_this.lookAheadBuilderForOptional),key=getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name],prodKey,prodOccurrence);_this.setLaFuncCache(key,laFunc)}))},LooksAhead.prototype.lookAheadBuilderForOptional=function(alt,tokenMatcher,dynamicTokensEnabled){return function buildSingleAlternativeLookaheadFunction(alt,tokenMatcher,dynamicTokensEnabled){var areAllOneTokenLookahead=(0,utils.yW)(alt,(function(currPath){return 1===currPath.length})),numOfPaths=alt.length;if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokensTypes=(0,utils.xH)(alt);if(1===singleTokensTypes.length&&(0,utils.xb)(singleTokensTypes[0].categoryMatches)){var expectedTokenUniqueKey_1=singleTokensTypes[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===expectedTokenUniqueKey_1}}var choiceToAlt_2=(0,utils.u4)(singleTokensTypes,(function(result,currTokType,idx){return result[currTokType.tokenTypeIdx]=!0,(0,utils.Ed)(currTokType.categoryMatches,(function(currExtendingType){result[currExtendingType]=!0})),result}),[]);return function(){var nextToken=this.LA(1);return!0===choiceToAlt_2[nextToken.tokenTypeIdx]}}return function(){nextPath:for(var j=0;j<numOfPaths;j++){for(var currPath=alt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return!0}return!1}}(alt,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.lookAheadBuilderForAlternatives=function(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){return function buildAlternativesLookAheadFunc(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled){var numOfAlts=alts.length,areAllOneTokenLookahead=(0,utils.yW)(alts,(function(currAlt){return(0,utils.yW)(currAlt,(function(currPath){return 1===currPath.length}))}));if(hasPredicates)return function(orAlts){for(var predicates=(0,utils.UI)(orAlts,(function(currAlt){return currAlt.GATE})),t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length,currPredicate=predicates[t];if(void 0===currPredicate||!1!==currPredicate.call(this))nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}};if(areAllOneTokenLookahead&&!dynamicTokensEnabled){var singleTokenAlts=(0,utils.UI)(alts,(function(currAlt){return(0,utils.xH)(currAlt)})),choiceToAlt_1=(0,utils.u4)(singleTokenAlts,(function(result,currAlt,idx){return(0,utils.Ed)(currAlt,(function(currTokType){(0,utils.e$)(result,currTokType.tokenTypeIdx)||(result[currTokType.tokenTypeIdx]=idx),(0,utils.Ed)(currTokType.categoryMatches,(function(currExtendingType){(0,utils.e$)(result,currExtendingType)||(result[currExtendingType]=idx)}))})),result}),[]);return function(){var nextToken=this.LA(1);return choiceToAlt_1[nextToken.tokenTypeIdx]}}return function(){for(var t=0;t<numOfAlts;t++){var currAlt=alts[t],currNumOfPaths=currAlt.length;nextPath:for(var j=0;j<currNumOfPaths;j++){for(var currPath=currAlt[j],currPathLength=currPath.length,i=0;i<currPathLength;i++){var nextToken=this.LA(i+1);if(!1===tokenMatcher(nextToken,currPath[i]))continue nextPath}return t}}}}(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled)},LooksAhead.prototype.getKeyForAutomaticLookahead=function(dslMethodIdx,occurrence){return getKeyForAutomaticLookahead(this.getLastExplicitRuleShortName(),dslMethodIdx,occurrence)},LooksAhead.prototype.getLaFuncFromCache=function(key){},LooksAhead.prototype.getLaFuncFromMap=function(key){return this.lookAheadFuncsCache.get(key)},LooksAhead.prototype.getLaFuncFromObj=function(key){return this.lookAheadFuncsCache[key]},LooksAhead.prototype.setLaFuncCache=function(key,value){},LooksAhead.prototype.setLaFuncCacheUsingMap=function(key,value){this.lookAheadFuncsCache.set(key,value)},LooksAhead.prototype.setLaFuncUsingObj=function(key,value){this.lookAheadFuncsCache[key]=value},LooksAhead}();function setNodeLocationOnlyOffset(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.endOffset=newLocationInfo.endOffset):currNodeLocation.endOffset<newLocationInfo.endOffset==!0&&(currNodeLocation.endOffset=newLocationInfo.endOffset)}function setNodeLocationFull(currNodeLocation,newLocationInfo){!0===isNaN(currNodeLocation.startOffset)?(currNodeLocation.startOffset=newLocationInfo.startOffset,currNodeLocation.startColumn=newLocationInfo.startColumn,currNodeLocation.startLine=newLocationInfo.startLine,currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine):currNodeLocation.endOffset<newLocationInfo.endOffset==!0&&(currNodeLocation.endOffset=newLocationInfo.endOffset,currNodeLocation.endColumn=newLocationInfo.endColumn,currNodeLocation.endLine=newLocationInfo.endLine)}var CstVisitorDefinitionError,NAME="name";function functionName(func){var existingNameProp=func.name;return existingNameProp||"anonymous"}function defineNameProp(obj,nameValue){var namePropDescriptor=Object.getOwnPropertyDescriptor(obj,NAME);return!(!(0,utils.o8)(namePropDescriptor)&&!namePropDescriptor.configurable)&&(Object.defineProperty(obj,NAME,{enumerable:!1,configurable:!0,writable:!1,value:nameValue}),!0)}function defaultVisit(ctx,param){for(var childrenNames=(0,utils.XP)(ctx),childrenNamesLength=childrenNames.length,i=0;i<childrenNamesLength;i++)for(var currChildArray=ctx[childrenNames[i]],currChildArrayLength=currChildArray.length,j=0;j<currChildArrayLength;j++){var currChild=currChildArray[j];void 0===currChild.tokenTypeIdx&&this[currChild.name](currChild.children,param)}}function createBaseSemanticVisitorConstructor(grammarName,ruleNames){var derivedConstructor=function(){};defineNameProp(derivedConstructor,grammarName+"BaseSemantics");var semanticProto={visit:function(cstNode,param){if((0,utils.kJ)(cstNode)&&(cstNode=cstNode[0]),!(0,utils.o8)(cstNode))return this[cstNode.name](cstNode.children,param)},validateVisitor:function(){var semanticDefinitionErrors=function validateVisitor(visitorInstance,ruleNames){var missingErrors=function validateMissingCstMethods(visitorInstance,ruleNames){var errors=(0,utils.UI)(ruleNames,(function(currRuleName){if(!(0,utils.mf)(visitorInstance[currRuleName]))return{msg:"Missing visitor method: <"+currRuleName+"> on "+functionName(visitorInstance.constructor)+" CST Visitor.",type:CstVisitorDefinitionError.MISSING_METHOD,methodName:currRuleName}}));return(0,utils.oA)(errors)}(visitorInstance,ruleNames),redundantErrors=function validateRedundantMethods(visitorInstance,ruleNames){var errors=[];for(var prop in visitorInstance)!(0,utils.mf)(visitorInstance[prop])||(0,utils.r3)(VALID_PROP_NAMES,prop)||(0,utils.r3)(ruleNames,prop)||errors.push({msg:"Redundant visitor method: <"+prop+"> on "+functionName(visitorInstance.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:CstVisitorDefinitionError.REDUNDANT_METHOD,methodName:prop});return errors}(visitorInstance,ruleNames);return missingErrors.concat(redundantErrors)}(this,ruleNames);if(!(0,utils.xb)(semanticDefinitionErrors)){var errorMessages=(0,utils.UI)(semanticDefinitionErrors,(function(currDefError){return currDefError.msg}));throw Error("Errors Detected in CST Visitor <"+functionName(this.constructor)+">:\n\t"+errorMessages.join("\n\n").replace(/\n/g,"\n\t"))}}};return(derivedConstructor.prototype=semanticProto).constructor=derivedConstructor,derivedConstructor._RULE_NAMES=ruleNames,derivedConstructor}!function(CstVisitorDefinitionError){CstVisitorDefinitionError[CstVisitorDefinitionError.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",CstVisitorDefinitionError[CstVisitorDefinitionError.MISSING_METHOD=1]="MISSING_METHOD"}(CstVisitorDefinitionError||(CstVisitorDefinitionError={}));var VALID_PROP_NAMES=["constructor","visit","validateVisitor"];var TreeBuilder=function(){function TreeBuilder(){}return TreeBuilder.prototype.initTreeBuilder=function(config){if(this.CST_STACK=[],this.outputCst=config.outputCst,this.nodeLocationTracking=(0,utils.e$)(config,"nodeLocationTracking")?config.nodeLocationTracking:DEFAULT_PARSER_CONFIG.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationFull,this.setNodeLocationFromNode=setNodeLocationFull,this.cstPostRule=utils.dG,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=utils.dG,this.setNodeLocationFromNode=utils.dG,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=setNodeLocationOnlyOffset,this.setNodeLocationFromNode=setNodeLocationOnlyOffset,this.cstPostRule=utils.dG,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=utils.dG,this.setNodeLocationFromNode=utils.dG,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+config.nodeLocationTracking+'"');this.setNodeLocationFromToken=utils.dG,this.setNodeLocationFromNode=utils.dG,this.cstPostRule=utils.dG,this.setInitialNodeLocation=utils.dG}else this.cstInvocationStateUpdate=utils.dG,this.cstFinallyStateUpdate=utils.dG,this.cstPostTerminal=utils.dG,this.cstPostNonTerminal=utils.dG,this.cstPostRule=utils.dG},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(cstNode){cstNode.location={startOffset:NaN,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationOnlyOffsetRegular=function(cstNode){cstNode.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRecovery=function(cstNode){cstNode.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.setInitialNodeLocationFullRegular=function(cstNode){var nextToken=this.LA(1);cstNode.location={startOffset:nextToken.startOffset,startLine:nextToken.startLine,startColumn:nextToken.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},TreeBuilder.prototype.cstInvocationStateUpdate=function(fullRuleName,shortName){var cstNode={name:fullRuleName,children:{}};this.setInitialNodeLocation(cstNode),this.CST_STACK.push(cstNode)},TreeBuilder.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},TreeBuilder.prototype.cstPostRuleFull=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==!0?(loc.endOffset=prevToken.endOffset,loc.endLine=prevToken.endLine,loc.endColumn=prevToken.endColumn):(loc.startOffset=NaN,loc.startLine=NaN,loc.startColumn=NaN)},TreeBuilder.prototype.cstPostRuleOnlyOffset=function(ruleCstNode){var prevToken=this.LA(0),loc=ruleCstNode.location;loc.startOffset<=prevToken.startOffset==!0?loc.endOffset=prevToken.endOffset:loc.startOffset=NaN},TreeBuilder.prototype.cstPostTerminal=function(key,consumedToken){var rootCst=this.CST_STACK[this.CST_STACK.length-1];!function addTerminalToCst(node,token,tokenTypeName){void 0===node.children[tokenTypeName]?node.children[tokenTypeName]=[token]:node.children[tokenTypeName].push(token)}(rootCst,consumedToken,key),this.setNodeLocationFromToken(rootCst.location,consumedToken)},TreeBuilder.prototype.cstPostNonTerminal=function(ruleCstResult,ruleName){var preCstNode=this.CST_STACK[this.CST_STACK.length-1];!function addNoneTerminalToCst(node,ruleName,ruleResult){void 0===node.children[ruleName]?node.children[ruleName]=[ruleResult]:node.children[ruleName].push(ruleResult)}(preCstNode,ruleName,ruleCstResult),this.setNodeLocationFromNode(preCstNode.location,ruleCstResult.location)},TreeBuilder.prototype.getBaseCstVisitorConstructor=function(){if((0,utils.o8)(this.baseCstVisitorConstructor)){var newBaseCstVisitorConstructor=createBaseSemanticVisitorConstructor(this.className,(0,utils.XP)(this.gastProductionsCache));return this.baseCstVisitorConstructor=newBaseCstVisitorConstructor,newBaseCstVisitorConstructor}return this.baseCstVisitorConstructor},TreeBuilder.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,utils.o8)(this.baseCstVisitorWithDefaultsConstructor)){var newConstructor=function createBaseVisitorConstructorWithDefaults(grammarName,ruleNames,baseConstructor){var derivedConstructor=function(){};defineNameProp(derivedConstructor,grammarName+"BaseSemanticsWithDefaults");var withDefaultsProto=Object.create(baseConstructor.prototype);return(0,utils.Ed)(ruleNames,(function(ruleName){withDefaultsProto[ruleName]=defaultVisit})),(derivedConstructor.prototype=withDefaultsProto).constructor=derivedConstructor,derivedConstructor}(this.className,(0,utils.XP)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=newConstructor,newConstructor}return this.baseCstVisitorWithDefaultsConstructor},TreeBuilder.prototype.getLastExplicitRuleShortName=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-1]},TreeBuilder.prototype.getPreviousExplicitRuleShortName=function(){var ruleStack=this.RULE_STACK;return ruleStack[ruleStack.length-2]},TreeBuilder.prototype.getLastExplicitRuleOccurrenceIndex=function(){var occurrenceStack=this.RULE_OCCURRENCE_STACK;return occurrenceStack[occurrenceStack.length-1]},TreeBuilder}(),LexerAdapter=function(){function LexerAdapter(){}return LexerAdapter.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(LexerAdapter.prototype,"input",{get:function(){return this.tokVector},set:function(newInput){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=newInput,this.tokVectorLength=newInput.length},enumerable:!1,configurable:!0}),LexerAdapter.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):END_OF_FILE},LexerAdapter.prototype.LA=function(howMuch){var soughtIdx=this.currIdx+howMuch;return soughtIdx<0||this.tokVectorLength<=soughtIdx?END_OF_FILE:this.tokVector[soughtIdx]},LexerAdapter.prototype.consumeToken=function(){this.currIdx++},LexerAdapter.prototype.exportLexerState=function(){return this.currIdx},LexerAdapter.prototype.importLexerState=function(newState){this.currIdx=newState},LexerAdapter.prototype.resetLexerState=function(){this.currIdx=-1},LexerAdapter.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},LexerAdapter.prototype.getLexerPosition=function(){return this.exportLexerState()},LexerAdapter}(),RecognizerApi=function(){function RecognizerApi(){}return RecognizerApi.prototype.ACTION=function(impl){return impl.call(this)},RecognizerApi.prototype.consume=function(idx,tokType,options){return this.consumeInternal(tokType,idx,options)},RecognizerApi.prototype.subrule=function(idx,ruleToCall,options){return this.subruleInternal(ruleToCall,idx,options)},RecognizerApi.prototype.option=function(idx,actionORMethodDef){return this.optionInternal(actionORMethodDef,idx)},RecognizerApi.prototype.or=function(idx,altsOrOpts){return this.orInternal(altsOrOpts,idx)},RecognizerApi.prototype.many=function(idx,actionORMethodDef){return this.manyInternal(idx,actionORMethodDef)},RecognizerApi.prototype.atLeastOne=function(idx,actionORMethodDef){return this.atLeastOneInternal(idx,actionORMethodDef)},RecognizerApi.prototype.CONSUME=function(tokType,options){return this.consumeInternal(tokType,0,options)},RecognizerApi.prototype.CONSUME1=function(tokType,options){return this.consumeInternal(tokType,1,options)},RecognizerApi.prototype.CONSUME2=function(tokType,options){return this.consumeInternal(tokType,2,options)},RecognizerApi.prototype.CONSUME3=function(tokType,options){return this.consumeInternal(tokType,3,options)},RecognizerApi.prototype.CONSUME4=function(tokType,options){return this.consumeInternal(tokType,4,options)},RecognizerApi.prototype.CONSUME5=function(tokType,options){return this.consumeInternal(tokType,5,options)},RecognizerApi.prototype.CONSUME6=function(tokType,options){return this.consumeInternal(tokType,6,options)},RecognizerApi.prototype.CONSUME7=function(tokType,options){return this.consumeInternal(tokType,7,options)},RecognizerApi.prototype.CONSUME8=function(tokType,options){return this.consumeInternal(tokType,8,options)},RecognizerApi.prototype.CONSUME9=function(tokType,options){return this.consumeInternal(tokType,9,options)},RecognizerApi.prototype.SUBRULE=function(ruleToCall,options){return this.subruleInternal(ruleToCall,0,options)},RecognizerApi.prototype.SUBRULE1=function(ruleToCall,options){return this.subruleInternal(ruleToCall,1,options)},RecognizerApi.prototype.SUBRULE2=function(ruleToCall,options){return this.subruleInternal(ruleToCall,2,options)},RecognizerApi.prototype.SUBRULE3=function(ruleToCall,options){return this.subruleInternal(ruleToCall,3,options)},RecognizerApi.prototype.SUBRULE4=function(ruleToCall,options){return this.subruleInternal(ruleToCall,4,options)},RecognizerApi.prototype.SUBRULE5=function(ruleToCall,options){return this.subruleInternal(ruleToCall,5,options)},RecognizerApi.prototype.SUBRULE6=function(ruleToCall,options){return this.subruleInternal(ruleToCall,6,options)},RecognizerApi.prototype.SUBRULE7=function(ruleToCall,options){return this.subruleInternal(ruleToCall,7,options)},RecognizerApi.prototype.SUBRULE8=function(ruleToCall,options){return this.subruleInternal(ruleToCall,8,options)},RecognizerApi.prototype.SUBRULE9=function(ruleToCall,options){return this.subruleInternal(ruleToCall,9,options)},RecognizerApi.prototype.OPTION=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,0)},RecognizerApi.prototype.OPTION1=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,1)},RecognizerApi.prototype.OPTION2=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,2)},RecognizerApi.prototype.OPTION3=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,3)},RecognizerApi.prototype.OPTION4=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,4)},RecognizerApi.prototype.OPTION5=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,5)},RecognizerApi.prototype.OPTION6=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,6)},RecognizerApi.prototype.OPTION7=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,7)},RecognizerApi.prototype.OPTION8=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,8)},RecognizerApi.prototype.OPTION9=function(actionORMethodDef){return this.optionInternal(actionORMethodDef,9)},RecognizerApi.prototype.OR=function(altsOrOpts){return this.orInternal(altsOrOpts,0)},RecognizerApi.prototype.OR1=function(altsOrOpts){return this.orInternal(altsOrOpts,1)},RecognizerApi.prototype.OR2=function(altsOrOpts){return this.orInternal(altsOrOpts,2)},RecognizerApi.prototype.OR3=function(altsOrOpts){return this.orInternal(altsOrOpts,3)},RecognizerApi.prototype.OR4=function(altsOrOpts){return this.orInternal(altsOrOpts,4)},RecognizerApi.prototype.OR5=function(altsOrOpts){return this.orInternal(altsOrOpts,5)},RecognizerApi.prototype.OR6=function(altsOrOpts){return this.orInternal(altsOrOpts,6)},RecognizerApi.prototype.OR7=function(altsOrOpts){return this.orInternal(altsOrOpts,7)},RecognizerApi.prototype.OR8=function(altsOrOpts){return this.orInternal(altsOrOpts,8)},RecognizerApi.prototype.OR9=function(altsOrOpts){return this.orInternal(altsOrOpts,9)},RecognizerApi.prototype.MANY=function(actionORMethodDef){this.manyInternal(0,actionORMethodDef)},RecognizerApi.prototype.MANY1=function(actionORMethodDef){this.manyInternal(1,actionORMethodDef)},RecognizerApi.prototype.MANY2=function(actionORMethodDef){this.manyInternal(2,actionORMethodDef)},RecognizerApi.prototype.MANY3=function(actionORMethodDef){this.manyInternal(3,actionORMethodDef)},RecognizerApi.prototype.MANY4=function(actionORMethodDef){this.manyInternal(4,actionORMethodDef)},RecognizerApi.prototype.MANY5=function(actionORMethodDef){this.manyInternal(5,actionORMethodDef)},RecognizerApi.prototype.MANY6=function(actionORMethodDef){this.manyInternal(6,actionORMethodDef)},RecognizerApi.prototype.MANY7=function(actionORMethodDef){this.manyInternal(7,actionORMethodDef)},RecognizerApi.prototype.MANY8=function(actionORMethodDef){this.manyInternal(8,actionORMethodDef)},RecognizerApi.prototype.MANY9=function(actionORMethodDef){this.manyInternal(9,actionORMethodDef)},RecognizerApi.prototype.MANY_SEP=function(options){this.manySepFirstInternal(0,options)},RecognizerApi.prototype.MANY_SEP1=function(options){this.manySepFirstInternal(1,options)},RecognizerApi.prototype.MANY_SEP2=function(options){this.manySepFirstInternal(2,options)},RecognizerApi.prototype.MANY_SEP3=function(options){this.manySepFirstInternal(3,options)},RecognizerApi.prototype.MANY_SEP4=function(options){this.manySepFirstInternal(4,options)},RecognizerApi.prototype.MANY_SEP5=function(options){this.manySepFirstInternal(5,options)},RecognizerApi.prototype.MANY_SEP6=function(options){this.manySepFirstInternal(6,options)},RecognizerApi.prototype.MANY_SEP7=function(options){this.manySepFirstInternal(7,options)},RecognizerApi.prototype.MANY_SEP8=function(options){this.manySepFirstInternal(8,options)},RecognizerApi.prototype.MANY_SEP9=function(options){this.manySepFirstInternal(9,options)},RecognizerApi.prototype.AT_LEAST_ONE=function(actionORMethodDef){this.atLeastOneInternal(0,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE1=function(actionORMethodDef){return this.atLeastOneInternal(1,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE2=function(actionORMethodDef){this.atLeastOneInternal(2,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE3=function(actionORMethodDef){this.atLeastOneInternal(3,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE4=function(actionORMethodDef){this.atLeastOneInternal(4,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE5=function(actionORMethodDef){this.atLeastOneInternal(5,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE6=function(actionORMethodDef){this.atLeastOneInternal(6,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE7=function(actionORMethodDef){this.atLeastOneInternal(7,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE8=function(actionORMethodDef){this.atLeastOneInternal(8,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE9=function(actionORMethodDef){this.atLeastOneInternal(9,actionORMethodDef)},RecognizerApi.prototype.AT_LEAST_ONE_SEP=function(options){this.atLeastOneSepFirstInternal(0,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP1=function(options){this.atLeastOneSepFirstInternal(1,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP2=function(options){this.atLeastOneSepFirstInternal(2,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP3=function(options){this.atLeastOneSepFirstInternal(3,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP4=function(options){this.atLeastOneSepFirstInternal(4,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP5=function(options){this.atLeastOneSepFirstInternal(5,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP6=function(options){this.atLeastOneSepFirstInternal(6,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP7=function(options){this.atLeastOneSepFirstInternal(7,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP8=function(options){this.atLeastOneSepFirstInternal(8,options)},RecognizerApi.prototype.AT_LEAST_ONE_SEP9=function(options){this.atLeastOneSepFirstInternal(9,options)},RecognizerApi.prototype.RULE=function(name,implementation,config){if(void 0===config&&(config=DEFAULT_RULE_CONFIG),(0,utils.r3)(this.definedRulesNames,name)){var error={message:defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:name,grammarName:this.className}),type:ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:name};this.definitionErrors.push(error)}this.definedRulesNames.push(name);var ruleImplementation=this.defineRule(name,implementation,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.OVERRIDE_RULE=function(name,impl,config){void 0===config&&(config=DEFAULT_RULE_CONFIG);var ruleErrors=[];ruleErrors=ruleErrors.concat(function validateRuleIsOverridden(ruleName,definedRulesNames,className){var errMsg,errors=[];return utils.r3(definedRulesNames,ruleName)||(errMsg="Invalid rule override, rule: ->"+ruleName+"<- cannot be overridden in the grammar: ->"+className+"<-as it is not defined in any of the super grammars ",errors.push({message:errMsg,type:ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName})),errors}(name,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,ruleErrors);var ruleImplementation=this.defineRule(name,impl,config);return this[name]=ruleImplementation,ruleImplementation},RecognizerApi.prototype.BACKTRACK=function(grammarRule,args){return function(){this.isBackTrackingStack.push(1);var orgState=this.saveRecogState();try{return grammarRule.apply(this,args),!0}catch(e){if(isRecognitionException(e))return!1;throw e}finally{this.reloadRecogState(orgState),this.isBackTrackingStack.pop()}}},RecognizerApi.prototype.getGAstProductions=function(){return this.gastProductionsCache},RecognizerApi.prototype.getSerializedGastProductions=function(){return serializeGrammar((0,utils.VO)(this.gastProductionsCache))},RecognizerApi}(),RecognizerEngine=function(){function RecognizerEngine(){}return RecognizerEngine.prototype.initRecognizerEngine=function(tokenVocabulary,config){if(this.className=function classNameFromInstance(instance){return functionName(instance.constructor)}(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,utils.e$)(config,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,utils.kJ)(tokenVocabulary)){if((0,utils.xb)(tokenVocabulary))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof tokenVocabulary[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,utils.kJ)(tokenVocabulary))this.tokensMap=(0,utils.u4)(tokenVocabulary,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{});else if((0,utils.e$)(tokenVocabulary,"modes")&&(0,utils.yW)((0,utils.xH)((0,utils.VO)(tokenVocabulary.modes)),isTokenType)){var allTokenTypes=(0,utils.xH)((0,utils.VO)(tokenVocabulary.modes)),uniqueTokens=(0,utils.jj)(allTokenTypes);this.tokensMap=(0,utils.u4)(uniqueTokens,(function(acc,tokType){return acc[tokType.name]=tokType,acc}),{})}else{if(!(0,utils.Kn)(tokenVocabulary))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,utils.Cl)(tokenVocabulary)}this.tokensMap.EOF=EOF;var noTokenCategoriesUsed=(0,utils.yW)((0,utils.VO)(tokenVocabulary),(function(tokenConstructor){return(0,utils.xb)(tokenConstructor.categoryMatches)}));this.tokenMatcher=noTokenCategoriesUsed?tokenStructuredMatcherNoCategories:tokenStructuredMatcher,augmentTokenTypes((0,utils.VO)(this.tokensMap))},RecognizerEngine.prototype.defineRule=function(ruleName,impl,config){if(this.selfAnalysisDone)throw Error("Grammar rule <"+ruleName+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var wrappedGrammarRule,resyncEnabled=(0,utils.e$)(config,"resyncEnabled")?config.resyncEnabled:DEFAULT_RULE_CONFIG.resyncEnabled,recoveryValueFunc=(0,utils.e$)(config,"recoveryValueFunc")?config.recoveryValueFunc:DEFAULT_RULE_CONFIG.recoveryValueFunc,shortName=this.ruleShortNameIdx<<12;function invokeRuleWithTry(args){try{if(!0===this.outputCst){impl.apply(this,args);var cst=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(cst),cst}return impl.apply(this,args)}catch(e){return this.invokeRuleCatch(e,resyncEnabled,recoveryValueFunc)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[shortName]=ruleName,this.fullRuleNameToShort[ruleName]=shortName;return(wrappedGrammarRule=function(idxInCallingRule,args){return void 0===idxInCallingRule&&(idxInCallingRule=0),this.ruleInvocationStateUpdate(shortName,ruleName,idxInCallingRule),invokeRuleWithTry.call(this,args)}).ruleName=ruleName,wrappedGrammarRule.originalGrammarAction=impl,wrappedGrammarRule},RecognizerEngine.prototype.invokeRuleCatch=function(e,resyncEnabledConfig,recoveryValueFunc){var isFirstInvokedRule=1===this.RULE_STACK.length,reSyncEnabled=resyncEnabledConfig&&!this.isBackTracking()&&this.recoveryEnabled;if(isRecognitionException(e)){var recogError=e;if(reSyncEnabled){var partialCstResult,reSyncTokType=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(reSyncTokType))return recogError.resyncedTokens=this.reSyncTo(reSyncTokType),this.outputCst?((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,partialCstResult):recoveryValueFunc();throw this.outputCst&&((partialCstResult=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,recogError.partialCstResult=partialCstResult),recogError}if(isFirstInvokedRule)return this.moveToTerminatedState(),recoveryValueFunc();throw recogError}throw e},RecognizerEngine.prototype.optionInternal=function(actionORMethodDef,occurrence){var key=this.getKeyForAutomaticLookahead(512,occurrence);return this.optionInternalLogic(actionORMethodDef,occurrence,key)},RecognizerEngine.prototype.optionInternalLogic=function(actionORMethodDef,occurrence,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_1=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_1.call(_this)}}}else action=actionORMethodDef;if(!0===lookAheadFunc.call(this))return action.call(this)},RecognizerEngine.prototype.atLeastOneInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(1024,prodOccurrence);return this.atLeastOneInternalLogic(prodOccurrence,actionORMethodDef,laKey)},RecognizerEngine.prototype.atLeastOneInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookAheadFunc=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_2=lookAheadFunc;lookAheadFunc=function(){return predicate.call(_this)&&orgLookaheadFunction_2.call(_this)}}}else action=actionORMethodDef;if(!0!==lookAheadFunc.call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY,actionORMethodDef.ERR_MSG);for(var notStuck=this.doSingleRepetition(action);!0===lookAheadFunc.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[prodOccurrence,actionORMethodDef],lookAheadFunc,1024,prodOccurrence,NextTerminalAfterAtLeastOneWalker)},RecognizerEngine.prototype.atLeastOneSepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1536,prodOccurrence);this.atLeastOneSepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.atLeastOneSepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0!==this.getLaFuncFromCache(key).call(this))throw this.raiseEarlyExitException(prodOccurrence,PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,options.ERR_MSG);action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,NextTerminalAfterAtLeastOneSepWalker],separatorLookAheadFunc,1536,prodOccurrence,NextTerminalAfterAtLeastOneSepWalker)},RecognizerEngine.prototype.manyInternal=function(prodOccurrence,actionORMethodDef){var laKey=this.getKeyForAutomaticLookahead(768,prodOccurrence);return this.manyInternalLogic(prodOccurrence,actionORMethodDef,laKey)},RecognizerEngine.prototype.manyInternalLogic=function(prodOccurrence,actionORMethodDef,key){var action,predicate,_this=this,lookaheadFunction=this.getLaFuncFromCache(key);if(void 0!==actionORMethodDef.DEF){if(action=actionORMethodDef.DEF,void 0!==(predicate=actionORMethodDef.GATE)){var orgLookaheadFunction_3=lookaheadFunction;lookaheadFunction=function(){return predicate.call(_this)&&orgLookaheadFunction_3.call(_this)}}}else action=actionORMethodDef;for(var notStuck=!0;!0===lookaheadFunction.call(this)&&!0===notStuck;)notStuck=this.doSingleRepetition(action);this.attemptInRepetitionRecovery(this.manyInternal,[prodOccurrence,actionORMethodDef],lookaheadFunction,768,prodOccurrence,NextTerminalAfterManyWalker,notStuck)},RecognizerEngine.prototype.manySepFirstInternal=function(prodOccurrence,options){var laKey=this.getKeyForAutomaticLookahead(1280,prodOccurrence);this.manySepFirstInternalLogic(prodOccurrence,options,laKey)},RecognizerEngine.prototype.manySepFirstInternalLogic=function(prodOccurrence,options,key){var _this=this,action=options.DEF,separator=options.SEP;if(!0===this.getLaFuncFromCache(key).call(this)){action.call(this);for(var separatorLookAheadFunc=function(){return _this.tokenMatcher(_this.LA(1),separator)};!0===this.tokenMatcher(this.LA(1),separator);)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,NextTerminalAfterManySepWalker],separatorLookAheadFunc,1280,prodOccurrence,NextTerminalAfterManySepWalker)}},RecognizerEngine.prototype.repetitionSepSecondInternal=function(prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker){for(;separatorLookAheadFunc();)this.CONSUME(separator),action.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[prodOccurrence,separator,separatorLookAheadFunc,action,nextTerminalAfterWalker],separatorLookAheadFunc,1536,prodOccurrence,nextTerminalAfterWalker)},RecognizerEngine.prototype.doSingleRepetition=function(action){var beforeIteration=this.getLexerPosition();return action.call(this),this.getLexerPosition()>beforeIteration},RecognizerEngine.prototype.orInternal=function(altsOrOpts,occurrence){var laKey=this.getKeyForAutomaticLookahead(256,occurrence),alts=(0,utils.kJ)(altsOrOpts)?altsOrOpts:altsOrOpts.DEF,altIdxToTake=this.getLaFuncFromCache(laKey).call(this,alts);if(void 0!==altIdxToTake)return alts[altIdxToTake].ALT.call(this);this.raiseNoAltException(occurrence,altsOrOpts.ERR_MSG)},RecognizerEngine.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var firstRedundantTok=this.LA(1),errMsg=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:firstRedundantTok,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new NotAllInputParsedException(errMsg,firstRedundantTok))}},RecognizerEngine.prototype.subruleInternal=function(ruleToCall,idx,options){var ruleResult;try{var args=void 0!==options?options.ARGS:void 0;return ruleResult=ruleToCall.call(this,idx,args),this.cstPostNonTerminal(ruleResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleToCall.ruleName),ruleResult}catch(e){this.subruleInternalError(e,options,ruleToCall.ruleName)}},RecognizerEngine.prototype.subruleInternalError=function(e,options,ruleName){throw isRecognitionException(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==options&&void 0!==options.LABEL?options.LABEL:ruleName),delete e.partialCstResult),e},RecognizerEngine.prototype.consumeInternal=function(tokType,idx,options){var consumedToken;try{var nextToken=this.LA(1);!0===this.tokenMatcher(nextToken,tokType)?(this.consumeToken(),consumedToken=nextToken):this.consumeInternalError(tokType,nextToken,options)}catch(eFromConsumption){consumedToken=this.consumeInternalRecovery(tokType,idx,eFromConsumption)}return this.cstPostTerminal(void 0!==options&&void 0!==options.LABEL?options.LABEL:tokType.name,consumedToken),consumedToken},RecognizerEngine.prototype.consumeInternalError=function(tokType,nextToken,options){var msg,previousToken=this.LA(0);throw msg=void 0!==options&&options.ERR_MSG?options.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:tokType,actual:nextToken,previous:previousToken,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new MismatchedTokenException(msg,nextToken,previousToken))},RecognizerEngine.prototype.consumeInternalRecovery=function(tokType,idx,eFromConsumption){if(!this.recoveryEnabled||"MismatchedTokenException"!==eFromConsumption.name||this.isBackTracking())throw eFromConsumption;var follows=this.getFollowsForInRuleRecovery(tokType,idx);try{return this.tryInRuleRecovery(tokType,follows)}catch(eFromInRuleRecovery){throw eFromInRuleRecovery.name===IN_RULE_RECOVERY_EXCEPTION?eFromConsumption:eFromInRuleRecovery}},RecognizerEngine.prototype.saveRecogState=function(){var savedErrors=this.errors,savedRuleStack=(0,utils.Qw)(this.RULE_STACK);return{errors:savedErrors,lexerState:this.exportLexerState(),RULE_STACK:savedRuleStack,CST_STACK:this.CST_STACK}},RecognizerEngine.prototype.reloadRecogState=function(newState){this.errors=newState.errors,this.importLexerState(newState.lexerState),this.RULE_STACK=newState.RULE_STACK},RecognizerEngine.prototype.ruleInvocationStateUpdate=function(shortName,fullName,idxInCallingRule){this.RULE_OCCURRENCE_STACK.push(idxInCallingRule),this.RULE_STACK.push(shortName),this.cstInvocationStateUpdate(fullName,shortName)},RecognizerEngine.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},RecognizerEngine.prototype.getCurrRuleFullName=function(){var shortName=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.shortRuleNameToFullName=function(shortName){return this.shortRuleNameToFull[shortName]},RecognizerEngine.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),EOF)},RecognizerEngine.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},RecognizerEngine}(),ErrorHandler=function(){function ErrorHandler(){}return ErrorHandler.prototype.initErrorHandler=function(config){this._errors=[],this.errorMessageProvider=(0,utils.e$)(config,"errorMessageProvider")?config.errorMessageProvider:DEFAULT_PARSER_CONFIG.errorMessageProvider},ErrorHandler.prototype.SAVE_ERROR=function(error){if(isRecognitionException(error))return error.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,utils.Qw)(this.RULE_OCCURRENCE_STACK)},this._errors.push(error),error;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(ErrorHandler.prototype,"errors",{get:function(){return(0,utils.Qw)(this._errors)},set:function(newErrors){this._errors=newErrors},enumerable:!1,configurable:!0}),ErrorHandler.prototype.raiseEarlyExitException=function(occurrence,prodType,userDefinedErrMsg){for(var ruleName=this.getCurrRuleFullName(),insideProdPaths=getLookaheadPathsForOptionalProd(occurrence,this.getGAstProductions()[ruleName],prodType,this.maxLookahead)[0],actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var msg=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:insideProdPaths,actual:actualTokens,previous:this.LA(0),customUserDescription:userDefinedErrMsg,ruleName});throw this.SAVE_ERROR(new EarlyExitException(msg,this.LA(1),this.LA(0)))},ErrorHandler.prototype.raiseNoAltException=function(occurrence,errMsgTypes){for(var ruleName=this.getCurrRuleFullName(),lookAheadPathsPerAlternative=getLookaheadPathsForOr(occurrence,this.getGAstProductions()[ruleName],this.maxLookahead),actualTokens=[],i=1;i<=this.maxLookahead;i++)actualTokens.push(this.LA(i));var previousToken=this.LA(0),errMsg=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:lookAheadPathsPerAlternative,actual:actualTokens,previous:previousToken,customUserDescription:errMsgTypes,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new NoViableAltException(errMsg,this.LA(1),previousToken))},ErrorHandler}(),ContentAssist=function(){function ContentAssist(){}return ContentAssist.prototype.initContentAssist=function(){},ContentAssist.prototype.computeContentAssist=function(startRuleName,precedingInput){var startRuleGast=this.gastProductionsCache[startRuleName];if((0,utils.o8)(startRuleGast))throw Error("Rule ->"+startRuleName+"<- does not exist in this grammar.");return nextPossibleTokensAfter([startRuleGast],precedingInput,this.tokenMatcher,this.maxLookahead)},ContentAssist.prototype.getNextPossibleTokenTypes=function(grammarPath){var topRuleName=(0,utils.Ps)(grammarPath.ruleStack),topProduction=this.getGAstProductions()[topRuleName];return new NextAfterTokenWalker(topProduction,grammarPath).startWalking()},ContentAssist}(),RECORDING_NULL_OBJECT={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(RECORDING_NULL_OBJECT);var MAX_METHOD_IDX=Math.pow(2,8)-1,RFT=createToken({name:"RECORDING_PHASE_TOKEN",pattern:Lexer.NA});augmentTokenTypes([RFT]);var RECORDING_PHASE_TOKEN=createTokenInstance(RFT,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(RECORDING_PHASE_TOKEN);var RECORDING_PHASE_CSTNODE={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},GastRecorder=function(){function GastRecorder(){}return GastRecorder.prototype.initGastRecorder=function(config){this.recordingProdStack=[],this.RECORDING_PHASE=!1},GastRecorder.prototype.enableRecording=function(){var _this=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var _loop_1=function(i){var idx=i>0?i:"";_this["CONSUME"+idx]=function(arg1,arg2){return this.consumeInternalRecord(arg1,i,arg2)},_this["SUBRULE"+idx]=function(arg1,arg2){return this.subruleInternalRecord(arg1,i,arg2)},_this["OPTION"+idx]=function(arg1){return this.optionInternalRecord(arg1,i)},_this["OR"+idx]=function(arg1){return this.orInternalRecord(arg1,i)},_this["MANY"+idx]=function(arg1){this.manyInternalRecord(i,arg1)},_this["MANY_SEP"+idx]=function(arg1){this.manySepFirstInternalRecord(i,arg1)},_this["AT_LEAST_ONE"+idx]=function(arg1){this.atLeastOneInternalRecord(i,arg1)},_this["AT_LEAST_ONE_SEP"+idx]=function(arg1){this.atLeastOneSepFirstInternalRecord(i,arg1)}},i=0;i<10;i++)_loop_1(i);_this.consume=function(idx,arg1,arg2){return this.consumeInternalRecord(arg1,idx,arg2)},_this.subrule=function(idx,arg1,arg2){return this.subruleInternalRecord(arg1,idx,arg2)},_this.option=function(idx,arg1){return this.optionInternalRecord(arg1,idx)},_this.or=function(idx,arg1){return this.orInternalRecord(arg1,idx)},_this.many=function(idx,arg1){this.manyInternalRecord(idx,arg1)},_this.atLeastOne=function(idx,arg1){this.atLeastOneInternalRecord(idx,arg1)},_this.ACTION=_this.ACTION_RECORD,_this.BACKTRACK=_this.BACKTRACK_RECORD,_this.LA=_this.LA_RECORD}))},GastRecorder.prototype.disableRecording=function(){var _this=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var i=0;i<10;i++){var idx=i>0?i:"";delete _this["CONSUME"+idx],delete _this["SUBRULE"+idx],delete _this["OPTION"+idx],delete _this["OR"+idx],delete _this["MANY"+idx],delete _this["MANY_SEP"+idx],delete _this["AT_LEAST_ONE"+idx],delete _this["AT_LEAST_ONE_SEP"+idx]}delete _this.consume,delete _this.subrule,delete _this.option,delete _this.or,delete _this.many,delete _this.atLeastOne,delete _this.ACTION,delete _this.BACKTRACK,delete _this.LA}))},GastRecorder.prototype.ACTION_RECORD=function(impl){},GastRecorder.prototype.BACKTRACK_RECORD=function(grammarRule,args){return function(){return!0}},GastRecorder.prototype.LA_RECORD=function(howMuch){return END_OF_FILE},GastRecorder.prototype.topLevelRuleRecord=function(name,def){try{var newTopLevelRule=new Rule({definition:[],name});return newTopLevelRule.name=name,this.recordingProdStack.push(newTopLevelRule),def.call(this),this.recordingProdStack.pop(),newTopLevelRule}catch(originalError){if(!0!==originalError.KNOWN_RECORDER_ERROR)try{originalError.message=originalError.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(mutabilityError){throw originalError}throw originalError}},GastRecorder.prototype.optionInternalRecord=function(actionORMethodDef,occurrence){return recordProd.call(this,Option,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,RepetitionMandatory,actionORMethodDef,occurrence)},GastRecorder.prototype.atLeastOneSepFirstInternalRecord=function(occurrence,options){recordProd.call(this,RepetitionMandatoryWithSeparator,options,occurrence,true)},GastRecorder.prototype.manyInternalRecord=function(occurrence,actionORMethodDef){recordProd.call(this,Repetition,actionORMethodDef,occurrence)},GastRecorder.prototype.manySepFirstInternalRecord=function(occurrence,options){recordProd.call(this,RepetitionWithSeparator,options,occurrence,true)},GastRecorder.prototype.orInternalRecord=function(altsOrOpts,occurrence){return recordOrProd.call(this,altsOrOpts,occurrence)},GastRecorder.prototype.subruleInternalRecord=function(ruleToCall,occurrence,options){if(assertMethodIdxIsValid(occurrence),!ruleToCall||!1===(0,utils.e$)(ruleToCall,"ruleName")){var error=new Error("<SUBRULE"+getIdxSuffix(occurrence)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(ruleToCall)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=(0,utils.fj)(this.recordingProdStack),ruleName=ruleToCall.ruleName,newNoneTerminal=new NonTerminal({idx:occurrence,nonTerminalName:ruleName,referencedRule:void 0});return prevProd.definition.push(newNoneTerminal),this.outputCst?RECORDING_PHASE_CSTNODE:RECORDING_NULL_OBJECT},GastRecorder.prototype.consumeInternalRecord=function(tokType,occurrence,options){if(assertMethodIdxIsValid(occurrence),!hasShortKeyProperty(tokType)){var error=new Error("<CONSUME"+getIdxSuffix(occurrence)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(tokType)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw error.KNOWN_RECORDER_ERROR=!0,error}var prevProd=(0,utils.fj)(this.recordingProdStack),newNoneTerminal=new Terminal({idx:occurrence,terminalType:tokType});return prevProd.definition.push(newNoneTerminal),RECORDING_PHASE_TOKEN},GastRecorder}();function recordProd(prodConstructor,mainProdArg,occurrence,handleSep){void 0===handleSep&&(handleSep=!1),assertMethodIdxIsValid(occurrence);var prevProd=(0,utils.fj)(this.recordingProdStack),grammarAction=(0,utils.mf)(mainProdArg)?mainProdArg:mainProdArg.DEF,newProd=new prodConstructor({definition:[],idx:occurrence});return handleSep&&(newProd.separator=mainProdArg.SEP),(0,utils.e$)(mainProdArg,"MAX_LOOKAHEAD")&&(newProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD),this.recordingProdStack.push(newProd),grammarAction.call(this),prevProd.definition.push(newProd),this.recordingProdStack.pop(),RECORDING_NULL_OBJECT}function recordOrProd(mainProdArg,occurrence){var _this=this;assertMethodIdxIsValid(occurrence);var prevProd=(0,utils.fj)(this.recordingProdStack),hasOptions=!1===(0,utils.kJ)(mainProdArg),alts=!1===hasOptions?mainProdArg:mainProdArg.DEF,newOrProd=new Alternation({definition:[],idx:occurrence,ignoreAmbiguities:hasOptions&&!0===mainProdArg.IGNORE_AMBIGUITIES});(0,utils.e$)(mainProdArg,"MAX_LOOKAHEAD")&&(newOrProd.maxLookahead=mainProdArg.MAX_LOOKAHEAD);var hasPredicates=(0,utils.G)(alts,(function(currAlt){return(0,utils.mf)(currAlt.GATE)}));return newOrProd.hasPredicates=hasPredicates,prevProd.definition.push(newOrProd),(0,utils.Ed)(alts,(function(currAlt){var currAltFlat=new Alternative({definition:[]});newOrProd.definition.push(currAltFlat),(0,utils.e$)(currAlt,"IGNORE_AMBIGUITIES")?currAltFlat.ignoreAmbiguities=currAlt.IGNORE_AMBIGUITIES:(0,utils.e$)(currAlt,"GATE")&&(currAltFlat.ignoreAmbiguities=!0),_this.recordingProdStack.push(currAltFlat),currAlt.ALT.call(_this),_this.recordingProdStack.pop()})),RECORDING_NULL_OBJECT}function getIdxSuffix(idx){return 0===idx?"":""+idx}function assertMethodIdxIsValid(idx){if(idx<0||idx>MAX_METHOD_IDX){var error=new Error("Invalid DSL Method idx value: <"+idx+">\n\tIdx value must be a none negative value smaller than "+(MAX_METHOD_IDX+1));throw error.KNOWN_RECORDER_ERROR=!0,error}}var PerformanceTracer=function(){function PerformanceTracer(){}return PerformanceTracer.prototype.initPerformanceTracer=function(config){if((0,utils.e$)(config,"traceInitPerf")){var userTraceInitPerf=config.traceInitPerf,traceIsNumber="number"==typeof userTraceInitPerf;this.traceInitMaxIdent=traceIsNumber?userTraceInitPerf:1/0,this.traceInitPerf=traceIsNumber?userTraceInitPerf>0:userTraceInitPerf}else this.traceInitMaxIdent=0,this.traceInitPerf=DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},PerformanceTracer.prototype.TRACE_INIT=function(phaseDesc,phaseImpl){if(!0===this.traceInitPerf){this.traceInitIndent++;var indent=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(indent+"--\x3e <"+phaseDesc+">");var _a=(0,utils.HT)(phaseImpl),time=_a.time,value=_a.value,traceMethod=time>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&traceMethod(indent+"<-- <"+phaseDesc+"> time: "+time+"ms"),this.traceInitIndent--,value}return phaseImpl()},PerformanceTracer}(),parser_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),END_OF_FILE=createTokenInstance(EOF,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(END_OF_FILE);var ParserDefinitionErrorType,DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function EMPTY_ALT(value){return void 0===value&&(value=void 0),function(){return value}}!function(ParserDefinitionErrorType){ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",ParserDefinitionErrorType[ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",ParserDefinitionErrorType[ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",ParserDefinitionErrorType[ParserDefinitionErrorType.LEFT_RECURSION=5]="LEFT_RECURSION",ParserDefinitionErrorType[ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",ParserDefinitionErrorType[ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",ParserDefinitionErrorType[ParserDefinitionErrorType.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",ParserDefinitionErrorType[ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",ParserDefinitionErrorType[ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",ParserDefinitionErrorType[ParserDefinitionErrorType.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(ParserDefinitionErrorType||(ParserDefinitionErrorType={}));var Parser=function(){function Parser(tokenVocabulary,config){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(config),this.initLexerAdapter(),this.initLooksAhead(config),this.initRecognizerEngine(tokenVocabulary,config),this.initRecoverable(config),this.initTreeBuilder(config),this.initContentAssist(),this.initGastRecorder(config),this.initPerformanceTracer(config),(0,utils.e$)(config,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,utils.e$)(config,"skipValidations")?config.skipValidations:DEFAULT_PARSER_CONFIG.skipValidations}return Parser.performSelfAnalysis=function(parserInstance){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},Parser.prototype.performSelfAnalysis=function(){var _this=this;this.TRACE_INIT("performSelfAnalysis",(function(){var defErrorsMsgs;_this.selfAnalysisDone=!0;var className=_this.className;_this.TRACE_INIT("toFastProps",(function(){(0,utils.SV)(_this)})),_this.TRACE_INIT("Grammar Recording",(function(){try{_this.enableRecording(),(0,utils.Ed)(_this.definedRulesNames,(function(currRuleName){var originalGrammarAction=_this[currRuleName].originalGrammarAction,recordedRuleGast=void 0;_this.TRACE_INIT(currRuleName+" Rule",(function(){recordedRuleGast=_this.topLevelRuleRecord(currRuleName,originalGrammarAction)})),_this.gastProductionsCache[currRuleName]=recordedRuleGast}))}finally{_this.disableRecording()}}));var resolverErrors=[];if(_this.TRACE_INIT("Grammar Resolving",(function(){resolverErrors=gast_resolver_public_resolveGrammar({rules:(0,utils.VO)(_this.gastProductionsCache)}),_this.definitionErrors.push.apply(_this.definitionErrors,resolverErrors)})),_this.TRACE_INIT("Grammar Validations",(function(){if((0,utils.xb)(resolverErrors)&&!1===_this.skipValidations){var validationErrors=gast_resolver_public_validateGrammar({rules:(0,utils.VO)(_this.gastProductionsCache),maxLookahead:_this.maxLookahead,tokenTypes:(0,utils.VO)(_this.tokensMap),errMsgProvider:defaultGrammarValidatorErrorProvider,grammarName:className});_this.definitionErrors.push.apply(_this.definitionErrors,validationErrors)}})),(0,utils.xb)(_this.definitionErrors)&&(_this.recoveryEnabled&&_this.TRACE_INIT("computeAllProdsFollows",(function(){var allFollows=function computeAllProdsFollows(topProductions){var reSyncFollows={};return(0,utils.Ed)(topProductions,(function(topProd){var currRefsFollow=new ResyncFollowsWalker(topProd).startWalking();(0,utils.f0)(reSyncFollows,currRefsFollow)})),reSyncFollows}((0,utils.VO)(_this.gastProductionsCache));_this.resyncFollows=allFollows})),_this.TRACE_INIT("ComputeLookaheadFunctions",(function(){_this.preComputeLookaheadFunctions((0,utils.VO)(_this.gastProductionsCache))}))),!Parser.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,utils.xb)(_this.definitionErrors))throw defErrorsMsgs=(0,utils.UI)(_this.definitionErrors,(function(defError){return defError.message})),new Error("Parser Definition Errors detected:\n "+defErrorsMsgs.join("\n-------------------------------\n"))}))},Parser.DEFER_DEFINITION_ERRORS_HANDLING=!1,Parser}();(0,utils.ef)(Parser,[Recoverable,LooksAhead,TreeBuilder,LexerAdapter,RecognizerEngine,RecognizerApi,ErrorHandler,ContentAssist,GastRecorder,PerformanceTracer]);var CstParser=function(_super){function CstParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=(0,utils.Cl)(config);return configClone.outputCst=!0,_super.call(this,tokenVocabulary,configClone)||this}return parser_extends(CstParser,_super),CstParser}(Parser),EmbeddedActionsParser=function(_super){function EmbeddedActionsParser(tokenVocabulary,config){void 0===config&&(config=DEFAULT_PARSER_CONFIG);var configClone=(0,utils.Cl)(config);return configClone.outputCst=!1,_super.call(this,tokenVocabulary,configClone)||this}return parser_extends(EmbeddedActionsParser,_super),EmbeddedActionsParser}(Parser);function createSyntaxDiagramsCode(grammar,_a){var _b=void 0===_a?{}:_a,_c=_b.resourceBase,resourceBase=void 0===_c?"https://unpkg.com/chevrotain@"+VERSION+"/diagrams/":_c,_d=_b.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===_d?"https://unpkg.com/chevrotain@"+VERSION+"/diagrams/diagrams.css":_d)+"'>\n")+("\n<script src='"+resourceBase+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+resourceBase+"src/diagrams_builder.js'><\/script>\n<script src='"+resourceBase+"src/diagrams_behavior.js'><\/script>\n<script src='"+resourceBase+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(grammar,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var NL="\n";function genClass(options){return"\nfunction "+options.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+function genAllRules(rules){return(0,utils.UI)(rules,(function(currRule){return function genRule(prod,n){var result=indent(n,'$.RULE("'+prod.name+'", function() {')+NL;return result+=genDefinition(prod.definition,n+1),result+=indent(n+1,"})")+NL,result}(currRule,1)})).join("\n")}(options.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+options.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+options.name+".prototype.constructor = "+options.name+"    \n    "}function genAlternation(prod,n){var result=indent(n,"$.OR"+prod.idx+"([")+NL,alts=(0,utils.UI)(prod.definition,(function(altDef){return function genSingleAlt(prod,n){var result=indent(n,"{")+NL;return result+=indent(n+1,"ALT: function() {")+NL,result+=genDefinition(prod.definition,n+1),result+=indent(n+1,"}")+NL,result+=indent(n,"}"),result}(altDef,n+1)}));return result+=alts.join(","+NL),result+=NL+indent(n,"])"+NL)}function genProd(prod,n){if(prod instanceof NonTerminal)return function genNonTerminal(prod,n){return indent(n,"$.SUBRULE"+prod.idx+"($."+prod.nonTerminalName+")"+NL)}(prod,n);if(prod instanceof Option)return genDSLRule("OPTION",prod,n);if(prod instanceof RepetitionMandatory)return genDSLRule("AT_LEAST_ONE",prod,n);if(prod instanceof RepetitionMandatoryWithSeparator)return genDSLRule("AT_LEAST_ONE_SEP",prod,n);if(prod instanceof RepetitionWithSeparator)return genDSLRule("MANY_SEP",prod,n);if(prod instanceof Repetition)return genDSLRule("MANY",prod,n);if(prod instanceof Alternation)return genAlternation(prod,n);if(prod instanceof Terminal)return function genTerminal(prod,n){var name=prod.terminalType.name;return indent(n,"$.CONSUME"+prod.idx+"(this.tokensMap."+name+")"+NL)}(prod,n);if(prod instanceof Alternative)return genDefinition(prod.definition,n);throw Error("non exhaustive match")}function genDSLRule(dslName,prod,n){var result=indent(n,"$."+(dslName+prod.idx)+"(");return prod.separator?(result+="{"+NL,result+=indent(n+1,"SEP: this.tokensMap."+prod.separator.name)+","+NL,result+="DEF: "+genDefFunction(prod.definition,n+2)+NL,result+=indent(n,"}")+NL):result+=genDefFunction(prod.definition,n+1),result+=indent(n,")")+NL}function genDefFunction(definition,n){var def="function() {"+NL;return def+=genDefinition(definition,n),def+=indent(n,"}")+NL}function genDefinition(def,n){var result="";return(0,utils.Ed)(def,(function(prod){result+=genProd(prod,n+1)})),result}function indent(howMuch,text){return Array(4*howMuch+1).join(" ")+text}function generateParserFactory(options){var wrapperText=function genWrapperFunction(options){return"    \n"+genClass(options)+"\nreturn new "+options.name+"(tokenVocabulary, config)    \n"}({name:options.name,rules:options.rules}),constructorWrapper=new Function("tokenVocabulary","config","chevrotain",wrapperText);return function(config){return constructorWrapper(options.tokenVocabulary,config,__webpack_require__("./node_modules/chevrotain/lib_esm/src/api.js"))}}function generateParserModule(options){return function genUmdModule(options){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+genClass(options)+"\n    \nreturn {\n    "+options.name+": "+options.name+" \n}\n}));\n"}({name:options.name,rules:options.rules})}function clearCache(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var api_Parser=function Parser(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},"./node_modules/chevrotain/lib_esm/src/utils/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isEmpty(arr){return arr&&0===arr.length}function keys(obj){return null==obj?[]:Object.keys(obj)}function values(obj){for(var vals=[],keys=Object.keys(obj),i=0;i<keys.length;i++)vals.push(obj[keys[i]]);return vals}function mapValues(obj,callback){for(var result=[],objKeys=keys(obj),idx=0;idx<objKeys.length;idx++){var currKey=objKeys[idx];result.push(callback.call(null,obj[currKey],currKey))}return result}function map(arr,callback){for(var result=[],idx=0;idx<arr.length;idx++)result.push(callback.call(null,arr[idx],idx));return result}function flatten(arr){for(var result=[],idx=0;idx<arr.length;idx++){var currItem=arr[idx];Array.isArray(currItem)?result=result.concat(flatten(currItem)):result.push(currItem)}return result}function first(arr){return isEmpty(arr)?void 0:arr[0]}function last(arr){var len=arr&&arr.length;return len?arr[len-1]:void 0}function forEach(collection,iteratorCallback){if(Array.isArray(collection))for(var i=0;i<collection.length;i++)iteratorCallback.call(null,collection[i],i);else{if(!isObject(collection))throw Error("non exhaustive match");var colKeys=keys(collection);for(i=0;i<colKeys.length;i++){var key=colKeys[i],value=collection[key];iteratorCallback.call(null,value,key)}}}function isString(item){return"string"==typeof item}function isUndefined(item){return void 0===item}function isFunction(item){return item instanceof Function}function drop(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(howMuch,arr.length)}function dropRight(arr,howMuch){return void 0===howMuch&&(howMuch=1),arr.slice(0,arr.length-howMuch)}function filter(arr,predicate){var result=[];if(Array.isArray(arr))for(var i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&result.push(item)}return result}function reject(arr,predicate){return filter(arr,(function(item){return!predicate(item)}))}function pick(obj,predicate){for(var keys=Object.keys(obj),result={},i=0;i<keys.length;i++){var currKey=keys[i],currItem=obj[currKey];predicate(currItem)&&(result[currKey]=currItem)}return result}function has(obj,prop){return!!isObject(obj)&&obj.hasOwnProperty(prop)}function contains(arr,item){return void 0!==find(arr,(function(currItem){return currItem===item}))}function cloneArr(arr){for(var newArr=[],i=0;i<arr.length;i++)newArr.push(arr[i]);return newArr}function cloneObj(obj){var clonedObj={};for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(clonedObj[key]=obj[key]);return clonedObj}function find(arr,predicate){for(var i=0;i<arr.length;i++){var item=arr[i];if(predicate.call(null,item))return item}}function findAll(arr,predicate){for(var found=[],i=0;i<arr.length;i++){var item=arr[i];predicate.call(null,item)&&found.push(item)}return found}function reduce(arrOrObj,iterator,initial){for(var isArr=Array.isArray(arrOrObj),vals=isArr?arrOrObj:values(arrOrObj),objKeys=isArr?[]:keys(arrOrObj),accumulator=initial,i=0;i<vals.length;i++)accumulator=iterator.call(null,accumulator,vals[i],isArr?i:objKeys[i]);return accumulator}function compact(arr){return reject(arr,(function(item){return null==item}))}function uniq(arr,identity){void 0===identity&&(identity=function(item){return item});var identities=[];return reduce(arr,(function(result,currItem){var currIdentity=identity(currItem);return contains(identities,currIdentity)?result:(identities.push(currIdentity),result.concat(currItem))}),[])}function partial(func){for(var restArgs=[],_i=1;_i<arguments.length;_i++)restArgs[_i-1]=arguments[_i];var allArgs=[null].concat(restArgs);return Function.bind.apply(func,allArgs)}function isArray(obj){return Array.isArray(obj)}function isRegExp(obj){return obj instanceof RegExp}function isObject(obj){return obj instanceof Object}function every(arr,predicate){for(var i=0;i<arr.length;i++)if(!predicate(arr[i],i))return!1;return!0}function difference(arr,values){return reject(arr,(function(item){return contains(values,item)}))}function some(arr,predicate){for(var i=0;i<arr.length;i++)if(predicate(arr[i]))return!0;return!1}function indexOf(arr,value){for(var i=0;i<arr.length;i++)if(arr[i]===value)return i;return-1}function sortBy(arr,orderFunc){var result=cloneArr(arr);return result.sort((function(a,b){return orderFunc(a)-orderFunc(b)})),result}function zipObject(keys,values){if(keys.length!==values.length)throw Error("can't zipObject with different number of keys and values!");for(var result={},i=0;i<keys.length;i++)result[keys[i]]=values[i];return result}function assign(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++)for(var curSource=sources[i],currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];target[currKey]=curSource[currKey]}return target}function assignNoOverwrite(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var i=0;i<sources.length;i++)for(var curSource=sources[i],currSourceKeys=keys(curSource),j=0;j<currSourceKeys.length;j++){var currKey=currSourceKeys[j];has(target,currKey)||(target[currKey]=curSource[currKey])}return target}function defaults(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i]=arguments[_i];return assignNoOverwrite.apply(null,[{}].concat(sources))}function groupBy(arr,groupKeyFunc){var result={};return forEach(arr,(function(item){var currGroupKey=groupKeyFunc(item),currGroupArr=result[currGroupKey];currGroupArr?currGroupArr.push(item):result[currGroupKey]=[item]})),result}function merge(obj1,obj2){for(var result=cloneObj(obj1),keys2=keys(obj2),i=0;i<keys2.length;i++){var key=keys2[i],value=obj2[key];result[key]=value}return result}function NOOP(){}function IDENTITY(item){return item}function packArray(holeyArr){for(var result=[],i=0;i<holeyArr.length;i++){var orgValue=holeyArr[i];result.push(void 0!==orgValue?orgValue:void 0)}return result}function PRINT_ERROR(msg){console&&console.error&&console.error("Error: "+msg)}function PRINT_WARNING(msg){console&&console.warn&&console.warn("Warning: "+msg)}function isES2015MapSupported(){return"function"==typeof Map}function applyMixins(derivedCtor,baseCtors){baseCtors.forEach((function(baseCtor){var baseProto=baseCtor.prototype;Object.getOwnPropertyNames(baseProto).forEach((function(propName){if("constructor"!==propName){var basePropDescriptor=Object.getOwnPropertyDescriptor(baseProto,propName);basePropDescriptor&&(basePropDescriptor.get||basePropDescriptor.set)?Object.defineProperty(derivedCtor.prototype,propName,basePropDescriptor):derivedCtor.prototype[propName]=baseCtor.prototype[propName]}}))}))}function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast}function peek(arr){return arr[arr.length-1]}function timer(func){var start=(new Date).getTime(),val=func();return{time:(new Date).getTime()-start,value:val}}__webpack_require__.d(__webpack_exports__,{Cl:()=>cloneObj,Cw:()=>drop,Ed:()=>forEach,G:()=>some,HD:()=>isString,HT:()=>timer,Kj:()=>isRegExp,Kn:()=>isObject,Oq:()=>findAll,Ps:()=>first,Q8:()=>mapValues,Qw:()=>cloneArr,SV:()=>toFastProperties,TS:()=>merge,UI:()=>map,VO:()=>values,WB:()=>PRINT_ERROR,Wd:()=>IDENTITY,X0:()=>packArray,XP:()=>keys,Z$:()=>last,ce:()=>defaults,cq:()=>indexOf,d1:()=>reject,dG:()=>NOOP,dU:()=>isES2015MapSupported,e$:()=>has,e5:()=>difference,ef:()=>applyMixins,ei:()=>pick,f0:()=>assign,fj:()=>peek,hX:()=>filter,j7:()=>dropRight,jj:()=>uniq,kJ:()=>isArray,mf:()=>isFunction,o8:()=>isUndefined,oA:()=>compact,r3:()=>contains,rr:()=>PRINT_WARNING,sE:()=>find,u4:()=>reduce,vM:()=>groupBy,xH:()=>flatten,xb:()=>isEmpty,yW:()=>every})},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType)if(arg.toString===Object.prototype.toString)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key);else classes.push(arg.toString())}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/fast-formula-parser/formulas/error.js":(module,__unused_webpack_exports,__webpack_require__)=>{class FormulaError extends Error{constructor(error,msg,details){if(super(msg),null==msg&&null==details&&FormulaError.errorMap.has(error))return FormulaError.errorMap.get(error);null==msg&&null==details?(this._error=error,FormulaError.errorMap.set(error,this)):this._error=error,this.details=details}get error(){return this._error}get name(){return this._error}equals(err){return err instanceof FormulaError&&err._error===this._error}toString(){return this._error}}FormulaError.errorMap=new Map,FormulaError.DIV0=new FormulaError("#DIV/0!"),FormulaError.NA=new FormulaError("#N/A"),FormulaError.NAME=new FormulaError("#NAME?"),FormulaError.NULL=new FormulaError("#NULL!"),FormulaError.NUM=new FormulaError("#NUM!"),FormulaError.REF=new FormulaError("#REF!"),FormulaError.VALUE=new FormulaError("#VALUE!"),FormulaError.NOT_IMPLEMENTED=functionName=>new FormulaError("#NAME?",`Function ${functionName} is not implemented.`),FormulaError.TOO_MANY_ARGS=functionName=>new FormulaError("#N/A",`Function ${functionName} has too many arguments.`),FormulaError.ARG_MISSING=args=>{const{Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js");return new FormulaError("#N/A",`Argument type ${args.map((arg=>Types[arg])).join(", ")} is missing.`)},FormulaError.ERROR=(msg,details)=>new FormulaError("#ERROR!",msg,details),module.exports=FormulaError},"./node_modules/fast-formula-parser/formulas/functions/date.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,d1900=new Date(Date.UTC(1900,0,1)),WEEK_STARTS=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],WEEK_TYPES=[void 0,[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],void 0,void 0,void 0,void 0,void 0,void 0,void 0,[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],WEEKEND_TYPES=[void 0,[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0],[1],[2],[3],[4],[5],[6]],timeRegex=/^\s*(\d\d?)\s*(:\s*\d\d?)?\s*(:\s*\d\d?)?\s*(pm|am)?\s*$/i,dateRegex1=/^\s*((\d\d?)\s*([-\/])\s*(\d\d?))([\d:.apm\s]*)$/i,dateRegex2=/^\s*((\d\d?)\s*([-/])\s*(jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*))([\d:.apm\s]*)$/i,dateRegex3=/^\s*((jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*)\s*([-/])\s*(\d\d?))([\d:.apm\s]*)$/i;function toSerial(date){const addOn=date>-22038912e5?2:1;return Math.floor((date-d1900)/864e5)+addOn}function parseDateWithExtra(serialOrString){if(serialOrString instanceof Date)return{date:serialOrString};serialOrString=H.accept(serialOrString);let date,isDateGiven=!0;return isNaN(serialOrString)?(date=function parseTime(text){const res=text.match(timeRegex);if(!res)return;const minutes=res[2]?res[2]:":00",seconds=res[3]?res[3]:":00",ampm=res[4]?" "+res[4]:"",date=new Date(Date.parse(`1/1/1900 ${res[1]+minutes+seconds+ampm} UTC`));let now=new Date;return now=new Date(Date.UTC(now.getFullYear(),now.getMonth(),now.getDate(),now.getHours(),now.getMinutes(),now.getSeconds(),now.getMilliseconds())),new Date(Date.UTC(now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),date.getUTCMilliseconds()))}(serialOrString),date?isDateGiven=!1:date=function parseSimplifiedDate(text){const fmt1=text.match(dateRegex1),fmt2=text.match(dateRegex2),fmt3=text.match(dateRegex3);return fmt1?text=fmt1[1]+fmt1[3]+(new Date).getFullYear()+fmt1[5]:fmt2?text=fmt2[1]+fmt2[3]+(new Date).getFullYear()+fmt2[5]:fmt3&&(text=fmt3[1]+fmt3[3]+(new Date).getFullYear()+fmt3[5]),new Date(Date.parse(`${text} UTC`))}(serialOrString)):date=function toDate(serial){if(serial<0)throw FormulaError.VALUE;return serial<=60?new Date(d1900.getTime()+864e5*(serial-1)):new Date(d1900.getTime()+864e5*(serial-2))}(serialOrString=Number(serialOrString)),{date,isDateGiven}}function parseDate(serialOrString){return parseDateWithExtra(serialOrString).date}function compareDateIgnoreTime(date1,date2){return date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getUTCMonth()===date2.getUTCMonth()&&date1.getUTCDate()===date2.getUTCDate()}const DateFunctions={DATE:(year,month,day)=>{if(year=H.accept(year,Types.NUMBER),month=H.accept(month,Types.NUMBER),day=H.accept(day,Types.NUMBER),year<0||year>=1e4)throw FormulaError.NUM;return year<1900&&(year+=1900),toSerial(Date.UTC(year,month-1,day))},DATEDIF:(startDate,endDate,unit)=>{if(startDate=parseDate(startDate),endDate=parseDate(endDate),unit=H.accept(unit,Types.STRING).toLowerCase(),startDate>endDate)throw FormulaError.NUM;const yearDiff=endDate.getUTCFullYear()-startDate.getUTCFullYear(),monthDiff=endDate.getUTCMonth()-startDate.getUTCMonth(),dayDiff=endDate.getUTCDate()-startDate.getUTCDate();let offset;switch(unit){case"y":return offset=monthDiff<0||0===monthDiff&&dayDiff<0?-1:0,offset+yearDiff;case"m":return offset=dayDiff<0?-1:0,12*yearDiff+monthDiff+offset;case"d":return Math.floor(endDate-startDate)/864e5;case"md":return startDate.setUTCFullYear(endDate.getUTCFullYear()),dayDiff<0?startDate.setUTCMonth(endDate.getUTCMonth()-1):startDate.setUTCMonth(endDate.getUTCMonth()),Math.floor(endDate-startDate)/864e5;case"ym":return offset=dayDiff<0?-1:0,(offset+12*yearDiff+monthDiff)%12;case"yd":return monthDiff<0||0===monthDiff&&dayDiff<0?startDate.setUTCFullYear(endDate.getUTCFullYear()-1):startDate.setUTCFullYear(endDate.getUTCFullYear()),Math.floor(endDate-startDate)/864e5}},DATEVALUE:dateText=>{dateText=H.accept(dateText,Types.STRING);const{date,isDateGiven}=parseDateWithExtra(dateText);if(!isDateGiven)return 0;const serial=toSerial(date);if(serial<0||serial>2958465)throw FormulaError.VALUE;return serial},DAY:serialOrString=>parseDate(serialOrString).getUTCDate(),DAYS:(endDate,startDate)=>{endDate=parseDate(endDate);let offset=0;return(startDate=parseDate(startDate))<-22038912e5&&-22038912e5<endDate&&(offset=1),Math.floor(endDate-startDate)/864e5+offset},DAYS360:(startDate,endDate,method)=>{startDate=parseDate(startDate),endDate=parseDate(endDate),method=H.accept(method,Types.BOOLEAN,!1),31===startDate.getUTCDate()&&startDate.setUTCDate(30),!method&&startDate.getUTCDate()<30&&endDate.getUTCDate()>30?endDate.setUTCMonth(endDate.getUTCMonth()+1,1):31===endDate.getUTCDate()&&endDate.setUTCDate(30);const yearDiff=endDate.getUTCFullYear()-startDate.getUTCFullYear();return 30*(endDate.getUTCMonth()-startDate.getUTCMonth())+(endDate.getUTCDate()-startDate.getUTCDate())+12*yearDiff*30},EDATE:(startDate,months)=>(startDate=parseDate(startDate),months=H.accept(months,Types.NUMBER),startDate.setUTCMonth(startDate.getUTCMonth()+months),toSerial(startDate)),EOMONTH:(startDate,months)=>(startDate=parseDate(startDate),months=H.accept(months,Types.NUMBER),startDate.setUTCMonth(startDate.getUTCMonth()+months+1,0),toSerial(startDate)),HOUR:serialOrString=>parseDate(serialOrString).getUTCHours(),ISOWEEKNUM:serialOrString=>{const date=parseDate(serialOrString),d=new Date(Date.UTC(date.getFullYear(),date.getMonth(),date.getDate())),dayNum=d.getUTCDay();d.setUTCDate(d.getUTCDate()+4-dayNum);const yearStart=new Date(Date.UTC(d.getUTCFullYear(),0,1));return Math.ceil(((d-yearStart)/864e5+1)/7)},MINUTE:serialOrString=>parseDate(serialOrString).getUTCMinutes(),MONTH:serialOrString=>parseDate(serialOrString).getUTCMonth()+1,NETWORKDAYS:(startDate,endDate,holidays)=>{let sign=1;if((startDate=parseDate(startDate))>(endDate=parseDate(endDate))){sign=-1;const temp=startDate;startDate=endDate,endDate=temp}const holidaysArr=[];null!=holidays&&H.flattenParams([holidays],Types.NUMBER,!1,(item=>{holidaysArr.push(parseDate(item))}));let numWorkDays=0;for(;startDate<=endDate;){if(0!==startDate.getUTCDay()&&6!==startDate.getUTCDay()){let found=!1;for(let i=0;i<holidaysArr.length;i++)if(compareDateIgnoreTime(startDate,holidaysArr[i])){found=!0;break}found||numWorkDays++}startDate.setUTCDate(startDate.getUTCDate()+1)}return sign*numWorkDays},"NETWORKDAYS.INTL":(startDate,endDate,weekend,holidays)=>{let sign=1;if((startDate=parseDate(startDate))>(endDate=parseDate(endDate))){sign=-1;const temp=startDate;startDate=endDate,endDate=temp}if("1111111"===(weekend=H.accept(weekend,null,1)))return 0;if("string"==typeof weekend&&Number(weekend).toString()!==weekend){if(7!==weekend.length)throw FormulaError.VALUE;weekend=weekend.charAt(6)+weekend.slice(0,6);const weekendArr=[];for(let i=0;i<weekend.length;i++)"1"===weekend.charAt(i)&&weekendArr.push(i);weekend=weekendArr}else{if("number"!=typeof weekend)throw FormulaError.VALUE;weekend=WEEKEND_TYPES[weekend]}const holidaysArr=[];null!=holidays&&H.flattenParams([holidays],Types.NUMBER,!1,(item=>{holidaysArr.push(parseDate(item))}));let numWorkDays=0;for(;startDate<=endDate;){let skip=!1;for(let i=0;i<weekend.length;i++)if(weekend[i]===startDate.getUTCDay()){skip=!0;break}if(!skip){let found=!1;for(let i=0;i<holidaysArr.length;i++)if(compareDateIgnoreTime(startDate,holidaysArr[i])){found=!0;break}found||numWorkDays++}startDate.setUTCDate(startDate.getUTCDate()+1)}return sign*numWorkDays},NOW:()=>{const now=new Date;return toSerial(Date.UTC(now.getFullYear(),now.getMonth(),now.getDate(),now.getHours(),now.getMinutes(),now.getSeconds(),now.getMilliseconds()))+(3600*now.getHours()+60*now.getMinutes()+now.getSeconds())/86400},SECOND:serialOrString=>parseDate(serialOrString).getUTCSeconds(),TIME:(hour,minute,second)=>{if(hour=H.accept(hour,Types.NUMBER),minute=H.accept(minute,Types.NUMBER),second=H.accept(second,Types.NUMBER),hour<0||hour>32767||minute<0||minute>32767||second<0||second>32767)throw FormulaError.NUM;return(3600*hour+60*minute+second)/86400},TIMEVALUE:timeText=>(3600*(timeText=parseDate(timeText)).getUTCHours()+60*timeText.getUTCMinutes()+timeText.getUTCSeconds())/86400,TODAY:()=>{const now=new Date;return toSerial(Date.UTC(now.getFullYear(),now.getMonth(),now.getDate()))},WEEKDAY:(serialOrString,returnType)=>{const date=parseDate(serialOrString);returnType=H.accept(returnType,Types.NUMBER,1);const day=date.getUTCDay(),weekTypes=WEEK_TYPES[returnType];if(!weekTypes)throw FormulaError.NUM;return weekTypes[day]},WEEKNUM:(serialOrString,returnType)=>{const date=parseDate(serialOrString);if(21===(returnType=H.accept(returnType,Types.NUMBER,1)))return DateFunctions.ISOWEEKNUM(serialOrString);const weekStart=WEEK_STARTS[returnType],yearStart=new Date(Date.UTC(date.getUTCFullYear(),0,1)),offset=yearStart.getUTCDay()<weekStart?1:0;return Math.ceil(((date-yearStart)/864e5+1)/7)+offset},WORKDAY:(startDate,days,holidays)=>DateFunctions["WORKDAY.INTL"](startDate,days,1,holidays),"WORKDAY.INTL":(startDate,days,weekend,holidays)=>{if(startDate=parseDate(startDate),days=H.accept(days,Types.NUMBER),"1111111"===(weekend=H.accept(weekend,null,1)))throw FormulaError.VALUE;if("string"==typeof weekend&&Number(weekend).toString()!==weekend){if(7!==weekend.length)throw FormulaError.VALUE;weekend=weekend.charAt(6)+weekend.slice(0,6);const weekendArr=[];for(let i=0;i<weekend.length;i++)"1"===weekend.charAt(i)&&weekendArr.push(i);weekend=weekendArr}else{if("number"!=typeof weekend)throw FormulaError.VALUE;if(null==(weekend=WEEKEND_TYPES[weekend]))throw FormulaError.NUM}const holidaysArr=[];null!=holidays&&H.flattenParams([holidays],Types.NUMBER,!1,(item=>{holidaysArr.push(parseDate(item))})),startDate.setUTCDate(startDate.getUTCDate()+1);let cnt=0;for(;cnt<days;){let skip=!1;for(let i=0;i<weekend.length;i++)if(weekend[i]===startDate.getUTCDay()){skip=!0;break}if(!skip){let found=!1;for(let i=0;i<holidaysArr.length;i++)if(compareDateIgnoreTime(startDate,holidaysArr[i])){found=!0;break}found||cnt++}startDate.setUTCDate(startDate.getUTCDate()+1)}return toSerial(startDate)-1},YEAR:serialOrString=>parseDate(serialOrString).getUTCFullYear(),YEARFRAC:(startDate,endDate,basis)=>{if((startDate=parseDate(startDate))>(endDate=parseDate(endDate))){const temp=startDate;startDate=endDate,endDate=temp}if(basis=H.accept(basis,Types.NUMBER,0),(basis=Math.trunc(basis))<0||basis>4)throw FormulaError.VALUE;let sd=startDate.getUTCDate();const sm=startDate.getUTCMonth()+1,sy=startDate.getUTCFullYear();let ed=endDate.getUTCDate();const em=endDate.getUTCMonth()+1,ey=endDate.getUTCFullYear();switch(basis){case 0:return 31===sd&&31===ed?(sd=30,ed=30):31===sd?sd=30:30===sd&&31===ed&&(ed=30),Math.abs(ed+30*em+360*ey-(sd+30*sm+360*sy))/360;case 1:if(ey-sy<2){const yLength=function isLeapYear(year){return 1900===year||1===new Date(year,1,29).getMonth()}(sy)&&1900!==sy?366:365;return DateFunctions.DAYS(endDate,startDate)/yLength}{const years=ey-sy+1,average=(new Date(ey+1,0,1)-new Date(sy,0,1))/1e3/60/60/24/years;return DateFunctions.DAYS(endDate,startDate)/average}case 2:return Math.abs(DateFunctions.DAYS(endDate,startDate)/360);case 3:return Math.abs(DateFunctions.DAYS(endDate,startDate)/365);case 4:return Math.abs(ed+30*em+360*ey-(sd+30*sm+360*sy))/360}}};module.exports=DateFunctions},"./node_modules/fast-formula-parser/formulas/functions/distribution.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,jStat=__webpack_require__("./node_modules/jstat/dist/jstat.js"),MathFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/math.js"),DistributionFunctions={"BETA.DIST":(x,alpha,beta,cumulative,a,b)=>{if(x=H.accept(x,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),beta=H.accept(beta,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),a=H.accept(a,Types.NUMBER,0),b=H.accept(b,Types.NUMBER,1),alpha<=0||beta<=0||x<a||x>b||a===b)throw FormulaError.NUM;return x=(x-a)/(b-a),cumulative?jStat.beta.cdf(x,alpha,beta):jStat.beta.pdf(x,alpha,beta)/(b-a)},"BETA.INV":(probability,alpha,beta,a,b)=>{if(probability=H.accept(probability,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),beta=H.accept(beta,Types.NUMBER),a=H.accept(a,Types.NUMBER,0),b=H.accept(b,Types.NUMBER,1),alpha<=0||beta<=0||probability<=0||probability>1)throw FormulaError.NUM;return jStat.beta.inv(probability,alpha,beta)*(b-a)+a},"BINOM.DIST":(numberS,trials,probabilityS,cumulative)=>{if(numberS=H.accept(numberS,Types.NUMBER),trials=H.accept(trials,Types.NUMBER),probabilityS=H.accept(probabilityS,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),trials<0||probabilityS<0||probabilityS>1||numberS<0||numberS>trials)throw FormulaError.NUM;return cumulative?jStat.binomial.cdf(numberS,trials,probabilityS):jStat.binomial.pdf(numberS,trials,probabilityS)},"BINOM.DIST.RANGE":(trials,probabilityS,numberS,numberS2)=>{if(trials=H.accept(trials,Types.NUMBER),probabilityS=H.accept(probabilityS,Types.NUMBER),numberS=H.accept(numberS,Types.NUMBER),numberS2=H.accept(numberS2,Types.NUMBER,numberS),trials<0||probabilityS<0||probabilityS>1||numberS<0||numberS>trials||numberS2<numberS||numberS2>trials)throw FormulaError.NUM;let result=0;for(let i=numberS;i<=numberS2;i++)result+=MathFunctions.COMBIN(trials,i)*Math.pow(probabilityS,i)*Math.pow(1-probabilityS,trials-i);return result},"BINOM.INV":(trials,probabilityS,alpha)=>{if(trials=H.accept(trials,Types.NUMBER),probabilityS=H.accept(probabilityS,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),trials<0||probabilityS<0||probabilityS>1||alpha<0||alpha>1)throw FormulaError.NUM;let x=0;for(;x<=trials;){if(jStat.binomial.cdf(x,trials,probabilityS)>=alpha)return x;x++}},"CHISQ.DIST":(x,degFreedom,cumulative)=>{if(x=H.accept(x,Types.NUMBER),degFreedom=H.accept(degFreedom,Types.NUMBER),cumulative=H.accept(cumulative,Types.NUMBER),degFreedom=Math.trunc(degFreedom),x<0||degFreedom<1||degFreedom>10**10)throw FormulaError.NUM;return cumulative?jStat.chisquare.cdf(x,degFreedom):jStat.chisquare.pdf(x,degFreedom)},"CHISQ.DIST.RT":(x,degFreedom)=>{if(x=H.accept(x,Types.NUMBER),degFreedom=H.accept(degFreedom,Types.NUMBER),degFreedom=Math.trunc(degFreedom),x<0||degFreedom<1||degFreedom>10**10)throw FormulaError.NUM;return 1-jStat.chisquare.cdf(x,degFreedom)},"CHISQ.INV":(probability,degFreedom)=>{if(probability=H.accept(probability,Types.NUMBER),degFreedom=H.accept(degFreedom,Types.NUMBER),degFreedom=Math.trunc(degFreedom),probability<0||probability>1||degFreedom<1||degFreedom>10**10)throw FormulaError.NUM;return jStat.chisquare.inv(probability,degFreedom)},"CHISQ.INV.RT":(probability,degFreedom)=>{if(probability=H.accept(probability,Types.NUMBER),degFreedom=H.accept(degFreedom,Types.NUMBER),degFreedom=Math.trunc(degFreedom),probability<0||probability>1||degFreedom<1||degFreedom>10**10)throw FormulaError.NUM;return jStat.chisquare.inv(1-probability,degFreedom)},"CHISQ.TEST":(actualRange,expectedRange)=>{const actual=H.accept(actualRange,Types.ARRAY,void 0,!1,!1),expected=H.accept(expectedRange,Types.ARRAY,void 0,!1,!1);if(actual.length!==expected.length||actual[0].length!==expected[0].length||1===actual.length&&1===actual[0].length)throw FormulaError.NA;const row=actual.length,col=actual[0].length;let dof=(row-1)*(col-1);dof=1===row?col-1:row-1;let xsqr=0;for(let i=0;i<row;i++)for(let j=0;j<col;j++)if("number"==typeof actual[i][j]&&"number"==typeof expected[i][j]){if(0===expected[i][j])throw FormulaError.DIV0;xsqr+=Math.pow(actual[i][j]-expected[i][j],2)/expected[i][j]}let p=Math.exp(-.5*xsqr);dof%2==1&&(p*=Math.sqrt(2*xsqr/Math.PI));let k=dof;for(;k>=2;)p=p*xsqr/k,k-=2;let t=p,a=dof;for(;t>1e-15*p;)a+=2,t=t*xsqr/a,p+=t;return 1-p},"CONFIDENCE.NORM":(alpha,std,size)=>{if(alpha=H.accept(alpha,Types.NUMBER),std=H.accept(std,Types.NUMBER),size=H.accept(size,Types.NUMBER),size=Math.trunc(size),alpha<=0||alpha>=1||std<=0||size<1)throw FormulaError.NUM;return jStat.normalci(1,alpha,std,size)[1]-1},"CONFIDENCE.T":(alpha,std,size)=>{if(alpha=H.accept(alpha,Types.NUMBER),std=H.accept(std,Types.NUMBER),size=H.accept(size,Types.NUMBER),size=Math.trunc(size),alpha<=0||alpha>=1||std<=0||size<1)throw FormulaError.NUM;if(1===size)throw FormulaError.DIV0;return jStat.tci(1,alpha,std,size)[1]-1},CORREL:(array1,array2)=>{if(array1=H.accept(array1,Types.ARRAY,void 0,!0,!0),array2=H.accept(array2,Types.ARRAY,void 0,!0,!0),array1.length!==array2.length)throw FormulaError.NA;const filterArr1=[],filterArr2=[];for(let i=0;i<array1.length;i++)"number"==typeof array1[i]&&"number"==typeof array2[i]&&(filterArr1.push(array1[i]),filterArr2.push(array2[i]));if(filterArr1.length<=1)throw FormulaError.DIV0;return jStat.corrcoeff(filterArr1,filterArr2)},"COVARIANCE.P":(array1,array2)=>{if(array1=H.accept(array1,Types.ARRAY,void 0,!0,!0),array2=H.accept(array2,Types.ARRAY,void 0,!0,!0),array1.length!==array2.length)throw FormulaError.NA;const filterArr1=[],filterArr2=[];for(let i=0;i<array1.length;i++)"number"==typeof array1[i]&&"number"==typeof array2[i]&&(filterArr1.push(array1[i]),filterArr2.push(array2[i]));const mean1=jStat.mean(filterArr1),mean2=jStat.mean(filterArr2);let result=0;for(let i=0;i<filterArr1.length;i++)result+=(filterArr1[i]-mean1)*(filterArr2[i]-mean2);return result/filterArr1.length},"COVARIANCE.S":(array1,array2)=>{if(array1=H.accept(array1,Types.ARRAY,void 0,!0,!0),array2=H.accept(array2,Types.ARRAY,void 0,!0,!0),array1.length!==array2.length)throw FormulaError.NA;const filterArr1=[],filterArr2=[];for(let i=0;i<array1.length;i++)"number"==typeof array1[i]&&"number"==typeof array2[i]&&(filterArr1.push(array1[i]),filterArr2.push(array2[i]));if(filterArr1.length<=1)throw FormulaError.DIV0;return jStat.covariance(filterArr1,filterArr2)},DEVSQ:(...numbers)=>{let sum=0,x=[];H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&(sum+=item,x.push(item))}));const mean=sum/x.length;sum=0;for(let i=0;i<x.length;i++)sum+=(x[i]-mean)**2;return sum},"EXPON.DIST":(x,lambda,cumulative)=>{if(x=H.accept(x,Types.NUMBER),lambda=H.accept(lambda,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<0||lambda<=0)throw FormulaError.NUM;return cumulative?jStat.exponential.cdf(x,lambda):jStat.exponential.pdf(x,lambda)},"F.DIST":(x,d1,d2,cumulative)=>{if(x=H.accept(x,Types.NUMBER),d1=H.accept(d1,Types.NUMBER),d2=H.accept(d2,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<0||d1<1||d2<1)throw FormulaError.NUM;return d1=Math.trunc(d1),d2=Math.trunc(d2),cumulative?jStat.centralF.cdf(x,d1,d2):jStat.centralF.pdf(x,d1,d2)},"F.DIST.RT":(x,d1,d2)=>{if(x=H.accept(x,Types.NUMBER),d1=H.accept(d1,Types.NUMBER),d2=H.accept(d2,Types.NUMBER),x<0||d1<1||d2<1)throw FormulaError.NUM;return d1=Math.trunc(d1),d2=Math.trunc(d2),1-jStat.centralF.cdf(x,d1,d2)},"F.INV":(probability,d1,d2)=>{if(probability=H.accept(probability,Types.NUMBER),d1=H.accept(d1,Types.NUMBER),d2=H.accept(d2,Types.NUMBER),probability<0||probability>1)throw FormulaError.NUM;if(d1<1||d2<1)throw FormulaError.NUM;return d1=Math.trunc(d1),d2=Math.trunc(d2),jStat.centralF.inv(probability,d1,d2)},"F.INV.RT":(probability,d1,d2)=>{if(probability=H.accept(probability,Types.NUMBER),d1=H.accept(d1,Types.NUMBER),d2=H.accept(d2,Types.NUMBER),probability<0||probability>1)throw FormulaError.NUM;if(d1<1||d1>=Math.pow(10,10))throw FormulaError.NUM;if(d2<1||d2>=Math.pow(10,10))throw FormulaError.NUM;return d1=Math.trunc(d1),d2=Math.trunc(d2),jStat.centralF.inv(1-probability,d1,d2)},"F.TEST":(array1,array2)=>{array1=H.accept(array1,Types.ARRAY,void 0,!0,!0),array2=H.accept(array2,Types.ARRAY,void 0,!0,!0);const x1=[],x2=[];let x1Mean=0,x2Mean=0;for(let i=0;i<Math.max(array1.length,array2.length);i++)"number"==typeof array1[i]&&(x1.push(array1[i]),x1Mean+=array1[i]),"number"==typeof array2[i]&&(x2.push(array2[i]),x2Mean+=array2[i]);if(x1.length<=1||x2.length<=1)throw FormulaError.DIV0;x1Mean/=x1.length,x2Mean/=x2.length;let s1=0,s2=0;for(let i=0;i<x1.length;i++)s1+=(x1Mean-x1[i])**2;s1/=x1.length-1;for(let i=0;i<x2.length;i++)s2+=(x2Mean-x2[i])**2;return s2/=x2.length-1,2*jStat.centralF.cdf(s1/s2,x1.length-1,x2.length-1)},FISHER:x=>{if((x=H.accept(x,Types.NUMBER))<=-1||x>=1)throw FormulaError.NUM;return Math.log((1+x)/(1-x))/2},FISHERINV:x=>{x=H.accept(x,Types.NUMBER);let e2y=Math.exp(2*x);return(e2y-1)/(e2y+1)},FORECAST:(x,knownYs,knownXs)=>{if(x=H.accept(x,Types.NUMBER),knownYs=H.accept(knownYs,Types.ARRAY,void 0,!0,!0),(knownXs=H.accept(knownXs,Types.ARRAY,void 0,!0,!0)).length!==knownYs.length)throw FormulaError.NA;const filteredY=[],filteredX=[];let xAllEqual=!0;for(let i=0;i<knownYs.length;i++)"number"==typeof knownYs[i]&&"number"==typeof knownXs[i]&&(filteredY.push(knownYs[i]),filteredX.push(knownXs[i]),knownXs[i]!==knownXs[0]&&(xAllEqual=!1));if(xAllEqual)throw FormulaError.DIV0;const yMean=jStat.mean(filteredY),xMean=jStat.mean(filteredX);let numerator=0,denominator=0;for(let i=0;i<filteredY.length;i++)numerator+=(filteredX[i]-xMean)*(filteredY[i]-yMean),denominator+=(filteredX[i]-xMean)**2;const b=numerator/denominator;return yMean-b*xMean+b*x},"FORECAST.ETS":()=>{},"FORECAST.ETS.CONFINT":()=>{},"FORECAST.ETS.SEASONALITY":()=>{},"FORECAST.ETS.STAT":()=>{},"FORECAST.LINEAR":(...params)=>DistributionFunctions.FORECAST(...params),FREQUENCY:(dataArray,binsArray)=>{dataArray=H.accept(dataArray,Types.ARRAY,void 0,!0,!0),binsArray=H.accept(binsArray,Types.ARRAY,void 0,!0,!0);const binsArrayFiltered=[];for(let i=0;i<binsArray.length;i++)"number"==typeof binsArray[i]&&binsArrayFiltered.push(binsArray[i]);binsArrayFiltered.sort(),binsArrayFiltered.push(1/0);const result=[];for(let j=0;j<binsArrayFiltered.length;j++){result[j]=[],result[j][0]=0;for(let i=0;i<dataArray.length;i++){if("number"!=typeof dataArray[i])continue;dataArray[i]<=binsArrayFiltered[j]&&(result[j][0]++,dataArray[i]=null)}}return result},GAMMA:x=>{if(0===(x=H.accept(x,Types.NUMBER))||x<0&&x===Math.trunc(x))throw FormulaError.NUM;return jStat.gammafn(x)},"GAMMA.DIST":(x,alpha,beta,cumulative)=>{if(x=H.accept(x,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),beta=H.accept(beta,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<0||alpha<=0||beta<=0)throw FormulaError.NUM;return cumulative?jStat.gamma.cdf(x,alpha,beta,!0):jStat.gamma.pdf(x,alpha,beta,!1)},"GAMMA.INV":(probability,alpha,beta)=>{if(probability=H.accept(probability,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),beta=H.accept(beta,Types.NUMBER),probability<0||probability>1||alpha<=0||beta<=0)throw FormulaError.NUM;return jStat.gamma.inv(probability,alpha,beta)},GAMMALN:x=>{if((x=H.accept(x,Types.NUMBER))<=0)throw FormulaError.NUM;return jStat.gammaln(x)},"GAMMALN.PRECISE":x=>{if((x=H.accept(x,Types.NUMBER))<=0)throw FormulaError.NUM;return jStat.gammaln(x)},GAUSS:z=>(z=H.accept(z,Types.NUMBER),jStat.normal.cdf(z,0,1)-.5),GEOMEAN:(...numbers)=>{const filterArr=[];return H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&filterArr.push(item)})),jStat.geomean(filterArr)},GROWTH:(knownY,knownX,newX,useConst)=>{knownY=H.accept(knownY,Types.ARRAY,void 0,!0,!0);for(let i=0;i<knownY.length;i++)if("number"!=typeof knownY[i])throw FormulaError.VALUE;const isKnownXOmitted=null==(knownX=H.accept(knownX,Types.ARRAY,null,!0,!0));if(null==knownX){knownX=[];for(let i=1;i<=knownY.length;i++)knownX.push(i)}else{if(knownX.length!==knownY.length)throw FormulaError.REF;for(let i=0;i<knownX.length;i++)if("number"!=typeof knownX[i])throw FormulaError.VALUE}if(null==(newX=H.accept(newX,Types.ARRAY,null,!1,!0))&&isKnownXOmitted){newX=[];for(let i=1;i<=knownY.length;i++)newX.push(i);newX=[newX]}else null==newX&&(newX=Array.isArray(knownX[0])?knownX:[knownX]);useConst=H.accept(useConst,Types.BOOLEAN,!0);const n=knownY.length;let beta,alpha,avg_x=0,avg_y=0,avg_xy=0,avg_xx=0;for(let i=0;i<n;i++){const x=knownX[i],y=Math.log(knownY[i]);avg_x+=x,avg_y+=y,avg_xy+=x*y,avg_xx+=x*x}avg_x/=n,avg_y/=n,avg_xy/=n,avg_xx/=n,useConst?(beta=(avg_xy-avg_x*avg_y)/(avg_xx-avg_x*avg_x),alpha=avg_y-beta*avg_x):(beta=avg_xy/avg_xx,alpha=0);const new_y=[];for(let i=0;i<newX.length;i++){new_y[i]=[];for(let j=0;j<newX[0].length;j++){if("number"!=typeof newX[i][j])throw FormulaError.VALUE;new_y[i][j]=Math.exp(alpha+beta*newX[i][j])}}return new_y},HARMEAN:(...numbers)=>{let cnt=0,denominator=0;return H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&(denominator+=1/item,cnt++)})),cnt/denominator},"HYPGEOM.DIST":(sample_s,number_sample,population_s,number_pop,cumulative)=>{if(sample_s=H.accept(sample_s,Types.NUMBER),number_sample=H.accept(number_sample,Types.NUMBER),population_s=H.accept(population_s,Types.NUMBER),number_pop=H.accept(number_pop,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),sample_s=Math.trunc(sample_s),number_sample=Math.trunc(number_sample),population_s=Math.trunc(population_s),(number_pop=Math.trunc(number_pop))<=0||sample_s<0||number_sample<=0||population_s<=0)throw FormulaError.NUM;if(number_sample>number_pop)throw FormulaError.NUM;if(population_s>number_pop)throw FormulaError.NUM;if(number_sample<sample_s||population_s<sample_s)throw FormulaError.NUM;if(sample_s<number_sample-number_pop+population_s)throw FormulaError.NUM;function pdf(x,n,M,N){return MathFunctions.COMBIN(M,x)*MathFunctions.COMBIN(N-M,n-x)/MathFunctions.COMBIN(N,n)}return cumulative?function cdf(x,n,M,N){let result=0;for(let i=0;i<=x;i++)result+=pdf(i,n,M,N);return result}(sample_s,number_sample,population_s,number_pop):pdf(sample_s,number_sample,population_s,number_pop)},INTERCEPT:(knownYs,knownXs)=>{if(knownYs=H.accept(knownYs,Types.ARRAY,void 0,!0,!0),(knownXs=H.accept(knownXs,Types.ARRAY,void 0,!0,!0)).length!==knownYs.length)throw FormulaError.NA;const filteredY=[],filteredX=[];for(let i=0;i<knownYs.length;i++)"number"==typeof knownYs[i]&&"number"==typeof knownXs[i]&&(filteredY.push(knownYs[i]),filteredX.push(knownXs[i]));if(filteredY.length<=1)throw FormulaError.DIV0;const yMean=jStat.mean(filteredY),xMean=jStat.mean(filteredX);let numerator=0,denominator=0;for(let i=0;i<filteredY.length;i++)numerator+=(filteredX[i]-xMean)*(filteredY[i]-yMean),denominator+=(filteredX[i]-xMean)**2;return yMean-numerator/denominator*xMean},KURT:(...numbers)=>{let mean=0,range=[];H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&(mean+=item,range.push(item))}));const n=range.length;mean/=n;let sigma=0;for(let i=0;i<n;i++)sigma+=Math.pow(range[i]-mean,4);return sigma/=Math.pow(jStat.stdev(range,!0),4),n*(n+1)/((n-1)*(n-2)*(n-3))*sigma-3*(n-1)*(n-1)/((n-2)*(n-3))},LINEST:()=>{},LOGEST:()=>{},"LOGNORM.DIST":(x,mean,standard_dev,cumulative)=>{if(x=H.accept(x,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),standard_dev=H.accept(standard_dev,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<=0||standard_dev<=0)throw FormulaError.NUM;return cumulative?jStat.lognormal.cdf(x,mean,standard_dev):jStat.lognormal.pdf(x,mean,standard_dev)},"LOGNORM.INV":(probability,mean,standard_dev)=>{if(probability=H.accept(probability,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),standard_dev=H.accept(standard_dev,Types.NUMBER),probability<=0||probability>=1)throw FormulaError.NUM;if(standard_dev<=0)throw FormulaError.NUM;return jStat.lognormal.inv(probability,mean,standard_dev)},"MODE.MULT":()=>{},"MODE.SNGL":()=>{},"NEGBINOM.DIST":(number_f,number_s,probability_s,cumulative)=>{if(number_f=H.accept(number_f,Types.NUMBER),number_s=H.accept(number_s,Types.NUMBER),probability_s=H.accept(probability_s,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),number_f=Math.trunc(number_f),number_s=Math.trunc(number_s),probability_s<0||probability_s>1)throw FormulaError.NUM;if(number_f<0||number_s<1)throw FormulaError.NUM;return cumulative?jStat.negbin.cdf(number_f,number_s,probability_s):jStat.negbin.pdf(number_f,number_s,probability_s)},"NORM.DIST":(x,mean,standard_dev,cumulative)=>{if(x=H.accept(x,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),standard_dev=H.accept(standard_dev,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),standard_dev<=0)throw FormulaError.NUM;return cumulative?jStat.normal.cdf(x,mean,standard_dev):jStat.normal.pdf(x,mean,standard_dev)},"NORM.INV":(probability,mean,standard_dev)=>{if(probability=H.accept(probability,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),standard_dev=H.accept(standard_dev,Types.NUMBER),probability<=0||probability>=1)throw FormulaError.NUM;if(standard_dev<=0)throw FormulaError.NUM;return jStat.normal.inv(probability,mean,standard_dev)},"NORM.S.DIST":(z,cumulative)=>(z=H.accept(z,Types.NUMBER),(cumulative=H.accept(cumulative,Types.BOOLEAN))?jStat.normal.cdf(z,0,1):jStat.normal.pdf(z,0,1)),"NORM.S.INV":probability=>{if((probability=H.accept(probability,Types.NUMBER))<=0||probability>=1)throw FormulaError.NUM;return jStat.normal.inv(probability,0,1)},PEARSON:()=>{},"PERCENTILE.EXC":()=>{},"PERCENTILE.INC":()=>{},"PERCENTRANK.EXC":()=>{},"PERCENTRANK.INC":()=>{},PERMUTATIONA:()=>{},PHI:x=>(x=H.accept(x,Types.NUMBER),Math.exp(-.5*x*x)/2.5066282746310002),"POISSON.DIST":(x,mean,cumulative)=>{if(x=H.accept(x,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<0||mean<0)throw FormulaError.NUM;return x=Math.trunc(x),cumulative?jStat.poisson.cdf(x,mean):jStat.poisson.pdf(x,mean)},PROB:()=>{},"QUARTILE.EXC":()=>{},"QUARTILE.INC":()=>{},"RANK.AVG":()=>{},"RANK.EQ":()=>{},RSQ:()=>{},SKEW:()=>{},"SKEW.P":()=>{},SLOPE:()=>{},STANDARDIZE:(x,mean,standard_dev)=>{if(x=H.accept(x,Types.NUMBER),mean=H.accept(mean,Types.NUMBER),(standard_dev=H.accept(standard_dev,Types.NUMBER))<=0)throw FormulaError.NUM;return(x-mean)/standard_dev},"STDEV.P":()=>{},"STDEV.S":()=>{},STDEVA:()=>{},STDEVPA:()=>{},STEYX:()=>{},"T.DIST":(x,deg_freedom,cumulative)=>{if(x=H.accept(x,Types.NUMBER),deg_freedom=H.accept(deg_freedom,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),deg_freedom<1)throw FormulaError.NUM;return cumulative?jStat.studentt.cdf(x,deg_freedom):jStat.studentt.pdf(x,deg_freedom)},"T.DIST.2T":(x,deg_freedom)=>{if(x=H.accept(x,Types.NUMBER),(deg_freedom=H.accept(deg_freedom,Types.NUMBER))<1||x<0)throw FormulaError.NUM;return 2*(1-jStat.studentt.cdf(x,deg_freedom))},"T.DIST.RT":(x,deg_freedom)=>{if(x=H.accept(x,Types.NUMBER),(deg_freedom=H.accept(deg_freedom,Types.NUMBER))<1)throw FormulaError.NUM;return 1-jStat.studentt.cdf(x,deg_freedom)},"T.INV":(probability,deg_freedom)=>{if(probability=H.accept(probability,Types.NUMBER),deg_freedom=H.accept(deg_freedom,Types.NUMBER),probability<=0||probability>1||deg_freedom<1)throw FormulaError.NUM;return deg_freedom=deg_freedom%1==0?deg_freedom:Math.trunc(deg_freedom),jStat.studentt.inv(probability,deg_freedom)},"T.INV.2T":(probability,deg_freedom)=>{if(probability=H.accept(probability,Types.NUMBER),deg_freedom=H.accept(deg_freedom,Types.NUMBER),probability<=0||probability>1||deg_freedom<1)throw FormulaError.NUM;return deg_freedom=deg_freedom%1==0?deg_freedom:Math.trunc(deg_freedom),Math.abs(jStat.studentt.inv(probability/2,deg_freedom))},"T.TEST":()=>{},TREND:()=>{},TRIMMEAN:()=>{},"VAR.P":()=>{},"VAR.S":()=>{},VARA:()=>{},VARPA:()=>{},"WEIBULL.DIST":(x,alpha,beta,cumulative)=>{if(x=H.accept(x,Types.NUMBER),alpha=H.accept(alpha,Types.NUMBER),beta=H.accept(beta,Types.NUMBER),cumulative=H.accept(cumulative,Types.BOOLEAN),x<0||alpha<=0||beta<=0)throw FormulaError.NUM;return cumulative?1-Math.exp(-Math.pow(x/beta,alpha)):Math.pow(x,alpha-1)*Math.exp(-Math.pow(x/beta,alpha))*alpha/Math.pow(beta,alpha)},"Z.TEST":()=>{}};module.exports={DistributionFunctions}},"./node_modules/fast-formula-parser/formulas/functions/engineering.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),TextFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/text.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,bessel=__webpack_require__("./node_modules/bessel/bessel.js"),jStat=__webpack_require__("./node_modules/jstat/dist/jstat.js"),numberRegex=/^\s?[+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?\s?$/,IMWithoutRealRegex=/^\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/,IMRegex=/^\s?([+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/;function parseIM(textOrNumber){let real=0,im=0,unit="i";if("number"==typeof(textOrNumber=H.accept(textOrNumber)))return{real:textOrNumber,im,unit};if("boolean"==typeof textOrNumber)throw FormulaError.VALUE;let match=textOrNumber.match(numberRegex);if(match)return real=Number(match[0]),{real,im,unit};if(match=textOrNumber.match(IMWithoutRealRegex),match)return im=Number(/^\s?[+-]?\s?$/.test(match[1])?match[1]+"1":match[1]),unit=match[0].slice(-1),{real,im,unit};if(match=textOrNumber.match(IMRegex),match)return real=Number(match[1]),im=Number(/^\s?[+-]?\s?$/.test(match[3])?match[3]+"1":match[3]),unit=match[0].slice(-1),{real,im,unit};throw FormulaError.NUM}const EngineeringFunctions={BESSELI:(x,n)=>{if(x=H.accept(x,Types.NUMBER_NO_BOOLEAN),n=H.accept(n,Types.NUMBER_NO_BOOLEAN),(n=Math.trunc(n))<0)throw FormulaError.NUM;return bessel.besseli(x,n)},BESSELJ:(x,n)=>{if(x=H.accept(x,Types.NUMBER_NO_BOOLEAN),n=H.accept(n,Types.NUMBER_NO_BOOLEAN),(n=Math.trunc(n))<0)throw FormulaError.NUM;return bessel.besselj(x,n)},BESSELK:(x,n)=>{if(x=H.accept(x,Types.NUMBER_NO_BOOLEAN),n=H.accept(n,Types.NUMBER_NO_BOOLEAN),(n=Math.trunc(n))<0)throw FormulaError.NUM;return bessel.besselk(x,n)},BESSELY:(x,n)=>{if(x=H.accept(x,Types.NUMBER_NO_BOOLEAN),n=H.accept(n,Types.NUMBER_NO_BOOLEAN),(n=Math.trunc(n))<0)throw FormulaError.NUM;return bessel.bessely(x,n)},BIN2DEC:number=>{let numberStr=(number=H.accept(number,Types.NUMBER_NO_BOOLEAN)).toString();if(numberStr.length>10)throw FormulaError.NUM;return 10===numberStr.length&&"1"===numberStr.substring(0,1)?parseInt(numberStr.substring(1),2)+-512:parseInt(numberStr,2)},BIN2HEX:(number,places)=>{number=H.accept(number,Types.NUMBER_NO_BOOLEAN),places=H.accept(places,Types.NUMBER_NO_BOOLEAN,null);const numberStr=number.toString();if(numberStr.length>10)throw FormulaError.NUM;if(10===numberStr.length&&"1"===numberStr.substring(0,1))return(parseInt(numberStr.substring(1),2)+0xfffffffe00).toString(16).toUpperCase();const result=parseInt(number,2).toString(16);if(null==places)return result.toUpperCase();if(places<0)throw FormulaError.NUM;if((places=Math.trunc(places))>=result.length)return(TextFunctions.REPT("0",places-result.length)+result).toUpperCase();throw FormulaError.NUM},BIN2OCT:(number,places)=>{number=H.accept(number,Types.NUMBER_NO_BOOLEAN),places=H.accept(places,Types.NUMBER,null);let numberStr=number.toString();if(numberStr.length>10)throw FormulaError.NUM;if(10===numberStr.length&&"1"===numberStr.substr(0,1))return(parseInt(numberStr.substr(1),2)+1073741312).toString(8);let result=parseInt(number,2).toString(8);if(null==places)return result.toUpperCase();if(places<0)throw FormulaError.NUM;if((places=Math.trunc(places))>=result.length)return TextFunctions.REPT("0",places-result.length)+result;throw FormulaError.NUM},BITAND:(number1,number2)=>{if(number1=H.accept(number1,Types.NUMBER),number2=H.accept(number2,Types.NUMBER),number1<0||number2<0)throw FormulaError.NUM;if(Math.floor(number1)!==number1||Math.floor(number2)!==number2)throw FormulaError.NUM;if(number1>0xffffffffffff||number2>0xffffffffffff)throw FormulaError.NUM;return number1&number2},BITLSHIFT:(number,shiftAmount)=>{if(number=H.accept(number,Types.NUMBER),shiftAmount=H.accept(shiftAmount,Types.NUMBER),shiftAmount=Math.trunc(shiftAmount),Math.abs(shiftAmount)>53)throw FormulaError.NUM;if(number<0||Math.floor(number)!==number||number>0xffffffffffff)throw FormulaError.NUM;const result=shiftAmount>=0?number*2**shiftAmount:Math.trunc(number/2**-shiftAmount);if(result>0xffffffffffff)throw FormulaError.NUM;return result},BITOR:(number1,number2)=>{if(number1=H.accept(number1,Types.NUMBER),number2=H.accept(number2,Types.NUMBER),number1<0||number2<0)throw FormulaError.NUM;if(Math.floor(number1)!==number1||Math.floor(number2)!==number2)throw FormulaError.NUM;if(number1>0xffffffffffff||number2>0xffffffffffff)throw FormulaError.NUM;return number1|number2},BITRSHIFT:(number,shiftAmount)=>(number=H.accept(number,Types.NUMBER),shiftAmount=H.accept(shiftAmount,Types.NUMBER),EngineeringFunctions.BITLSHIFT(number,-shiftAmount)),BITXOR:(number1,number2)=>{if(number1=H.accept(number1,Types.NUMBER),number2=H.accept(number2,Types.NUMBER),number1<0||number1>0xffffffffffff||Math.floor(number1)!==number1)throw FormulaError.NUM;if(number2<0||number2>0xffffffffffff||Math.floor(number2)!==number2)throw FormulaError.NUM;return number1^number2},COMPLEX:(realNum,iNum,suffix)=>{if(realNum=H.accept(realNum,Types.NUMBER_NO_BOOLEAN),iNum=H.accept(iNum,Types.NUMBER_NO_BOOLEAN),"i"!==(suffix=H.accept(suffix,Types.STRING,"i"))&&"j"!==suffix)throw FormulaError.VALUE;if(0===realNum&&0===iNum)return 0;if(0===realNum)return 1===iNum?suffix:-1===iNum?"-"+suffix:iNum.toString()+suffix;if(0===iNum)return realNum.toString();{let sign=iNum>0?"+":"";return 1===iNum?realNum.toString()+sign+suffix:-1===iNum?realNum.toString()+sign+"-"+suffix:realNum.toString()+sign+iNum.toString()+suffix}},DEC2BIN:(number,places)=>{if(number=H.accept(number,Types.NUMBER),places=H.accept(places,Types.NUMBER,null),number<-512||number>511)throw FormulaError.NUM;if(number<0)return"1"+TextFunctions.REPT("0",9-(512+number).toString(2).length)+(512+number).toString(2);let result=parseInt(number,10).toString(2);if(null==places)return result;if((places=Math.trunc(places))<=0)throw FormulaError.NUM;if(places<result.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-result.length)+result},DEC2HEX:(number,places)=>{if(number=H.accept(number,Types.NUMBER),places=H.accept(places,Types.NUMBER,null),number<-549755813888||number>549755813888)throw FormulaError.NUM;if(number<0)return(1099511627776+number).toString(16).toUpperCase();let result=parseInt(number,10).toString(16);if(null==places)return result.toUpperCase();if((places=Math.trunc(places))<=0)throw FormulaError.NUM;if(places<result.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-result.length)+result.toUpperCase()},DEC2OCT:(number,places)=>{if(number=H.accept(number,Types.NUMBER),places=H.accept(places,Types.NUMBER,null),number<-536870912||number>536870912)throw FormulaError.NUM;if(number<0)return(number+1073741824).toString(8);let result=parseInt(number,10).toString(8);if(null==places)return result.toUpperCase();if((places=Math.trunc(places))<=0)throw FormulaError.NUM;if(places<result.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-result.length)+result},DELTA:(number1,number2)=>(number1=H.accept(number1,Types.NUMBER_NO_BOOLEAN))===(number2=H.accept(number2,Types.NUMBER_NO_BOOLEAN,0))?1:0,ERF:(lowerLimit,upperLimit)=>(lowerLimit=H.accept(lowerLimit,Types.NUMBER_NO_BOOLEAN),upperLimit=H.accept(upperLimit,Types.NUMBER_NO_BOOLEAN,0),jStat.erf(lowerLimit)),ERFC:x=>(x=H.accept(x,Types.NUMBER_NO_BOOLEAN),jStat.erfc(x)),GESTEP:(number,step)=>(number=H.accept(number,Types.NUMBER_NO_BOOLEAN))>=(step=H.accept(step,Types.NUMBER_NO_BOOLEAN,0))?1:0,HEX2BIN:(number,places)=>{if(number=H.accept(number,Types.STRING),places=H.accept(places,Types.NUMBER,null),number.length>10||!/^[0-9a-fA-F]*$/.test(number))throw FormulaError.NUM;let ifNegative=10===number.length&&"f"===number.substr(0,1).toLowerCase(),toDecimal=ifNegative?parseInt(number,16)-1099511627776:parseInt(number,16);if(toDecimal<-512||toDecimal>511)throw FormulaError.NUM;if(ifNegative)return"1"+TextFunctions.REPT("0",9-(toDecimal+512).toString(2).length)+(toDecimal+512).toString(2);let toBinary=toDecimal.toString(2);if(null==places)return toBinary;if((places=Math.trunc(places))<=0||places<toBinary.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-toBinary.length)+toBinary},HEX2DEC:number=>{if((number=H.accept(number,Types.STRING)).length>10||!/^[0-9a-fA-F]*$/.test(number))throw FormulaError.NUM;let result=parseInt(number,16);return result>=549755813888?result-1099511627776:result},HEX2OCT:(number,places)=>{if((number=H.accept(number,Types.STRING)).length>10||!/^[0-9a-fA-F]*$/.test(number))throw FormulaError.NUM;let toDecimal=EngineeringFunctions.HEX2DEC(number);if(toDecimal>536870911||toDecimal<-536870912)throw FormulaError.NUM;return EngineeringFunctions.DEC2OCT(toDecimal,places)},IMABS:iNumber=>{const{real,im}=parseIM(iNumber);return Math.sqrt(Math.pow(real,2)+Math.pow(im,2))},IMAGINARY:iNumber=>parseIM(iNumber).im,IMARGUMENT:iNumber=>{const{real,im}=parseIM(iNumber);if(0===real&&0===im)throw FormulaError.DIV0;return 0===real&&im>0?Math.PI/2:0===real&&im<0?-Math.PI/2:real<0&&0===im?Math.PI:real>0&&0===im?0:real>0?Math.atan(im/real):real<0&&im>0?Math.atan(im/real)+Math.PI:Math.atan(im/real)-Math.PI},IMCONJUGATE:iNumber=>{const{real,im,unit}=parseIM(iNumber);return 0!==im?EngineeringFunctions.COMPLEX(real,-im,unit):""+real},IMCOS:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.cos(real)*(Math.exp(im)+Math.exp(-im))/2,imaginaryInput=-Math.sin(real)*(Math.exp(im)-Math.exp(-im))/2;return EngineeringFunctions.COMPLEX(realInput,imaginaryInput,unit)},IMCOSH:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.cos(im)*(Math.exp(real)+Math.exp(-real))/2,imaginaryInput=-Math.sin(im)*(Math.exp(real)-Math.exp(-real))/2;return EngineeringFunctions.COMPLEX(realInput,-imaginaryInput,unit)},IMCOT:iNumber=>{iNumber=H.accept(iNumber);let real=EngineeringFunctions.IMCOS(iNumber),imaginary=EngineeringFunctions.IMSIN(iNumber);return EngineeringFunctions.IMDIV(real,imaginary)},IMCSC:iNumber=>(iNumber=H.accept(iNumber),EngineeringFunctions.IMDIV("1",EngineeringFunctions.IMSIN(iNumber))),IMCSCH:iNumber=>(iNumber=H.accept(iNumber),EngineeringFunctions.IMDIV("1",EngineeringFunctions.IMSINH(iNumber))),IMDIV:(iNumber1,iNumber2)=>{const res1=parseIM(iNumber1),a=res1.real,b=res1.im,unit1=res1.unit,res2=parseIM(iNumber2),c=res2.real,d=res2.im,unit2=res2.unit;if(0===c&&0===d||unit1!==unit2)throw FormulaError.NUM;let unit=unit1,denominator=Math.pow(c,2)+Math.pow(d,2);return EngineeringFunctions.COMPLEX((a*c+b*d)/denominator,(b*c-a*d)/denominator,unit)},IMEXP:iNumber=>{const{real,im,unit}=parseIM(iNumber);let e=Math.exp(real);return EngineeringFunctions.COMPLEX(e*Math.cos(im),e*Math.sin(im),unit)},IMLN:iNumber=>{const{real,im,unit}=parseIM(iNumber);return EngineeringFunctions.COMPLEX(Math.log(Math.sqrt(Math.pow(real,2)+Math.pow(im,2))),Math.atan(im/real),unit)},IMLOG10:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.log(Math.sqrt(Math.pow(real,2)+Math.pow(im,2)))/Math.log(10),imaginaryInput=Math.atan(im/real)/Math.log(10);return EngineeringFunctions.COMPLEX(realInput,imaginaryInput,unit)},IMLOG2:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.log(Math.sqrt(Math.pow(real,2)+Math.pow(im,2)))/Math.log(2),imaginaryInput=Math.atan(im/real)/Math.log(2);return EngineeringFunctions.COMPLEX(realInput,imaginaryInput,unit)},IMPOWER:(iNumber,number)=>{let{unit}=parseIM(iNumber);number=H.accept(number,Types.NUMBER_NO_BOOLEAN);let p=Math.pow(EngineeringFunctions.IMABS(iNumber),number),t=EngineeringFunctions.IMARGUMENT(iNumber),real=p*Math.cos(number*t),imaginary=p*Math.sin(number*t);return EngineeringFunctions.COMPLEX(real,imaginary,unit)},IMPRODUCT:(...params)=>{let result,i=0;return H.flattenParams(params,null,!1,(item=>{if(0===i)result=H.accept(item),parseIM(result);else{const res1=parseIM(result),a=res1.real,b=res1.im,unit1=res1.unit,res2=parseIM(item),c=res2.real,d=res2.im;if(unit1!==res2.unit)throw FormulaError.VALUE;result=EngineeringFunctions.COMPLEX(a*c-b*d,a*d+b*c)}i++}),1),result},IMREAL:iNumber=>parseIM(iNumber).real,IMSEC:iNumber=>EngineeringFunctions.IMDIV("1",EngineeringFunctions.IMCOS(iNumber)),IMSECH:iNumber=>EngineeringFunctions.IMDIV("1",EngineeringFunctions.IMCOSH(iNumber)),IMSIN:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.sin(real)*(Math.exp(im)+Math.exp(-im))/2,imaginaryInput=Math.cos(real)*(Math.exp(im)-Math.exp(-im))/2;return EngineeringFunctions.COMPLEX(realInput,imaginaryInput,unit)},IMSINH:iNumber=>{const{real,im,unit}=parseIM(iNumber);let realInput=Math.cos(im)*(Math.exp(real)-Math.exp(-real))/2,imaginaryInput=Math.sin(im)*(Math.exp(real)+Math.exp(-real))/2;return EngineeringFunctions.COMPLEX(realInput,imaginaryInput,unit)},IMSQRT:iNumber=>{const{unit}=parseIM(iNumber);let power=Math.sqrt(EngineeringFunctions.IMABS(iNumber)),argument=EngineeringFunctions.IMARGUMENT(iNumber);return EngineeringFunctions.COMPLEX(power*Math.cos(argument/2),power*Math.sin(argument/2),unit)},IMSUB:(iNumber1,iNumber2)=>{const res1=parseIM(iNumber1),a=res1.real,b=res1.im,unit1=res1.unit,res2=parseIM(iNumber2),c=res2.real,d=res2.im;if(unit1!==res2.unit)throw FormulaError.VALUE;return EngineeringFunctions.COMPLEX(a-c,b-d,unit1)},IMSUM:(...params)=>{let prevUnit,realSum=0,imSum=0;return H.flattenParams(params,null,!1,(item=>{const{real,im,unit}=parseIM(item);if(prevUnit||(prevUnit=unit),prevUnit!==unit)throw FormulaError.VALUE;realSum+=real,imSum+=im})),EngineeringFunctions.COMPLEX(realSum,imSum,prevUnit)},IMTAN:iNumber=>{const{unit}=parseIM(iNumber);return EngineeringFunctions.IMDIV(EngineeringFunctions.IMSIN(iNumber),EngineeringFunctions.IMCOS(iNumber),unit)},OCT2BIN:(number,places)=>{if(number=H.accept(number,Types.STRING),places=H.accept(places,Types.NUMBER,null),number.length>10)throw FormulaError.NUM;if(places>10)throw FormulaError.NUM;if(null!==places&&places<0)throw FormulaError.NUM;places=Math.trunc(places);let isNegative=10===number.length&&"7"===number.substring(0,1),toDecimal=EngineeringFunctions.OCT2DEC(number);if(toDecimal<-512||toDecimal>511)return FormulaError.NUM;if(isNegative)return"1"+TextFunctions.REPT("0",9-(512+toDecimal).toString(2).length)+(512+toDecimal).toString(2);let result=toDecimal.toString(2);if(0===places)return result;if(places<result.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-result.length)+result},OCT2DEC:number=>{if((number=H.accept(number,Types.STRING)).length>10)throw FormulaError.NUM;for(const n of number)if(n<"0"||n>"7")throw FormulaError.NUM;let result=parseInt(number,8);return result>=536870912?result-1073741824:result},OCT2HEX:(number,places)=>{if(number=H.accept(number,Types.STRING),places=H.accept(places,Types.NUMBER_NO_BOOLEAN,null),number.length>10)throw FormulaError.NUM;for(const n of number)if(n<"0"||n>"7")throw FormulaError.NUM;if((places=Math.trunc(places))<0||places>10)throw FormulaError.NUM;let toDecimal=EngineeringFunctions.OCT2DEC(number),toHex=EngineeringFunctions.DEC2HEX(toDecimal);if(0===places)return toHex;if(places<toHex.length)throw FormulaError.NUM;return TextFunctions.REPT("0",places-toHex.length)+toHex}};module.exports=EngineeringFunctions},"./node_modules/fast-formula-parser/formulas/functions/information.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,error2Number={"#NULL!":1,"#DIV/0!":2,"#VALUE!":3,"#REF!":4,"#NAME?":5,"#NUM!":6,"#N/A":7},InfoFunctions={CELL:(infoType,reference)=>{},"ERROR.TYPE":value=>{if((value=H.accept(value))instanceof FormulaError)return error2Number[value.toString()];throw FormulaError.NA},INFO:()=>{},ISBLANK:value=>!!value.ref&&(null==value.value||""===value.value),ISERR:value=>(value=H.accept(value))instanceof FormulaError&&"#N/A"!==value.toString(),ISERROR:value=>(value=H.accept(value))instanceof FormulaError,ISEVEN:number=>(number=H.accept(number,Types.NUMBER),(number=Math.trunc(number))%2==0),ISLOGICAL:value=>"boolean"==typeof(value=H.accept(value)),ISNA:value=>(value=H.accept(value))instanceof FormulaError&&"#N/A"===value.toString(),ISNONTEXT:value=>"string"!=typeof(value=H.accept(value)),ISNUMBER:value=>"number"==typeof(value=H.accept(value)),ISREF:value=>!!value.ref&&((!H.isCellRef(value)||!(value.ref.row>1048576||value.ref.col>16384))&&((!H.isRangeRef(value)||!(value.ref.from.row>1048576||value.ref.from.col>16384||value.ref.to.row>1048576||value.ref.to.col>16384))&&!((value=H.accept(value))instanceof FormulaError&&"#REF!"===value.toString()))),ISTEXT:value=>"string"==typeof(value=H.accept(value)),N:value=>{const type=typeof(value=H.accept(value));if("number"===type)return value;if("boolean"===type)return Number(value);if(value instanceof FormulaError)throw value;return 0},NA:()=>{throw FormulaError.NA},TYPE:value=>{if(value.ref){if(H.isRangeRef(value))return 16;if(H.isCellRef(value)&&"string"==typeof(value=H.accept(value))&&0===value.length)return 1}const type=typeof(value=H.accept(value));return"number"===type?1:"string"===type?2:"boolean"===type?4:value instanceof FormulaError?16:Array.isArray(value)?64:void 0}};module.exports=InfoFunctions},"./node_modules/fast-formula-parser/formulas/functions/logical.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers;function getNumLogicalValue(params){let numTrue=0,numFalse=0;return H.flattenParams(params,null,!0,(val=>{const type=typeof val;"string"===type?"TRUE"===val?val=!0:"FALSE"===val&&(val=!1):"number"===type&&(val=Boolean(val)),"boolean"==typeof val&&(!0===val?numTrue++:numFalse++)})),[numTrue,numFalse]}const LogicalFunctions={AND:(...params)=>{const[numTrue,numFalse]=getNumLogicalValue(params);return 0===numTrue&&0===numFalse?FormulaError.VALUE:numTrue>0&&0===numFalse},FALSE:()=>!1,IF:(context,logicalTest,valueIfTrue,valueIfFalse)=>(logicalTest=H.accept(logicalTest,Types.BOOLEAN),valueIfTrue=H.accept(valueIfTrue),valueIfFalse=H.accept(valueIfFalse,null,!1),logicalTest?valueIfTrue:valueIfFalse),IFERROR:(value,valueIfError)=>value.value instanceof FormulaError?H.accept(valueIfError):H.accept(value),IFNA:function(value,valueIfNa){if(arguments.length>2)throw FormulaError.TOO_MANY_ARGS("IFNA");return FormulaError.NA.equals(value.value)?H.accept(valueIfNa):H.accept(value)},IFS:(...params)=>{if(params.length%2!=0)return new FormulaError("#N/A","IFS expects all arguments after position 0 to be in pairs.");for(let i=0;i<params.length/2;i++){const logicalTest=H.accept(params[2*i],Types.BOOLEAN),valueIfTrue=H.accept(params[2*i+1]);if(logicalTest)return valueIfTrue}return FormulaError.NA},NOT:logical=>!(logical=H.accept(logical,Types.BOOLEAN)),OR:(...params)=>{const[numTrue,numFalse]=getNumLogicalValue(params);return 0===numTrue&&0===numFalse?FormulaError.VALUE:numTrue>0},SWITCH:(...params)=>{},TRUE:()=>!0,XOR:(...params)=>{const[numTrue,numFalse]=getNumLogicalValue(params);return 0===numTrue&&0===numFalse?FormulaError.VALUE:numTrue%2==1}};module.exports=LogicalFunctions},"./node_modules/fast-formula-parser/formulas/functions/math.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types,Factorials,Criteria}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Infix}=__webpack_require__("./node_modules/fast-formula-parser/formulas/operators.js"),H=FormulaHelpers,f=[],fd=[];function factorial(n){return n<=100?Factorials[n]:f[n]>0?f[n]:f[n]=factorial(n-1)*n}function factorialDouble(n){return 1===n||0===n?1:2===n?2:fd[n]>0?fd[n]:fd[n]=factorialDouble(n-2)*n}const MathFunctions={ABS:number=>(number=H.accept(number,Types.NUMBER),Math.abs(number)),AGGREGATE:(functionNum,options,ref1,...refs)=>{},ARABIC:text=>{if(text=H.accept(text,Types.STRING).toUpperCase(),!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text))throw new FormulaError("#VALUE!","Invalid roman numeral in ARABIC evaluation.");let r=0;return text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(i){r+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[i]})),r},BASE:(number,radix,minLength)=>{if((number=H.accept(number,Types.NUMBER))<0||number>=2**53)throw FormulaError.NUM;if((radix=H.accept(radix,Types.NUMBER))<2||radix>36)throw FormulaError.NUM;if((minLength=H.accept(minLength,Types.NUMBER,0))<0)throw FormulaError.NUM;const result=number.toString(radix).toUpperCase();return new Array(Math.max(minLength+1-result.length,0)).join("0")+result},CEILING:(number,significance)=>{if(number=H.accept(number,Types.NUMBER),0===(significance=H.accept(significance,Types.NUMBER)))return 0;if(number/significance%1==0)return number;const absSignificance=Math.abs(significance),times=Math.floor(Math.abs(number)/absSignificance);if(number<0){return significance<0?-absSignificance*(times+1):-absSignificance*times}return(times+1)*absSignificance},"CEILING.MATH":(number,significance,mode)=>{if(number=H.accept(number,Types.NUMBER),significance=H.accept(significance,Types.NUMBER,number>0?1:-1),mode=H.accept(mode,Types.NUMBER,0),number>=0)return MathFunctions.CEILING(number,significance);const offset=mode?significance:0;return MathFunctions.CEILING(number,significance)-offset},"CEILING.PRECISE":(number,significance)=>(number=H.accept(number,Types.NUMBER),significance=H.accept(significance,Types.NUMBER,1),MathFunctions.CEILING(number,Math.abs(significance))),COMBIN:(number,numberChosen)=>{if(number=H.accept(number,Types.NUMBER),numberChosen=H.accept(numberChosen,Types.NUMBER),number<0||numberChosen<0||number<numberChosen)throw FormulaError.NUM;return MathFunctions.FACT(number)/MathFunctions.FACT(numberChosen)/MathFunctions.FACT(number-numberChosen)},COMBINA:(number,numberChosen)=>{if(number=H.accept(number,Types.NUMBER),numberChosen=H.accept(numberChosen,Types.NUMBER),(0===number||1===number)&&0===numberChosen)return 1;if(number<0||numberChosen<0)throw FormulaError.NUM;return MathFunctions.COMBIN(number+numberChosen-1,number-1)},DECIMAL:(text,radix)=>{if(text=H.accept(text,Types.STRING),radix=H.accept(radix,Types.NUMBER),(radix=Math.trunc(radix))<2||radix>36)throw FormulaError.NUM;const res=parseInt(text,radix);if(isNaN(res))throw FormulaError.NUM;return res},DEGREES:radians=>(radians=H.accept(radians,Types.NUMBER))*(180/Math.PI),EVEN:number=>MathFunctions.CEILING(number,-2),EXP:number=>(number=H.accept(number,Types.NUMBER),Math.exp(number)),FACT:number=>{if(number=H.accept(number,Types.NUMBER),(number=Math.trunc(number))>170||number<0)throw FormulaError.NUM;return number<=100?Factorials[number]:factorial(number)},FACTDOUBLE:number=>{if(number=H.accept(number,Types.NUMBER),(number=Math.trunc(number))<-1)throw FormulaError.NUM;return-1===number?1:factorialDouble(number)},FLOOR:(number,significance)=>{if(number=H.accept(number,Types.NUMBER),0===(significance=H.accept(significance,Types.NUMBER)))return 0;if(number>0&&significance<0)throw FormulaError.NUM;if(number/significance%1==0)return number;const absSignificance=Math.abs(significance),times=Math.floor(Math.abs(number)/absSignificance);if(number<0){return significance<0?-absSignificance*times:-absSignificance*(times+1)}return times*absSignificance},"FLOOR.MATH":(number,significance,mode)=>(number=H.accept(number,Types.NUMBER),significance=H.accept(significance,Types.NUMBER,number>0?1:-1),0===(mode=H.accept(mode,Types.NUMBER,0))||number>=0?MathFunctions.FLOOR(number,Math.abs(significance)):MathFunctions.FLOOR(number,significance)+significance),"FLOOR.PRECISE":(number,significance)=>(number=H.accept(number,Types.NUMBER),significance=H.accept(significance,Types.NUMBER,1),MathFunctions.FLOOR(number,Math.abs(significance))),GCD:(...params)=>{const arr=[];H.flattenParams(params,null,!1,(param=>{if(param="boolean"==typeof param?NaN:Number(param),isNaN(param))throw FormulaError.VALUE;if(param<0||param>9007199254740990)throw FormulaError.NUM;arr.push(Math.trunc(param))}),0);let i,y,n=params.length,x=Math.abs(arr[0]);for(i=1;i<n;i++){for(y=Math.abs(arr[i]);x&&y;)x>y?x%=y:y%=x;x+=y}return x},INT:number=>(number=H.accept(number,Types.NUMBER),Math.floor(number)),"ISO.CEILING":(...params)=>MathFunctions["CEILING.PRECISE"](...params),LCM:(...params)=>{const arr=[];H.flattenParams(params,null,!1,(param=>{if(param="boolean"==typeof param?NaN:Number(param),isNaN(param))throw FormulaError.VALUE;if(param<0||param>9007199254740990)throw FormulaError.NUM;arr.push(Math.trunc(param))}),1);let n=arr.length,a=Math.abs(arr[0]);for(let i=1;i<n;i++){let b=Math.abs(arr[i]),c=a;for(;a&&b;)a>b?a%=b:b%=a;a=Math.abs(c*arr[i])/(a+b)}return a},LN:number=>(number=H.accept(number,Types.NUMBER),Math.log(number)),LOG:(number,base)=>(number=H.accept(number,Types.NUMBER),base=H.accept(base,Types.NUMBER,10),Math.log(number)/Math.log(base)),LOG10:number=>(number=H.accept(number,Types.NUMBER),Math.log10(number)),MDETERM:array=>{if((array=H.accept(array,Types.ARRAY,void 0,!1,!0))[0].length!==array.length)throw FormulaError.VALUE;const numRow=array.length,numCol=array[0].length;let diagLeft,diagRight,det=0;if(1===numRow)return array[0][0];if(2===numRow)return array[0][0]*array[1][1]-array[0][1]*array[1][0];for(let col=0;col<numCol;col++){diagLeft=array[0][col],diagRight=array[0][col];for(let row=1;row<numRow;row++)diagRight*=array[row][((col+row)%numCol+numCol)%numCol],diagLeft*=array[row][((col-row)%numCol+numCol)%numCol];det+=diagRight-diagLeft}return det},MINVERSE:array=>{},MMULT:(array1,array2)=>{array1=H.accept(array1,Types.ARRAY,void 0,!1,!0),array2=H.accept(array2,Types.ARRAY,void 0,!1,!0);const aNumRows=array1.length,aNumCols=array1[0].length,bNumRows=array2.length,bNumCols=array2[0].length,m=new Array(aNumRows);if(aNumCols!==bNumRows)throw FormulaError.VALUE;for(let r=0;r<aNumRows;r++){m[r]=new Array(bNumCols);for(let c=0;c<bNumCols;c++){m[r][c]=0;for(let i=0;i<aNumCols;i++){const v1=array1[r][i],v2=array2[i][c];if("number"!=typeof v1||"number"!=typeof v2)throw FormulaError.VALUE;m[r][c]+=array1[r][i]*array2[i][c]}}}return m},MOD:(number,divisor)=>{if(number=H.accept(number,Types.NUMBER),0===(divisor=H.accept(divisor,Types.NUMBER)))throw FormulaError.DIV0;return number-divisor*MathFunctions.INT(number/divisor)},MROUND:(number,multiple)=>{if(number=H.accept(number,Types.NUMBER),0===(multiple=H.accept(multiple,Types.NUMBER)))return 0;if(number>0&&multiple<0||number<0&&multiple>0)throw FormulaError.NUM;return number/multiple%1==0?number:Math.round(number/multiple)*multiple},MULTINOMIAL:(...numbers)=>{let numerator=0,denominator=1;return H.flattenParams(numbers,Types.NUMBER,!1,(number=>{if(number<0)throw FormulaError.NUM;numerator+=number,denominator*=factorial(number)})),factorial(numerator)/denominator},MUNIT:dimension=>{dimension=H.accept(dimension,Types.NUMBER);const matrix=[];for(let row=0;row<dimension;row++){const rowArr=[];for(let col=0;col<dimension;col++)row===col?rowArr.push(1):rowArr.push(0);matrix.push(rowArr)}return matrix},ODD:number=>{if(0===(number=H.accept(number,Types.NUMBER)))return 1;let temp=Math.ceil(Math.abs(number));return temp=1&temp?temp:temp+1,number>0?temp:-temp},PI:()=>Math.PI,POWER:(number,power)=>(number=H.accept(number,Types.NUMBER))**(power=H.accept(power,Types.NUMBER)),PRODUCT:(...numbers)=>{let product=1;return H.flattenParams(numbers,null,!0,((number,info)=>{const parsedNumber=Number(number);info.isLiteral&&!isNaN(parsedNumber)?product*=parsedNumber:"number"==typeof number&&(product*=number)}),1),product},QUOTIENT:(numerator,denominator)=>(numerator=H.accept(numerator,Types.NUMBER),denominator=H.accept(denominator,Types.NUMBER),Math.trunc(numerator/denominator)),RADIANS:degrees=>(degrees=H.accept(degrees,Types.NUMBER))/180*Math.PI,RAND:()=>Math.random(),RANDBETWEEN:(bottom,top)=>(bottom=H.accept(bottom,Types.NUMBER),top=H.accept(top,Types.NUMBER),Math.floor(Math.random()*(top-bottom+1)+bottom)),ROMAN:(number,form)=>{if(number=H.accept(number,Types.NUMBER),0!==(form=H.accept(form,Types.NUMBER,0)))throw Error("ROMAN: only allows form=0 (classic form).");const digits=String(number).split(""),key=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let roman="",i=3;for(;i--;)roman=(key[+digits.pop()+10*i]||"")+roman;return new Array(+digits.join("")+1).join("M")+roman},ROUND:(number,digits)=>{number=H.accept(number,Types.NUMBER),digits=H.accept(digits,Types.NUMBER);const multiplier=Math.pow(10,Math.abs(digits)),sign=number>0?1:-1;return digits>0?sign*Math.round(Math.abs(number)*multiplier)/multiplier:0===digits?sign*Math.round(Math.abs(number)):sign*Math.round(Math.abs(number)/multiplier)*multiplier},ROUNDDOWN:(number,digits)=>{number=H.accept(number,Types.NUMBER),digits=H.accept(digits,Types.NUMBER);const multiplier=Math.pow(10,Math.abs(digits)),sign=number>0?1:-1;if(digits>0){const offset=1/multiplier*.5;return sign*Math.round((Math.abs(number)-offset)*multiplier)/multiplier}if(0===digits){const offset=.5;return sign*Math.round(Math.abs(number)-offset)}{const offset=.5*multiplier;return sign*Math.round((Math.abs(number)-offset)/multiplier)*multiplier}},ROUNDUP:(number,digits)=>{number=H.accept(number,Types.NUMBER),digits=H.accept(digits,Types.NUMBER);const multiplier=Math.pow(10,Math.abs(digits)),sign=number>0?1:-1;if(digits>0){const offset=1/multiplier*.5;return sign*Math.round((Math.abs(number)+offset)*multiplier)/multiplier}if(0===digits){const offset=.5;return sign*Math.round(Math.abs(number)+offset)}{const offset=.5*multiplier;return sign*Math.round((Math.abs(number)+offset)/multiplier)*multiplier}},SERIESSUM:(x,n,m,coefficients)=>{x=H.accept(x,Types.NUMBER),n=H.accept(n,Types.NUMBER),m=H.accept(m,Types.NUMBER);let result,i=0;return H.flattenParams([coefficients],Types.NUMBER,!1,(coefficient=>{if("number"!=typeof coefficient)throw FormulaError.VALUE;0===i?result=coefficient*Math.pow(x,n):result+=coefficient*Math.pow(x,n+i*m),i++})),result},SIGN:number=>(number=H.accept(number,Types.NUMBER))>0?1:0===number?0:-1,SQRT:number=>{if((number=H.accept(number,Types.NUMBER))<0)throw FormulaError.NUM;return Math.sqrt(number)},SQRTPI:number=>{if((number=H.accept(number,Types.NUMBER))<0)throw FormulaError.NUM;return Math.sqrt(number*Math.PI)},SUBTOTAL:()=>{},SUM:(...params)=>{let result=0;return H.flattenParams(params,Types.NUMBER,!0,((item,info)=>{(info.isLiteral||"number"==typeof item)&&(result+=item)})),result},SUMIF:(context,range,criteria,sumRange)=>{const ranges=H.retrieveRanges(context,range,sumRange);range=ranges[0],sumRange=ranges[1];const isCriteriaArray=(criteria=H.retrieveArg(context,criteria)).isArray;criteria=Criteria.parse(H.accept(criteria));let sum=0;return range.forEach(((row,rowNum)=>{row.forEach(((value,colNum)=>{const valueToAdd=sumRange[rowNum][colNum];"number"==typeof valueToAdd&&("wc"===criteria.op?criteria.match===criteria.value.test(value)&&(sum+=valueToAdd):Infix.compareOp(value,criteria.op,criteria.value,Array.isArray(value),isCriteriaArray)&&(sum+=valueToAdd))}))})),sum},SUMIFS:()=>{},SUMPRODUCT:(array1,...arrays)=>{array1=H.accept(array1,Types.ARRAY,void 0,!1,!0),arrays.forEach((array=>{if(array=H.accept(array,Types.ARRAY,void 0,!1,!0),array1[0].length!==array[0].length||array1.length!==array.length)throw FormulaError.VALUE;for(let i=0;i<array1.length;i++)for(let j=0;j<array1[0].length;j++)"number"!=typeof array1[i][j]&&(array1[i][j]=0),"number"!=typeof array[i][j]&&(array[i][j]=0),array1[i][j]*=array[i][j]}));let result=0;return array1.forEach((row=>{row.forEach((value=>{result+=value}))})),result},SUMSQ:(...params)=>{let result=0;return H.flattenParams(params,Types.NUMBER,!0,((item,info)=>{(info.isLiteral||"number"==typeof item)&&(result+=item**2)})),result},SUMX2MY2:(arrayX,arrayY)=>{const x=[],y=[];let sum=0;if(H.flattenParams([arrayX],null,!1,((item,info)=>{x.push(item)})),H.flattenParams([arrayY],null,!1,((item,info)=>{y.push(item)})),x.length!==y.length)throw FormulaError.NA;for(let i=0;i<x.length;i++)"number"==typeof x[i]&&"number"==typeof y[i]&&(sum+=x[i]**2-y[i]**2);return sum},SUMX2PY2:(arrayX,arrayY)=>{const x=[],y=[];let sum=0;if(H.flattenParams([arrayX],null,!1,((item,info)=>{x.push(item)})),H.flattenParams([arrayY],null,!1,((item,info)=>{y.push(item)})),x.length!==y.length)throw FormulaError.NA;for(let i=0;i<x.length;i++)"number"==typeof x[i]&&"number"==typeof y[i]&&(sum+=x[i]**2+y[i]**2);return sum},SUMXMY2:(arrayX,arrayY)=>{const x=[],y=[];let sum=0;if(H.flattenParams([arrayX],null,!1,((item,info)=>{x.push(item)})),H.flattenParams([arrayY],null,!1,((item,info)=>{y.push(item)})),x.length!==y.length)throw FormulaError.NA;for(let i=0;i<x.length;i++)"number"==typeof x[i]&&"number"==typeof y[i]&&(sum+=(x[i]-y[i])**2);return sum},TRUNC:number=>(number=H.accept(number,Types.NUMBER),Math.trunc(number))};module.exports=MathFunctions},"./node_modules/fast-formula-parser/formulas/functions/reference.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types,WildCard,Address}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),Collection=__webpack_require__("./node_modules/fast-formula-parser/grammar/type/collection.js"),H=FormulaHelpers,ReferenceFunctions={ADDRESS:(rowNumber,columnNumber,absNum,a1,sheetText)=>{if(rowNumber=H.accept(rowNumber,Types.NUMBER),columnNumber=H.accept(columnNumber,Types.NUMBER),absNum=H.accept(absNum,Types.NUMBER,1),a1=H.accept(a1,Types.BOOLEAN,!0),sheetText=H.accept(sheetText,Types.STRING,""),rowNumber<1||columnNumber<1||absNum<1||absNum>4)throw FormulaError.VALUE;let result="";return sheetText.length>0&&(/[^A-Za-z_.\d\u007F-\uFFFF]/.test(sheetText)?result+=`'${sheetText}'!`:result+=sheetText+"!"),a1?(result+=1===absNum||3===absNum?"$":"",result+=Address.columnNumberToName(columnNumber),result+=1===absNum||2===absNum?"$":"",result+=rowNumber):(result+="R",result+=4===absNum||3===absNum?`[${rowNumber}]`:rowNumber,result+="C",result+=4===absNum||2===absNum?`[${columnNumber}]`:columnNumber),result},AREAS:refs=>(refs=H.accept(refs))instanceof Collection?refs.length:1,CHOOSE:(indexNum,...values)=>{},COLUMN:(context,obj)=>{if(null==obj){if(null!=context.position.col)return context.position.col;throw Error("FormulaParser.parse is called without position parameter.")}if("object"!=typeof obj||Array.isArray(obj))throw FormulaError.VALUE;if(H.isCellRef(obj))return obj.ref.col;if(H.isRangeRef(obj))return obj.ref.from.col;throw Error("ReferenceFunctions.COLUMN should not reach here.")},COLUMNS:(context,obj)=>{if(null==obj)throw Error("COLUMNS requires one argument");if("object"!=typeof obj||Array.isArray(obj))throw FormulaError.VALUE;if(H.isCellRef(obj))return 1;if(H.isRangeRef(obj))return Math.abs(obj.ref.from.col-obj.ref.to.col)+1;throw Error("ReferenceFunctions.COLUMNS should not reach here.")},HLOOKUP:(lookupValue,tableArray,rowIndexNum,rangeLookup)=>{lookupValue=H.accept(lookupValue);try{tableArray=H.accept(tableArray,Types.ARRAY,void 0,!1)}catch(e){if(e instanceof FormulaError)throw FormulaError.NA;throw e}if(rowIndexNum=H.accept(rowIndexNum,Types.NUMBER),rangeLookup=H.accept(rangeLookup,Types.BOOLEAN,!0),rowIndexNum<1)throw FormulaError.VALUE;if(void 0===tableArray[rowIndexNum-1])throw FormulaError.REF;const lookupType=typeof lookupValue;if(rangeLookup){let prevValue=lookupType===typeof tableArray[0][0]?tableArray[0][0]:null;for(let i=1;i<tableArray[0].length;i++){const currValue=tableArray[0][i];if(typeof currValue===lookupType){if(prevValue>lookupValue&&currValue>lookupValue)throw FormulaError.NA;if(currValue===lookupValue)return tableArray[rowIndexNum-1][i];if(null!=prevValue&&currValue>lookupValue&&prevValue<=lookupValue)return tableArray[rowIndexNum-1][i-1];prevValue=currValue}}if(null==prevValue)throw FormulaError.NA;return prevValue}{let index=-1;if(index=WildCard.isWildCard(lookupValue)?tableArray[0].findIndex((item=>WildCard.toRegex(lookupValue,"i").test(item))):tableArray[0].findIndex((item=>item===lookupValue)),-1===index)throw FormulaError.NA;return tableArray[rowIndexNum-1][index]}},INDEX:(context,ranges,rowNum,colNum,areaNum)=>{rowNum={value:(rowNum=context.utils.extractRefValue(rowNum)).val,isArray:rowNum.isArray},rowNum=H.accept(rowNum,Types.NUMBER),rowNum=Math.trunc(rowNum),null==colNum?colNum=1:(colNum={value:(colNum=context.utils.extractRefValue(colNum)).val,isArray:colNum.isArray},colNum=H.accept(colNum,Types.NUMBER,1),colNum=Math.trunc(colNum)),null==areaNum?areaNum=1:(areaNum={value:(areaNum=context.utils.extractRefValue(areaNum)).val,isArray:areaNum.isArray},areaNum=H.accept(areaNum,Types.NUMBER,1),areaNum=Math.trunc(areaNum));let range=ranges;if(ranges instanceof Collection)range=ranges.refs[areaNum-1];else if(areaNum>1)throw FormulaError.REF;if(0===rowNum&&0===colNum)return range;if(0===rowNum){if(H.isRangeRef(range)){if(range.ref.to.col-range.ref.from.col<colNum-1)throw FormulaError.REF;return range.ref.from.col+=colNum-1,range.ref.to.col=range.ref.from.col,range}if(Array.isArray(range)){const res=[];return range.forEach((row=>res.push([row[colNum-1]]))),res}}if(0===colNum){if(H.isRangeRef(range)){if(range.ref.to.row-range.ref.from.row<rowNum-1)throw FormulaError.REF;return range.ref.from.row+=rowNum-1,range.ref.to.row=range.ref.from.row,range}if(Array.isArray(range))return range[colNum-1]}if(0!==rowNum&&0!==colNum){if(H.isRangeRef(range)){if(range=range.ref,range.to.row-range.from.row<rowNum-1||range.to.col-range.from.col<colNum-1)throw FormulaError.REF;return{ref:{row:range.from.row+rowNum-1,col:range.from.col+colNum-1}}}if(H.isCellRef(range)){if(range=range.ref,rowNum>1||colNum>1)throw FormulaError.REF;return{ref:{row:range.row+rowNum-1,col:range.col+colNum-1}}}if(Array.isArray(range)){if(range.length<rowNum||range[0].length<colNum)throw FormulaError.REF;return range[rowNum-1][colNum-1]}}},MATCH:()=>{},ROW:(context,obj)=>{if(null==obj){if(null!=context.position.row)return context.position.row;throw Error("FormulaParser.parse is called without position parameter.")}if("object"!=typeof obj||Array.isArray(obj))throw FormulaError.VALUE;if(H.isCellRef(obj))return obj.ref.row;if(H.isRangeRef(obj))return obj.ref.from.row;throw Error("ReferenceFunctions.ROW should not reach here.")},ROWS:(context,obj)=>{if(null==obj)throw Error("ROWS requires one argument");if("object"!=typeof obj||Array.isArray(obj))throw FormulaError.VALUE;if(H.isCellRef(obj))return 1;if(H.isRangeRef(obj))return Math.abs(obj.ref.from.row-obj.ref.to.row)+1;throw Error("ReferenceFunctions.ROWS should not reach here.")},TRANSPOSE:array=>{array=H.accept(array,Types.ARRAY,void 0,!1);const result=[];for(let i=0;i<array[0].length;i++){result[i]=[];for(let j=0;j<array.length;j++)result[i][j]=array[j][i]}return result},VLOOKUP:(lookupValue,tableArray,colIndexNum,rangeLookup)=>{lookupValue=H.accept(lookupValue);try{tableArray=H.accept(tableArray,Types.ARRAY,void 0,!1)}catch(e){if(e instanceof FormulaError)throw FormulaError.NA;throw e}if(colIndexNum=H.accept(colIndexNum,Types.NUMBER),rangeLookup=H.accept(rangeLookup,Types.BOOLEAN,!0),colIndexNum<1)throw FormulaError.VALUE;if(void 0===tableArray[0][colIndexNum-1])throw FormulaError.REF;const lookupType=typeof lookupValue;if(rangeLookup){let prevValue=lookupType===typeof tableArray[0][0]?tableArray[0][0]:null;for(let i=1;i<tableArray.length;i++){const currRow=tableArray[i],currValue=tableArray[i][0];if(typeof currValue===lookupType){if(prevValue>lookupValue&&currValue>lookupValue)throw FormulaError.NA;if(currValue===lookupValue)return currRow[colIndexNum-1];if(null!=prevValue&&currValue>lookupValue&&prevValue<=lookupValue)return tableArray[i-1][colIndexNum-1];prevValue=currValue}}if(null==prevValue)throw FormulaError.NA;return prevValue}{let index=-1;if(index=WildCard.isWildCard(lookupValue)?tableArray.findIndex((currRow=>WildCard.toRegex(lookupValue,"i").test(currRow[0]))):tableArray.findIndex((currRow=>currRow[0]===lookupValue)),-1===index)throw FormulaError.NA;return tableArray[index][colIndexNum-1]}}};module.exports=ReferenceFunctions},"./node_modules/fast-formula-parser/formulas/functions/statistical.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types,Criteria,Address}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Infix}=__webpack_require__("./node_modules/fast-formula-parser/formulas/operators.js"),H=FormulaHelpers,{DistributionFunctions}=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/distribution.js"),StatisticalFunctions={AVEDEV:(...numbers)=>{let sum=0;const arr=[];H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&(sum+=item,arr.push(item))}));const avg=sum/arr.length;sum=0;for(let i=0;i<arr.length;i++)sum+=Math.abs(arr[i]-avg);return sum/arr.length},AVERAGE:(...numbers)=>{let sum=0,cnt=0;return H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{"number"==typeof item&&(sum+=item,cnt++)})),sum/cnt},AVERAGEA:(...numbers)=>{let sum=0,cnt=0;return H.flattenParams(numbers,Types.NUMBER,!0,((item,info)=>{const type=typeof item;"number"===type?(sum+=item,cnt++):"string"===type&&cnt++})),sum/cnt},AVERAGEIF:(context,range,criteria,averageRange)=>{const ranges=H.retrieveRanges(context,range,averageRange);range=ranges[0],averageRange=ranges[1];const isCriteriaArray=(criteria=H.retrieveArg(context,criteria)).isArray;criteria=Criteria.parse(H.accept(criteria));let sum=0,cnt=0;if(range.forEach(((row,rowNum)=>{row.forEach(((value,colNum)=>{const valueToAdd=averageRange[rowNum][colNum];"number"==typeof valueToAdd&&("wc"===criteria.op?criteria.match===criteria.value.test(value)&&(sum+=valueToAdd,cnt++):Infix.compareOp(value,criteria.op,criteria.value,Array.isArray(value),isCriteriaArray)&&(sum+=valueToAdd,cnt++))}))})),0===cnt)throw FormulaError.DIV0;return sum/cnt},AVERAGEIFS:()=>{},COUNT:(...ranges)=>{let cnt=0;return H.flattenParams(ranges,null,!0,((item,info)=>{(info.isLiteral&&!isNaN(item)||"number"==typeof item)&&cnt++})),cnt},COUNTIF:(range,criteria)=>{range=H.accept(range,Types.ARRAY,void 0,!1,!0);const isCriteriaArray=criteria.isArray;criteria=H.accept(criteria);let cnt=0;return criteria=Criteria.parse(criteria),range.forEach((row=>{row.forEach((value=>{"wc"===criteria.op?criteria.match===criteria.value.test(value)&&cnt++:Infix.compareOp(value,criteria.op,criteria.value,Array.isArray(value),isCriteriaArray)&&cnt++}))})),cnt},LARGE:()=>{},MAX:()=>{},MAXA:()=>{},MAXIFS:()=>{},MEDIAN:()=>{},MIN:()=>{},MINA:()=>{},MINIFS:()=>{},PERMUT:()=>{},PERMUTATIONA:()=>{},SMALL:()=>{}};module.exports=Object.assign(StatisticalFunctions,DistributionFunctions)},"./node_modules/fast-formula-parser/formulas/functions/text.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types,WildCard}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,ssf=__webpack_require__("./node_modules/fast-formula-parser/ssf/ssf.js"),bahttext=__webpack_require__("./node_modules/bahttext/src/index.js"),charsets={latin:{halfRE:/[!-~]/g,fullRE:/[！-～]/g,delta:65248},hangul1:{halfRE:/[ﾡ-ﾾ]/g,fullRE:/[ᆨ-ᇂ]/g,delta:-60921},hangul2:{halfRE:/[ￂ-ￜ]/g,fullRE:/[ᅡ-ᅵ]/g,delta:-61025},kana:{delta:0,half:"｡｢｣､･ｦｧｨｩｪｫｬｭｮｯｰｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝﾞﾟ",full:"。「」、・ヲァィゥェォャュョッーアイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワン゛゜"},extras:{delta:0,half:"¢£¬¯¦¥₩ |←↑→↓■°",full:"￠￡￢￣￤￥￦　￨￩￪￫￬￭￮"}},re=(set,way)=>set[way+"RE"]||new RegExp("["+set[way]+"]","g"),sets=Object.keys(charsets).map((i=>charsets[i])),toFullWidth=str0=>sets.reduce(((str,set)=>str.replace(re(set,"half"),(set=>c=>set.delta?String.fromCharCode(c.charCodeAt(0)+set.delta):[...set.full][[...set.half].indexOf(c)])(set))),str0),toHalfWidth=str0=>sets.reduce(((str,set)=>str.replace(re(set,"full"),(set=>c=>set.delta?String.fromCharCode(c.charCodeAt(0)-set.delta):[...set.half][[...set.full].indexOf(c)])(set))),str0),TextFunctions={ASC:text=>(text=H.accept(text,Types.STRING),toHalfWidth(text)),BAHTTEXT:number=>{number=H.accept(number,Types.NUMBER);try{return bahttext(number)}catch(e){throw Error(`Error in https://github.com/jojoee/bahttext \n${e.toString()}`)}},CHAR:number=>{if((number=H.accept(number,Types.NUMBER))>255||number<1)throw FormulaError.VALUE;return String.fromCharCode(number)},CLEAN:text=>(text=H.accept(text,Types.STRING)).replace(/[\x00-\x1F]/g,""),CODE:text=>{if(0===(text=H.accept(text,Types.STRING)).length)throw FormulaError.VALUE;return text.charCodeAt(0)},CONCAT:(...params)=>{let text="";return H.flattenParams(params,Types.STRING,!1,(item=>{item=H.accept(item,Types.STRING),text+=item})),text},CONCATENATE:(...params)=>{let text="";if(0===params.length)throw Error("CONCATENATE need at least one argument.");return params.forEach((param=>{param=H.accept(param,Types.STRING),text+=param})),text},DBCS:text=>(text=H.accept(text,Types.STRING),toFullWidth(text)),DOLLAR:(number,decimals)=>{number=H.accept(number,Types.NUMBER),decimals=H.accept(decimals,Types.NUMBER,2);const decimalString=Array(decimals).fill("0").join("");return ssf.format(`$#,##0.${decimalString}_);($#,##0.${decimalString})`,number).trim()},EXACT:(text1,text2)=>(text1=H.accept(text1,[Types.STRING]))===(text2=H.accept(text2,[Types.STRING])),FIND:(findText,withinText,startNum)=>{if(findText=H.accept(findText,Types.STRING),withinText=H.accept(withinText,Types.STRING),(startNum=H.accept(startNum,Types.NUMBER,1))<1||startNum>withinText.length)throw FormulaError.VALUE;const res=withinText.indexOf(findText,startNum-1);if(-1===res)throw FormulaError.VALUE;return res+1},FINDB:(...params)=>TextFunctions.FIND(...params),FIXED:(number,decimals,noCommas)=>{number=H.accept(number,Types.NUMBER),decimals=H.accept(decimals,Types.NUMBER,2),noCommas=H.accept(noCommas,Types.BOOLEAN,!1);const decimalString=Array(decimals).fill("0").join(""),comma=noCommas?"":"#,";return ssf.format(`${comma}##0.${decimalString}_);(${comma}##0.${decimalString})`,number).trim()},LEFT:(text,numChars)=>{if(text=H.accept(text,Types.STRING),(numChars=H.accept(numChars,Types.NUMBER,1))<0)throw FormulaError.VALUE;return numChars>text.length?text:text.slice(0,numChars)},LEFTB:(...params)=>TextFunctions.LEFT(...params),LEN:text=>(text=H.accept(text,Types.STRING)).length,LENB:(...params)=>TextFunctions.LEN(...params),LOWER:text=>(text=H.accept(text,Types.STRING)).toLowerCase(),MID:(text,startNum,numChars)=>{if(text=H.accept(text,Types.STRING),startNum=H.accept(startNum,Types.NUMBER),numChars=H.accept(numChars,Types.NUMBER),startNum>text.length)return"";if(startNum<1||numChars<1)throw FormulaError.VALUE;return text.slice(startNum-1,startNum+numChars-1)},MIDB:(...params)=>TextFunctions.MID(...params),NUMBERVALUE:(text,decimalSeparator,groupSeparator)=>{if(text=H.accept(text,Types.STRING),decimalSeparator=H.accept(decimalSeparator,Types.STRING,"."),groupSeparator=H.accept(groupSeparator,Types.STRING,","),0===text.length)return 0;if(0===decimalSeparator.length||0===groupSeparator.length)throw FormulaError.VALUE;if((decimalSeparator=decimalSeparator[0])===(groupSeparator=groupSeparator[0])||text.indexOf(decimalSeparator)<text.lastIndexOf(groupSeparator))throw FormulaError.VALUE;const res=text.replace(groupSeparator,"").replace(decimalSeparator,".").replace(/[^\-0-9.%()]/g,"").match(/([(-]*)([0-9]*[.]*[0-9]+)([)]?)([%]*)/);if(!res)throw FormulaError.VALUE;const leftParenOrMinus=res[1].length,rightParen=res[3].length,percent=res[4].length;let number=Number(res[2]);if(leftParenOrMinus>1||leftParenOrMinus&&!rightParen||!leftParenOrMinus&&rightParen||isNaN(number))throw FormulaError.VALUE;return number/=100**percent,leftParenOrMinus?-number:number},PHONETIC:()=>{},PROPER:text=>(text=(text=(text=H.accept(text,[Types.STRING])).toLowerCase()).charAt(0).toUpperCase()+text.slice(1)).replace(/(?:[^a-zA-Z])([a-zA-Z])/g,(letter=>letter.toUpperCase())),REPLACE:(old_text,start_num,num_chars,new_text)=>{old_text=H.accept(old_text,[Types.STRING]),start_num=H.accept(start_num,[Types.NUMBER]),num_chars=H.accept(num_chars,[Types.NUMBER]),new_text=H.accept(new_text,[Types.STRING]);let arr=old_text.split("");return arr.splice(start_num-1,num_chars,new_text),arr.join("")},REPLACEB:(...params)=>TextFunctions.REPLACE(...params),REPT:(text,number_times)=>{text=H.accept(text,Types.STRING),number_times=H.accept(number_times,Types.NUMBER);let str="";for(let i=0;i<number_times;i++)str+=text;return str},RIGHT:(text,numChars)=>{if(text=H.accept(text,Types.STRING),(numChars=H.accept(numChars,Types.NUMBER,1))<0)throw FormulaError.VALUE;const len=text.length;return numChars>len?text:text.slice(len-numChars)},RIGHTB:(...params)=>TextFunctions.RIGHT(...params),SEARCH:(findText,withinText,startNum)=>{if(findText=H.accept(findText,Types.STRING),withinText=H.accept(withinText,Types.STRING),(startNum=H.accept(startNum,Types.NUMBER,1))<1||startNum>withinText.length)throw FormulaError.VALUE;let findTextRegex=WildCard.isWildCard(findText)?WildCard.toRegex(findText,"i"):findText;const res=withinText.slice(startNum-1).search(findTextRegex);if(-1===res)throw FormulaError.VALUE;return res+startNum},SEARCHB:(...params)=>TextFunctions.SEARCH(...params),SUBSTITUTE:(...params)=>{},T:value=>"string"==typeof(value=H.accept(value))?value:"",TEXT:(value,formatText)=>{value=H.accept(value,Types.NUMBER),formatText=H.accept(formatText,Types.STRING);try{return ssf.format(formatText,value)}catch(e){throw console.error(e),FormulaError.VALUE}},TEXTJOIN:(...params)=>{},TRIM:text=>(text=H.accept(text,[Types.STRING])).replace(/^\s+|\s+$/g,""),UNICHAR:number=>{if((number=H.accept(number,[Types.NUMBER]))<=0)throw FormulaError.VALUE;return String.fromCharCode(number)},UNICODE:text=>TextFunctions.CODE(text)};module.exports=TextFunctions},"./node_modules/fast-formula-parser/formulas/functions/trigonometry.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,TrigFunctions={ACOS:number=>{if((number=H.accept(number,Types.NUMBER))>1||number<-1)throw FormulaError.NUM;return Math.acos(number)},ACOSH:number=>{if((number=H.accept(number,Types.NUMBER))<1)throw FormulaError.NUM;return Math.acosh(number)},ACOT:number=>(number=H.accept(number,Types.NUMBER),Math.PI/2-Math.atan(number)),ACOTH:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)<=1)throw FormulaError.NUM;return Math.atanh(1/number)},ASIN:number=>{if((number=H.accept(number,Types.NUMBER))>1||number<-1)throw FormulaError.NUM;return Math.asin(number)},ASINH:number=>(number=H.accept(number,Types.NUMBER),Math.asinh(number)),ATAN:number=>(number=H.accept(number,Types.NUMBER),Math.atan(number)),ATAN2:(x,y)=>{if(x=H.accept(x,Types.NUMBER),0===(y=H.accept(y,Types.NUMBER))&&0===x)throw FormulaError.DIV0;return Math.atan2(y,x)},ATANH:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>1)throw FormulaError.NUM;return Math.atanh(number)},COS:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;return Math.cos(number)},COSH:number=>(number=H.accept(number,Types.NUMBER),Math.cosh(number)),COT:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;if(0===number)throw FormulaError.DIV0;return 1/Math.tan(number)},COTH:number=>{if(0===(number=H.accept(number,Types.NUMBER)))throw FormulaError.DIV0;return 1/Math.tanh(number)},CSC:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;return 1/Math.sin(number)},CSCH:number=>{if(0===(number=H.accept(number,Types.NUMBER)))throw FormulaError.DIV0;return 1/Math.sinh(number)},SEC:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;return 1/Math.cos(number)},SECH:number=>(number=H.accept(number,Types.NUMBER),1/Math.cosh(number)),SIN:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;return Math.sin(number)},SINH:number=>(number=H.accept(number,Types.NUMBER),Math.sinh(number)),TAN:number=>{if(number=H.accept(number,Types.NUMBER),Math.abs(number)>134217727)throw FormulaError.NUM;return Math.tan(number)},TANH:number=>(number=H.accept(number,Types.NUMBER),Math.tanh(number))};module.exports=TrigFunctions},"./node_modules/fast-formula-parser/formulas/functions/web.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),H=FormulaHelpers,WebFunctions={ENCODEURL:text=>encodeURIComponent(H.accept(text,Types.STRING)),FILTERXML:()=>{},WEBSERVICE:(context,url)=>{throw FormulaError.ERROR("WEBSERVICE is not supported in sync mode.")}};module.exports=WebFunctions},"./node_modules/fast-formula-parser/formulas/helpers.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),Collection=__webpack_require__("./node_modules/fast-formula-parser/grammar/type/collection.js"),Types={NUMBER:0,ARRAY:1,BOOLEAN:2,STRING:3,RANGE_REF:4,CELL_REF:5,COLLECTIONS:6,NUMBER_NO_BOOLEAN:10},ReversedTypes={};Object.keys(Types).forEach((key=>{ReversedTypes[Types[key]]=key}));const H=new class FormulaHelpers{constructor(){this.Types=Types,this.type2Number={number:Types.NUMBER,boolean:Types.BOOLEAN,string:Types.STRING,object:-1}}checkFunctionResult(result){if("number"===typeof result){if(isNaN(result))return FormulaError.VALUE;if(!isFinite(result))return FormulaError.NUM}return null==result?FormulaError.NULL:result}flattenDeep(arr1){return arr1.reduce(((acc,val)=>Array.isArray(val)?acc.concat(this.flattenDeep(val)):acc.concat(val)),[])}acceptNumber(obj,isArray=!0,allowBoolean=!0){if(obj instanceof FormulaError)return obj;let number;if("number"==typeof obj)number=obj;else if("boolean"==typeof obj){if(!allowBoolean)throw FormulaError.VALUE;number=Number(obj)}else if("string"==typeof obj){if(0===obj.length)throw FormulaError.VALUE;if(number=Number(obj),number!=number)throw FormulaError.VALUE}else{if(!Array.isArray(obj))throw Error("Unknown type in FormulaHelpers.acceptNumber");if(isArray)number=this.acceptNumber(obj[0][0]);else{if(1!==obj[0].length)throw FormulaError.VALUE;number=this.acceptNumber(obj[0][0])}}return number}flattenParams(params,valueType,allowUnion,hook,defValue=null,minSize=1){if(params.length<minSize)throw FormulaError.ARG_MISSING([valueType]);null==defValue&&(defValue=valueType===Types.NUMBER?0:null==valueType?null:""),params.forEach((param=>{const{isCellRef,isRangeRef,isArray}=param,isUnion=param.value instanceof Collection,isLiteral=!(isCellRef||isRangeRef||isArray||isUnion),info={isLiteral,isCellRef,isRangeRef,isArray,isUnion};if(isLiteral)param=param.omitted?defValue:this.accept(param,valueType,defValue),hook(param,info);else if(isCellRef)hook(param.value,info);else if(isUnion){if(!allowUnion)throw FormulaError.VALUE;param=param.value.data,(param=this.flattenDeep(param)).forEach((item=>{hook(item,info)}))}else(isRangeRef||isArray)&&(param=this.flattenDeep(param.value)).forEach((item=>{hook(item,info)}))}))}accept(param,type=null,defValue,flat=!0,allowSingleValue=!1){if(Array.isArray(type)&&(type=type[0]),null==param&&void 0===defValue)throw FormulaError.ARG_MISSING([type]);if(null==param)return defValue;if("object"!=typeof param||Array.isArray(param))return param;const isArray=param.isArray;if(null!=param.value&&(param=param.value),null==type)return param;if(param instanceof FormulaError)throw param;if(type===Types.ARRAY){if(Array.isArray(param))return flat?this.flattenDeep(param):param;if(param instanceof Collection)throw FormulaError.VALUE;if(allowSingleValue)return flat?[param]:[[param]];throw FormulaError.VALUE}if(type===Types.COLLECTIONS)return param;isArray&&(param=param[0][0]);const paramType=this.type(param);if(type===Types.STRING)param=paramType===Types.BOOLEAN?param?"TRUE":"FALSE":`${param}`;else if(type===Types.BOOLEAN){if(paramType===Types.STRING)throw FormulaError.VALUE;paramType===Types.NUMBER&&(param=Boolean(param))}else if(type===Types.NUMBER)param=this.acceptNumber(param,!1);else{if(type!==Types.NUMBER_NO_BOOLEAN)throw FormulaError.VALUE;param=this.acceptNumber(param,!1,!1)}return param}type(variable){let type=this.type2Number[typeof variable];return-1===type&&(Array.isArray(variable)?type=Types.ARRAY:variable.ref?type=variable.ref.from?Types.RANGE_REF:Types.CELL_REF:variable instanceof Collection&&(type=Types.COLLECTIONS)),type}isRangeRef(param){return param.ref&&param.ref.from}isCellRef(param){return param.ref&&!param.ref.from}retrieveRanges(context,range1,range2){return range2=Address.extend(range1,range2),range1=this.retrieveArg(context,range1),range2!==(range1=H.accept(range1,Types.ARRAY,void 0,!1,!0))?(range2=this.retrieveArg(context,range2),range2=H.accept(range2,Types.ARRAY,void 0,!1,!0)):range2=range1,[range1,range2]}retrieveArg(context,arg){if(null===arg)return{value:0,isArray:!1,omitted:!0};const res=context.utils.extractRefValue(arg);return{value:res.val,isArray:res.isArray,ref:arg.ref}}},WildCard={isWildCard:obj=>"string"==typeof obj&&/[*?]/.test(obj),toRegex:(lookupText,flags)=>RegExp(lookupText.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/([^~]??)[?]/g,"$1.").replace(/([^~]??)[*]/g,"$1.*").replace(/~([?*])/g,"$1"),flags)},Criteria={parse:criteria=>{const type=typeof criteria;if("string"===type){const upper=criteria.toUpperCase();if("TRUE"===upper||"FALSE"===upper)return{op:"=",value:"TRUE"===upper};const res=criteria.match(/(<>|>=|<=|>|<|=)(.*)/);if(res){let value,op=res[1];if(isNaN(res[2])){const upper=res[2].toUpperCase();if("TRUE"===upper||"FALSE"===upper)value="TRUE"===upper;else if(/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A|#REF!/.test(res[2]))value=new FormulaError(res[2]);else if(value=res[2],WildCard.isWildCard(value))return{op:"wc",value:WildCard.toRegex(value),match:"="===op}}else value=Number(res[2]);return{op,value}}return WildCard.isWildCard(criteria)?{op:"wc",value:WildCard.toRegex(criteria),match:!0}:{op:"=",value:criteria}}if("boolean"===type||"number"===type||Array.isArray(criteria)||criteria instanceof FormulaError)return{op:"=",value:criteria};throw Error(`Criteria.parse: type ${typeof criteria} not support`)}},Address={columnNumberToName:number=>{let dividend=number,name="",modulo=0;for(;dividend>0;)modulo=(dividend-1)%26,name=String.fromCharCode("A".charCodeAt(0)+modulo)+name,dividend=Math.floor((dividend-modulo)/26);return name},columnNameToNumber:columnName=>{const len=(columnName=columnName.toUpperCase()).length;let number=0;for(let i=0;i<len;i++){const code=columnName.charCodeAt(i);isNaN(code)||(number+=(code-64)*26**(len-i-1))}return number},extend:(range1,range2)=>{if(null==range2)return range1;let rowOffset,colOffset;if(H.isCellRef(range1))rowOffset=0,colOffset=0;else{if(!H.isRangeRef(range1))throw Error("Address.extend should not reach here.");rowOffset=range1.ref.to.row-range1.ref.from.row,colOffset=range1.ref.to.col-range1.ref.from.col}return H.isCellRef(range2)?(rowOffset>0||colOffset>0)&&(range2={ref:{from:{col:range2.ref.col,row:range2.ref.row},to:{row:range2.ref.row+rowOffset,col:range2.ref.col+colOffset}}}):(range2.ref.to.row=range2.ref.from.row+rowOffset,range2.ref.to.col=range2.ref.from.col+colOffset),range2}};module.exports={FormulaHelpers:H,Types,ReversedTypes,Factorials:[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8.841761993739702e30,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,1.0333147966386145e40,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,1.3868311854568984e80,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8.247650592082472e90,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,1.1978571669969892e100,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5.797126020747368e120,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,2.4227095383672734e130,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1.352001527678403e140,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142],WildCard,Criteria,Address}},"./node_modules/fast-formula-parser/formulas/operators.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),Prefix={unaryOp:(prefixes,value,isArray)=>{let sign=1;if(prefixes.forEach((prefix=>{if("+"===prefix);else{if("-"!==prefix)throw new Error(`Unrecognized prefix: ${prefix}`);sign=-sign}})),null==value&&(value=0),1===sign)return value;try{value=FormulaHelpers.acceptNumber(value,isArray)}catch(e){if(!(e instanceof FormulaError))throw e;Array.isArray(value)&&(value=value[0][0])}return"number"==typeof value&&isNaN(value)?FormulaError.VALUE:-value}},Postfix={percentOp:(value,postfix,isArray)=>{try{value=FormulaHelpers.acceptNumber(value,isArray)}catch(e){if(e instanceof FormulaError)return e;throw e}if("%"===postfix)return value/100;throw new Error(`Unrecognized postfix: ${postfix}`)}},type2Number={boolean:3,string:2,number:1},Infix={compareOp:(value1,infix,value2,isArray1,isArray2)=>{null==value1&&(value1=0),null==value2&&(value2=0),isArray1&&(value1=value1[0][0]),isArray2&&(value2=value2[0][0]);const type1=typeof value1,type2=typeof value2;if(type1===type2)switch(infix){case"=":return value1===value2;case">":return value1>value2;case"<":return value1<value2;case"<>":return value1!==value2;case"<=":return value1<=value2;case">=":return value1>=value2}else switch(infix){case"=":return!1;case">":return type2Number[type1]>type2Number[type2];case"<":return type2Number[type1]<type2Number[type2];case"<>":return!0;case"<=":return type2Number[type1]<=type2Number[type2];case">=":return type2Number[type1]>=type2Number[type2]}throw Error("Infix.compareOp: Should not reach here.")},concatOp:(value1,infix,value2,isArray1,isArray2)=>{null==value1&&(value1=""),null==value2&&(value2=""),isArray1&&(value1=value1[0][0]),isArray2&&(value2=value2[0][0]);return"boolean"===typeof value1&&(value1=value1?"TRUE":"FALSE"),"boolean"===typeof value2&&(value2=value2?"TRUE":"FALSE"),""+value1+value2},mathOp:(value1,infix,value2,isArray1,isArray2)=>{null==value1&&(value1=0),null==value2&&(value2=0);try{value1=FormulaHelpers.acceptNumber(value1,isArray1),value2=FormulaHelpers.acceptNumber(value2,isArray2)}catch(e){if(e instanceof FormulaError)return e;throw e}switch(infix){case"+":return value1+value2;case"-":return value1-value2;case"*":return value1*value2;case"/":return 0===value2?FormulaError.DIV0:value1/value2;case"^":return value1**value2}throw Error("Infix.mathOp: Should not reach here.")}};module.exports={Prefix,Postfix,Infix,Operators:{compareOp:["<",">","=","<>","<=",">="],concatOp:["&"],mathOp:["+","-","*","/","^"]}}},"./node_modules/fast-formula-parser/grammar/dependency/hooks.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Parser}=__webpack_require__("./node_modules/fast-formula-parser/grammar/parsing.js"),lexer=__webpack_require__("./node_modules/fast-formula-parser/grammar/lexing.js"),Utils=__webpack_require__("./node_modules/fast-formula-parser/grammar/dependency/utils.js"),{formatChevrotainError}=__webpack_require__("./node_modules/fast-formula-parser/grammar/utils.js");module.exports={DepParser:class DepParser{constructor(config){this.data=[],this.utils=new Utils(this),config=Object.assign({onVariable:()=>null},config),this.utils=new Utils(this),this.onVariable=config.onVariable,this.functions={},this.parser=new Parser(this,this.utils)}getCell(ref){if(null!=ref.row){null==ref.sheet&&(ref.sheet=this.position?this.position.sheet:void 0);-1===this.data.findIndex((element=>element.from&&element.from.row<=ref.row&&element.to.row>=ref.row&&element.from.col<=ref.col&&element.to.col>=ref.col||element.row===ref.row&&element.col===ref.col&&element.sheet===ref.sheet))&&this.data.push(ref)}return 0}getRange(ref){if(null!=ref.from.row){null==ref.sheet&&(ref.sheet=this.position?this.position.sheet:void 0);-1===this.data.findIndex((element=>element.from&&element.from.row===ref.from.row&&element.from.col===ref.from.col&&element.to.row===ref.to.row&&element.to.col===ref.to.col))&&this.data.push(ref)}return[[0]]}getVariable(name){const res={ref:this.onVariable(name,this.position.sheet)};return null==res.ref?FormulaError.NAME:(FormulaHelpers.isCellRef(res)?this.getCell(res.ref):this.getRange(res.ref),0)}retrieveRef(valueOrRef){return FormulaHelpers.isRangeRef(valueOrRef)?this.getRange(valueOrRef.ref):FormulaHelpers.isCellRef(valueOrRef)?this.getCell(valueOrRef.ref):valueOrRef}callFunction(name,args){return args.forEach((arg=>{null!=arg&&this.retrieveRef(arg)})),{value:0,ref:{}}}checkFormulaResult(result){this.retrieveRef(result)}parse(inputText,position,ignoreError=!1){if(0===inputText.length)throw Error("Input must not be empty.");this.data=[],this.position=position;const lexResult=lexer.lex(inputText);this.parser.input=lexResult.tokens;try{const res=this.parser.formulaWithBinaryOp();this.checkFormulaResult(res)}catch(e){if(!ignoreError)throw FormulaError.ERROR(e.message,e)}if(this.parser.errors.length>0&&!ignoreError){const error=this.parser.errors[0];throw formatChevrotainError(error,inputText)}return this.data}}}},"./node_modules/fast-formula-parser/grammar/dependency/utils.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers,Types,Address}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Prefix,Postfix,Infix,Operators}=__webpack_require__("./node_modules/fast-formula-parser/formulas/operators.js"),Collection=__webpack_require__("./node_modules/fast-formula-parser/grammar/type/collection.js");module.exports=class Utils{constructor(context){this.context=context}columnNameToNumber(columnName){return Address.columnNameToNumber(columnName)}parseCellAddress(cellAddress){const res=cellAddress.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{col:this.columnNameToNumber(res[2]),row:+res[4]}}}parseRow(row){const rowNum=+row;if(!Number.isInteger(rowNum))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+row}}}parseCol(col){return{ref:{col:this.columnNameToNumber(col),row:void 0}}}applyPrefix(prefixes,value){return this.extractRefValue(value),0}applyPostfix(value,postfix){return this.extractRefValue(value),0}applyInfix(value1,infix,value2){return this.extractRefValue(value1),this.extractRefValue(value2),0}applyIntersect(refs){if(this.isFormulaError(refs[0]))return refs[0];if(!refs[0].ref)throw Error(`Expecting a reference, but got ${refs[0]}.`);let maxRow,maxCol,minRow,minCol,sheet,res;const ref=refs.shift().ref;if(sheet=ref.sheet,ref.from)maxRow=Math.max(ref.from.row,ref.to.row),minRow=Math.min(ref.from.row,ref.to.row),maxCol=Math.max(ref.from.col,ref.to.col),minCol=Math.min(ref.from.col,ref.to.col);else{if(void 0===ref.row||void 0===ref.col)throw Error("Cannot intersect the whole row or column.");maxRow=minRow=ref.row,maxCol=minCol=ref.col}let err;return refs.forEach((ref=>{if(this.isFormulaError(ref))return ref;if(!(ref=ref.ref))throw Error(`Expecting a reference, but got ${ref}.`);if(ref.from){const refMaxRow=Math.max(ref.from.row,ref.to.row),refMinRow=Math.min(ref.from.row,ref.to.row),refMaxCol=Math.max(ref.from.col,ref.to.col),refMinCol=Math.min(ref.from.col,ref.to.col);(refMinRow>maxRow||refMaxRow<minRow||refMinCol>maxCol||refMaxCol<minCol||sheet!==ref.sheet)&&(err=FormulaError.NULL),maxRow=Math.min(maxRow,refMaxRow),minRow=Math.max(minRow,refMinRow),maxCol=Math.min(maxCol,refMaxCol),minCol=Math.max(minCol,refMinCol)}else{if(void 0===ref.row||void 0===ref.col)throw Error("Cannot intersect the whole row or column.");(ref.row>maxRow||ref.row<minRow||ref.col>maxCol||ref.col<minCol||sheet!==ref.sheet)&&(err=FormulaError.NULL),maxRow=minRow=ref.row,maxCol=minCol=ref.col}})),err||(res=maxRow===minRow&&maxCol===minCol?{ref:{sheet,row:maxRow,col:maxCol}}:{ref:{sheet,from:{row:minRow,col:minCol},to:{row:maxRow,col:maxCol}}},res.ref.sheet||delete res.ref.sheet,res)}applyUnion(refs){const collection=new Collection;for(let i=0;i<refs.length;i++){if(this.isFormulaError(refs[i]))return refs[i];collection.add(this.extractRefValue(refs[i]).val,refs[i])}return collection}applyRange(refs){let res,maxRow=-1,maxCol=-1,minRow=1048577,minCol=16385;return refs.forEach((ref=>{if(this.isFormulaError(ref))return ref;"number"==typeof ref&&(ref=this.parseRow(ref)),void 0===(ref=ref.ref).row&&(minRow=1,maxRow=1048576),void 0===ref.col&&(minCol=1,maxCol=16384),ref.row>maxRow&&(maxRow=ref.row),ref.row<minRow&&(minRow=ref.row),ref.col>maxCol&&(maxCol=ref.col),ref.col<minCol&&(minCol=ref.col)})),res=maxRow===minRow&&maxCol===minCol?{ref:{row:maxRow,col:maxCol}}:{ref:{from:{row:minRow,col:minCol},to:{row:maxRow,col:maxCol}}},res}extractRefValue(obj){const isArray=Array.isArray(obj);return obj.ref?{val:this.context.retrieveRef(obj),isArray}:{val:obj,isArray}}toArray(array){return array}toNumber(number){return Number(number)}toString(string){return string.substring(1,string.length-1).replace(/""/g,'"')}toBoolean(bool){return"TRUE"===bool}toError(error){return new FormulaError(error.toUpperCase())}isFormulaError(obj){return obj instanceof FormulaError}}},"./node_modules/fast-formula-parser/grammar/hooks.js":(module,__unused_webpack_exports,__webpack_require__)=>{const TextFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/text.js"),MathFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/math.js"),TrigFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/trigonometry.js"),LogicalFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/logical.js"),EngFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/engineering.js"),ReferenceFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/reference.js"),InformationFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/information.js"),StatisticalFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/statistical.js"),DateFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/date.js"),WebFunctions=__webpack_require__("./node_modules/fast-formula-parser/formulas/functions/web.js"),FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{FormulaHelpers}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Parser,allTokens}=__webpack_require__("./node_modules/fast-formula-parser/grammar/parsing.js"),lexer=__webpack_require__("./node_modules/fast-formula-parser/grammar/lexing.js"),Utils=__webpack_require__("./node_modules/fast-formula-parser/grammar/utils.js");module.exports={FormulaParser:class FormulaParser{constructor(config,isTest=!1){this.logs=[],this.isTest=isTest,this.utils=new Utils(this),config=Object.assign({functions:{},functionsNeedContext:{},onVariable:()=>null,onCell:()=>0,onRange:()=>[[0]]},config),this.onVariable=config.onVariable,this.functions=Object.assign({},DateFunctions,StatisticalFunctions,InformationFunctions,ReferenceFunctions,EngFunctions,LogicalFunctions,TextFunctions,MathFunctions,TrigFunctions,WebFunctions,config.functions,config.functionsNeedContext),this.onRange=config.onRange,this.onCell=config.onCell,this.funsNullAs0=Object.keys(MathFunctions).concat(Object.keys(TrigFunctions)).concat(Object.keys(LogicalFunctions)).concat(Object.keys(EngFunctions)).concat(Object.keys(ReferenceFunctions)).concat(Object.keys(StatisticalFunctions)).concat(Object.keys(DateFunctions)),this.funsNeedContextAndNoDataRetrieve=["ROW","ROWS","COLUMN","COLUMNS","SUMIF","INDEX","AVERAGEIF","IF"],this.funsNeedContext=[...Object.keys(config.functionsNeedContext),...this.funsNeedContextAndNoDataRetrieve,"INDEX","OFFSET","INDIRECT","IF","CHOOSE","WEBSERVICE"],this.funsPreserveRef=Object.keys(InformationFunctions),this.parser=new Parser(this,this.utils)}static get allTokens(){return allTokens}getCell(ref){return null==ref.sheet&&(ref.sheet=this.position?this.position.sheet:void 0),this.onCell(ref)}getRange(ref){return null==ref.sheet&&(ref.sheet=this.position?this.position.sheet:void 0),this.onRange(ref)}getVariable(name){const res={ref:this.onVariable(name,this.position.sheet,this.position)};return null==res.ref?FormulaError.NAME:res}retrieveRef(valueOrRef){return FormulaHelpers.isRangeRef(valueOrRef)?this.getRange(valueOrRef.ref):FormulaHelpers.isCellRef(valueOrRef)?this.getCell(valueOrRef.ref):valueOrRef}_callFunction(name,args){0===name.indexOf("_xlfn.")&&(name=name.slice(6)),name=name.toUpperCase();const nullValue=this.funsNullAs0.includes(name)?0:"";if(this.funsNeedContextAndNoDataRetrieve.includes(name)||(args=args.map((arg=>{if(null===arg)return{value:nullValue,isArray:!1,omitted:!0};const res=this.utils.extractRefValue(arg);return this.funsPreserveRef.includes(name)?{value:res.val,isArray:res.isArray,ref:arg.ref}:{value:res.val,isArray:res.isArray,isRangeRef:!!FormulaHelpers.isRangeRef(arg),isCellRef:!!FormulaHelpers.isCellRef(arg)}}))),this.functions[name]){let res;try{res=this.funsNeedContextAndNoDataRetrieve.includes(name)||this.funsNeedContext.includes(name)?this.functions[name](this,...args):this.functions[name](...args)}catch(e){if(e instanceof FormulaError)return e;throw e}if(void 0===res){if(this.isTest)return this.logs.includes(name)||this.logs.push(name),{value:0,ref:{}};throw FormulaError.NOT_IMPLEMENTED(name)}return res}if(this.isTest)return this.logs.includes(name)||this.logs.push(name),{value:0,ref:{}};throw FormulaError.NOT_IMPLEMENTED(name)}async callFunctionAsync(name,args){const awaitedArgs=[];for(const arg of args)awaitedArgs.push(await arg);const res=await this._callFunction(name,awaitedArgs);return FormulaHelpers.checkFunctionResult(res)}callFunction(name,args){if(this.async)return this.callFunctionAsync(name,args);{const res=this._callFunction(name,args);return FormulaHelpers.checkFunctionResult(res)}}supportedFunctions(){const supported=[];return Object.keys(this.functions).forEach((fun=>{try{if(void 0===this.functions[fun](0,0,0,0,0,0,0,0,0,0,0))return;supported.push(fun)}catch(e){e instanceof Error&&supported.push(fun)}})),supported.sort()}checkFormulaResult(result,allowReturnArray=!1){const type=typeof result;if("number"===type){if(isNaN(result))return FormulaError.VALUE;if(!isFinite(result))return FormulaError.NUM;result+=0}else if("object"===type){if(result instanceof FormulaError)return result;if(allowReturnArray){if(result.ref&&(result=this.retrieveRef(result)),"object"==typeof result&&!Array.isArray(result)&&null!=result)return FormulaError.VALUE}else if(result.ref&&result.ref.row&&!result.ref.from)result=this.retrieveRef(result);else if(result.ref&&result.ref.from&&result.ref.from.col===result.ref.to.col)result=this.retrieveRef({ref:{row:result.ref.from.row,col:result.ref.from.col}});else{if(!Array.isArray(result))return FormulaError.VALUE;result=result[0][0]}}return result}parse(inputText,position,allowReturnArray=!1){if(0===inputText.length)throw Error("Input must not be empty.");this.position=position,this.async=!1;const lexResult=lexer.lex(inputText);let res;this.parser.input=lexResult.tokens;try{if(res=this.parser.formulaWithBinaryOp(),res=this.checkFormulaResult(res,allowReturnArray),res instanceof FormulaError)return res}catch(e){throw FormulaError.ERROR(e.message,e)}if(this.parser.errors.length>0){const error=this.parser.errors[0];throw Utils.formatChevrotainError(error,inputText)}return res}async parseAsync(inputText,position,allowReturnArray=!1){if(0===inputText.length)throw Error("Input must not be empty.");this.position=position,this.async=!0;const lexResult=lexer.lex(inputText);let res;this.parser.input=lexResult.tokens;try{if(res=await this.parser.formulaWithBinaryOp(),res=this.checkFormulaResult(res,allowReturnArray),res instanceof FormulaError)return res}catch(e){throw FormulaError.ERROR(e.message,e)}if(this.parser.errors.length>0){const error=this.parser.errors[0];throw Utils.formatChevrotainError(error,inputText)}return res}},FormulaHelpers}},"./node_modules/fast-formula-parser/grammar/lexing.js":(module,__unused_webpack_exports,__webpack_require__)=>{const{createToken,Lexer}=__webpack_require__("./node_modules/chevrotain/lib_esm/src/api.js"),FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),tokenVocabulary={},WhiteSpace=createToken({name:"WhiteSpace",pattern:/\s+/,group:Lexer.SKIPPED}),String=createToken({name:"String",pattern:/"(""|[^"])*"/}),SingleQuotedString=createToken({name:"SingleQuotedString",pattern:/'(''|[^'])*'/}),SheetQuoted=createToken({name:"SheetQuoted",pattern:/'((?![\\\/\[\]*?:]).)+?'!/}),Function=createToken({name:"Function",pattern:/[A-Za-z_]+[A-Za-z_0-9.]*\(/}),FormulaErrorT=createToken({name:"FormulaErrorT",pattern:/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A/}),RefError=createToken({name:"RefError",pattern:/#REF!/}),Name=createToken({name:"Name",pattern:/[a-zA-Z_][a-zA-Z0-9_.?]*/}),Sheet=createToken({name:"Sheet",pattern:/[A-Za-z_.\d\u007F-\uFFFF]+!/}),Cell=createToken({name:"Cell",pattern:/[$]?[A-Za-z]{1,3}[$]?[1-9][0-9]*/,longer_alt:Name}),Number=createToken({name:"Number",pattern:/[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?/}),Boolean=createToken({name:"Boolean",pattern:/TRUE|FALSE/i}),Column=createToken({name:"Column",pattern:/[$]?[A-Za-z]{1,3}/,longer_alt:Name}),At=createToken({name:"At",pattern:/@/}),Comma=createToken({name:"Comma",pattern:/,/}),Colon=createToken({name:"Colon",pattern:/:/}),Semicolon=createToken({name:"Semicolon",pattern:/;/}),OpenParen=createToken({name:"OpenParen",pattern:/\(/}),CloseParen=createToken({name:"CloseParen",pattern:/\)/}),OpenSquareParen=createToken({name:"OpenSquareParen",pattern:/\[/}),CloseSquareParen=createToken({name:"CloseSquareParen",pattern:/]/}),OpenCurlyParen=(createToken({name:"exclamationMark",pattern:/!/}),createToken({name:"OpenCurlyParen",pattern:/{/})),CloseCurlyParen=createToken({name:"CloseCurlyParen",pattern:/}/}),QuoteS=createToken({name:"QuoteS",pattern:/'/}),MulOp=createToken({name:"MulOp",pattern:/\*/}),PlusOp=createToken({name:"PlusOp",pattern:/\+/}),DivOp=createToken({name:"DivOp",pattern:/\//}),MinOp=createToken({name:"MinOp",pattern:/-/}),ConcatOp=createToken({name:"ConcatOp",pattern:/&/}),ExOp=createToken({name:"ExOp",pattern:/\^/}),PercentOp=createToken({name:"PercentOp",pattern:/%/}),GtOp=createToken({name:"GtOp",pattern:/>/}),EqOp=createToken({name:"EqOp",pattern:/=/}),LtOp=createToken({name:"LtOp",pattern:/</}),allTokens=[WhiteSpace,String,SheetQuoted,SingleQuotedString,Function,FormulaErrorT,RefError,Sheet,Cell,Boolean,Column,Name,Number,At,Comma,Colon,Semicolon,OpenParen,CloseParen,OpenSquareParen,CloseSquareParen,OpenCurlyParen,CloseCurlyParen,QuoteS,MulOp,PlusOp,DivOp,MinOp,ConcatOp,ExOp,MulOp,PercentOp,createToken({name:"NeqOp",pattern:/<>/}),createToken({name:"GteOp",pattern:/>=/}),createToken({name:"LteOp",pattern:/<=/}),GtOp,EqOp,LtOp],SelectLexer=new Lexer(allTokens,{ensureOptimizations:!0});allTokens.forEach((tokenType=>{tokenVocabulary[tokenType.name]=tokenType})),module.exports={tokenVocabulary,lex:function(inputText){const lexingResult=SelectLexer.tokenize(inputText);if(lexingResult.errors.length>0){const error=lexingResult.errors[0],line=error.line,column=error.column;let msg="\n"+inputText.split("\n")[line-1]+"\n";throw msg+=Array(column-1).fill(" ").join("")+"^\n",error.message=msg+`Error at position ${line}:${column}\n`+error.message,error.errorLocation={line,column},FormulaError.ERROR(error.message,error)}return lexingResult}}},"./node_modules/fast-formula-parser/grammar/parsing.js":(module,__unused_webpack_exports,__webpack_require__)=>{const lexer=__webpack_require__("./node_modules/fast-formula-parser/grammar/lexing.js"),{EmbeddedActionsParser}=__webpack_require__("./node_modules/chevrotain/lib_esm/src/api.js"),tokenVocabulary=lexer.tokenVocabulary,{String,SheetQuoted,ExcelRefFunction,ExcelConditionalRefFunction,Function,FormulaErrorT,RefError,Cell,Sheet,Name,Number,Boolean,Column,Comma,Colon,Semicolon,OpenParen,CloseParen,OpenCurlyParen,CloseCurlyParen,MulOp,PlusOp,DivOp,MinOp,ConcatOp,ExOp,PercentOp,NeqOp,GteOp,LteOp,GtOp,EqOp,LtOp}=lexer.tokenVocabulary;module.exports={Parser:class Parsing extends EmbeddedActionsParser{constructor(context,utils){super(tokenVocabulary,{outputCst:!1,maxLookahead:1,skipValidations:!0}),this.utils=utils,this.binaryOperatorsPrecedence=[["^"],["*","/"],["+","-"],["&"],["<",">","=","<>","<=",">="]];const $=this;$.RULE("formulaWithBinaryOp",(()=>{const infixes=[],values=[$.SUBRULE($.formulaWithPercentOp)];return $.MANY((()=>{infixes.push($.OR($.c1||($.c1=[{ALT:()=>$.CONSUME(GtOp).image},{ALT:()=>$.CONSUME(EqOp).image},{ALT:()=>$.CONSUME(LtOp).image},{ALT:()=>$.CONSUME(NeqOp).image},{ALT:()=>$.CONSUME(GteOp).image},{ALT:()=>$.CONSUME(LteOp).image},{ALT:()=>$.CONSUME(ConcatOp).image},{ALT:()=>$.CONSUME(PlusOp).image},{ALT:()=>$.CONSUME(MinOp).image},{ALT:()=>$.CONSUME(MulOp).image},{ALT:()=>$.CONSUME(DivOp).image},{ALT:()=>$.CONSUME(ExOp).image}]))),values.push($.SUBRULE2($.formulaWithPercentOp))})),$.ACTION((()=>{for(const ops of this.binaryOperatorsPrecedence)for(let index=0,length=infixes.length;index<length;index++){const infix=infixes[index];ops.includes(infix)&&(infixes.splice(index,1),values.splice(index,2,this.utils.applyInfix(values[index],infix,values[index+1])),index--,length--)}})),values[0]})),$.RULE("plusMinusOp",(()=>$.OR([{ALT:()=>$.CONSUME(PlusOp).image},{ALT:()=>$.CONSUME(MinOp).image}]))),$.RULE("formulaWithPercentOp",(()=>{let value=$.SUBRULE($.formulaWithUnaryOp);return $.OPTION((()=>{const postfix=$.CONSUME(PercentOp).image;value=$.ACTION((()=>this.utils.applyPostfix(value,postfix)))})),value})),$.RULE("formulaWithUnaryOp",(()=>{const prefixes=[];$.MANY((()=>{const op=$.OR([{ALT:()=>$.CONSUME(PlusOp).image},{ALT:()=>$.CONSUME(MinOp).image}]);prefixes.push(op)}));const formula=$.SUBRULE($.formulaWithIntersect);return prefixes.length>0?$.ACTION((()=>this.utils.applyPrefix(prefixes,formula))):formula})),$.RULE("formulaWithIntersect",(()=>{let ref1=$.SUBRULE($.formulaWithRange);const refs=[ref1];return $.MANY({GATE:()=>{const prevToken=$.LA(0);return $.LA(1).startOffset>prevToken.endOffset+1},DEF:()=>{refs.push($.SUBRULE3($.formulaWithRange))}}),refs.length>1?$.ACTION((()=>$.ACTION((()=>this.utils.applyIntersect(refs))))):ref1})),$.RULE("formulaWithRange",(()=>{const ref1=$.SUBRULE($.formula),refs=[ref1];return $.MANY((()=>{$.CONSUME(Colon),refs.push($.SUBRULE2($.formula))})),refs.length>1?$.ACTION((()=>$.ACTION((()=>this.utils.applyRange(refs))))):ref1})),$.RULE("formula",(()=>$.OR9([{ALT:()=>$.SUBRULE($.referenceWithoutInfix)},{ALT:()=>$.SUBRULE($.paren)},{ALT:()=>$.SUBRULE($.constant)},{ALT:()=>$.SUBRULE($.functionCall)},{ALT:()=>$.SUBRULE($.constantArray)}]))),$.RULE("paren",(()=>{let result;$.CONSUME(OpenParen);const refs=[];return refs.push($.SUBRULE($.formulaWithBinaryOp)),$.MANY((()=>{$.CONSUME(Comma),refs.push($.SUBRULE2($.formulaWithBinaryOp))})),result=refs.length>1?$.ACTION((()=>this.utils.applyUnion(refs))):refs[0],$.CONSUME(CloseParen),result})),$.RULE("constantArray",(()=>{const arr=[[]];let currentRow=0;return $.CONSUME(OpenCurlyParen),arr[currentRow].push($.SUBRULE($.constantForArray)),$.MANY((()=>{const sep=$.OR([{ALT:()=>$.CONSUME(Comma).image},{ALT:()=>$.CONSUME(Semicolon).image}]),constant=$.SUBRULE2($.constantForArray);","===sep||(currentRow++,arr[currentRow]=[]),arr[currentRow].push(constant)})),$.CONSUME(CloseCurlyParen),$.ACTION((()=>this.utils.toArray(arr)))})),$.RULE("constantForArray",(()=>$.OR([{ALT:()=>{const prefix=$.OPTION((()=>$.SUBRULE($.plusMinusOp))),image=$.CONSUME(Number).image,number=$.ACTION((()=>this.utils.toNumber(image)));return prefix?$.ACTION((()=>this.utils.applyPrefix([prefix],number))):number}},{ALT:()=>{const str=$.CONSUME(String).image;return $.ACTION((()=>this.utils.toString(str)))}},{ALT:()=>{const bool=$.CONSUME(Boolean).image;return $.ACTION((()=>this.utils.toBoolean(bool)))}},{ALT:()=>{const err=$.CONSUME(FormulaErrorT).image;return $.ACTION((()=>this.utils.toError(err)))}},{ALT:()=>{const err=$.CONSUME(RefError).image;return $.ACTION((()=>this.utils.toError(err)))}}]))),$.RULE("constant",(()=>$.OR([{ALT:()=>{const number=$.CONSUME(Number).image;return $.ACTION((()=>this.utils.toNumber(number)))}},{ALT:()=>{const str=$.CONSUME(String).image;return $.ACTION((()=>this.utils.toString(str)))}},{ALT:()=>{const bool=$.CONSUME(Boolean).image;return $.ACTION((()=>this.utils.toBoolean(bool)))}},{ALT:()=>{const err=$.CONSUME(FormulaErrorT).image;return $.ACTION((()=>this.utils.toError(err)))}}]))),$.RULE("functionCall",(()=>{const functionName=$.CONSUME(Function).image.slice(0,-1),args=$.SUBRULE($.arguments);return $.CONSUME(CloseParen),$.ACTION((()=>context.callFunction(functionName,args)))})),$.RULE("arguments",(()=>{$.MANY2((()=>{$.CONSUME2(Comma)}));const args=[];return $.OPTION((()=>{args.push($.SUBRULE($.formulaWithBinaryOp)),$.MANY((()=>{$.CONSUME1(Comma),args.push(null),$.OPTION3((()=>{args.pop(),args.push($.SUBRULE2($.formulaWithBinaryOp))}))}))})),args})),$.RULE("referenceWithoutInfix",(()=>$.OR([{ALT:()=>$.SUBRULE($.referenceItem)},{ALT:()=>{const sheetName=$.SUBRULE($.prefixName),referenceItem=$.SUBRULE2($.formulaWithRange);return $.ACTION((()=>{if(this.utils.isFormulaError(referenceItem))return referenceItem;referenceItem.ref.sheet=sheetName})),referenceItem}}]))),$.RULE("referenceItem",(()=>$.OR([{ALT:()=>{const address=$.CONSUME(Cell).image;return $.ACTION((()=>this.utils.parseCellAddress(address)))}},{ALT:()=>{const name=$.CONSUME(Name).image;return $.ACTION((()=>context.getVariable(name)))}},{ALT:()=>{const column=$.CONSUME(Column).image;return $.ACTION((()=>this.utils.parseCol(column)))}},{ALT:()=>{const err=$.CONSUME(RefError).image;return $.ACTION((()=>this.utils.toError(err)))}}]))),$.RULE("prefixName",(()=>$.OR([{ALT:()=>$.CONSUME(Sheet).image.slice(0,-1)},{ALT:()=>$.CONSUME(SheetQuoted).image.slice(1,-2).replace(/''/g,"'")}]))),this.performSelfAnalysis()}}}},"./node_modules/fast-formula-parser/grammar/type/collection.js":module=>{module.exports=class Collection{constructor(data,refs){if(null==data&&null==refs)this._data=[],this._refs=[];else{if(data.length!==refs.length)throw Error("Collection: data length should match references length.");this._data=data,this._refs=refs}}get data(){return this._data}get refs(){return this._refs}get length(){return this._data.length}add(obj,ref){this._data.push(obj),this._refs.push(ref)}}},"./node_modules/fast-formula-parser/grammar/utils.js":(module,__unused_webpack_exports,__webpack_require__)=>{const FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js"),{Address}=__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js"),{Prefix,Postfix,Infix,Operators}=__webpack_require__("./node_modules/fast-formula-parser/formulas/operators.js"),Collection=__webpack_require__("./node_modules/fast-formula-parser/grammar/type/collection.js"),{NotAllInputParsedException}=__webpack_require__("./node_modules/chevrotain/lib_esm/src/api.js");module.exports=class Utils{constructor(context){this.context=context}columnNameToNumber(columnName){return Address.columnNameToNumber(columnName)}parseCellAddress(cellAddress){const res=cellAddress.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{address:res[0],col:this.columnNameToNumber(res[2]),row:+res[4]}}}parseRow(row){const rowNum=+row;if(!Number.isInteger(rowNum))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+row}}}parseCol(col){return{ref:{col:this.columnNameToNumber(col),row:void 0}}}parseColRange(col1,col2){return col1=this.columnNameToNumber(col1),col2=this.columnNameToNumber(col2),{ref:{from:{col:Math.min(col1,col2),row:null},to:{col:Math.max(col1,col2),row:null}}}}parseRowRange(row1,row2){return{ref:{from:{col:null,row:Math.min(row1,row2)},to:{col:null,row:Math.max(row1,row2)}}}}_applyPrefix(prefixes,val,isArray){return this.isFormulaError(val)?val:Prefix.unaryOp(prefixes,val,isArray)}async applyPrefixAsync(prefixes,value){const{val,isArray}=this.extractRefValue(await value);return this._applyPrefix(prefixes,val,isArray)}applyPrefix(prefixes,value){if(this.context.async)return this.applyPrefixAsync(prefixes,value);{const{val,isArray}=this.extractRefValue(value);return this._applyPrefix(prefixes,val,isArray)}}_applyPostfix(val,isArray,postfix){return this.isFormulaError(val)?val:Postfix.percentOp(val,postfix,isArray)}async applyPostfixAsync(value,postfix){const{val,isArray}=this.extractRefValue(await value);return this._applyPostfix(val,isArray,postfix)}applyPostfix(value,postfix){if(this.context.async)return this.applyPostfixAsync(value,postfix);{const{val,isArray}=this.extractRefValue(value);return this._applyPostfix(val,isArray,postfix)}}_applyInfix(res1,infix,res2){const val1=res1.val,isArray1=res1.isArray,val2=res2.val,isArray2=res2.isArray;if(this.isFormulaError(val1))return val1;if(this.isFormulaError(val2))return val2;if(Operators.compareOp.includes(infix))return Infix.compareOp(val1,infix,val2,isArray1,isArray2);if(Operators.concatOp.includes(infix))return Infix.concatOp(val1,infix,val2,isArray1,isArray2);if(Operators.mathOp.includes(infix))return Infix.mathOp(val1,infix,val2,isArray1,isArray2);throw new Error(`Unrecognized infix: ${infix}`)}async applyInfixAsync(value1,infix,value2){const res1=this.extractRefValue(await value1),res2=this.extractRefValue(await value2);return this._applyInfix(res1,infix,res2)}applyInfix(value1,infix,value2){if(this.context.async)return this.applyInfixAsync(value1,infix,value2);{const res1=this.extractRefValue(value1),res2=this.extractRefValue(value2);return this._applyInfix(res1,infix,res2)}}applyIntersect(refs){if(this.isFormulaError(refs[0]))return refs[0];if(!refs[0].ref)throw Error(`Expecting a reference, but got ${refs[0]}.`);let maxRow,maxCol,minRow,minCol,sheet,res;const ref=refs.shift().ref;if(sheet=ref.sheet,ref.from)maxRow=Math.max(ref.from.row,ref.to.row),minRow=Math.min(ref.from.row,ref.to.row),maxCol=Math.max(ref.from.col,ref.to.col),minCol=Math.min(ref.from.col,ref.to.col);else{if(void 0===ref.row||void 0===ref.col)throw Error("Cannot intersect the whole row or column.");maxRow=minRow=ref.row,maxCol=minCol=ref.col}let err;return refs.forEach((ref=>{if(this.isFormulaError(ref))return ref;if(!(ref=ref.ref))throw Error(`Expecting a reference, but got ${ref}.`);if(ref.from){const refMaxRow=Math.max(ref.from.row,ref.to.row),refMinRow=Math.min(ref.from.row,ref.to.row),refMaxCol=Math.max(ref.from.col,ref.to.col),refMinCol=Math.min(ref.from.col,ref.to.col);(refMinRow>maxRow||refMaxRow<minRow||refMinCol>maxCol||refMaxCol<minCol||sheet!==ref.sheet)&&(err=FormulaError.NULL),maxRow=Math.min(maxRow,refMaxRow),minRow=Math.max(minRow,refMinRow),maxCol=Math.min(maxCol,refMaxCol),minCol=Math.max(minCol,refMinCol)}else{if(void 0===ref.row||void 0===ref.col)throw Error("Cannot intersect the whole row or column.");(ref.row>maxRow||ref.row<minRow||ref.col>maxCol||ref.col<minCol||sheet!==ref.sheet)&&(err=FormulaError.NULL),maxRow=minRow=ref.row,maxCol=minCol=ref.col}})),err||(res=maxRow===minRow&&maxCol===minCol?{ref:{sheet,row:maxRow,col:maxCol}}:{ref:{sheet,from:{row:minRow,col:minCol},to:{row:maxRow,col:maxCol}}},res.ref.sheet||delete res.ref.sheet,res)}applyUnion(refs){const collection=new Collection;for(let i=0;i<refs.length;i++){if(this.isFormulaError(refs[i]))return refs[i];collection.add(this.extractRefValue(refs[i]).val,refs[i])}return collection}applyRange(refs){let res,maxRow=-1,maxCol=-1,minRow=1048577,minCol=16385;return refs.forEach((ref=>{if(this.isFormulaError(ref))return ref;"number"==typeof ref&&(ref=this.parseRow(ref)),void 0===(ref=ref.ref).row&&(minRow=1,maxRow=1048576),void 0===ref.col&&(minCol=1,maxCol=16384),ref.row>maxRow&&(maxRow=ref.row),ref.row<minRow&&(minRow=ref.row),ref.col>maxCol&&(maxCol=ref.col),ref.col<minCol&&(minCol=ref.col)})),res=maxRow===minRow&&maxCol===minCol?{ref:{row:maxRow,col:maxCol}}:{ref:{from:{row:minRow,col:minCol},to:{row:maxRow,col:maxCol}}},res}extractRefValue(obj){let res=obj,isArray=!1;return Array.isArray(res)&&(isArray=!0),obj.ref?{val:this.context.retrieveRef(obj),isArray}:{val:res,isArray}}toArray(array){return array}toNumber(number){return Number(number)}toString(string){return string.substring(1,string.length-1).replace(/""/g,'"')}toBoolean(bool){return"TRUE"===bool}toError(error){return new FormulaError(error.toUpperCase())}isFormulaError(obj){return obj instanceof FormulaError}static formatChevrotainError(error,inputText){let line,column,msg="";return error instanceof NotAllInputParsedException?(line=error.token.startLine,column=error.token.startColumn):(line=error.previousToken.startLine,column=error.previousToken.startColumn+1),msg+="\n"+inputText.split("\n")[line-1]+"\n",msg+=Array(column-1).fill(" ").join("")+"^\n",msg+=`Error at position ${line}:${column}\n`+error.message,error.errorLocation={line,column},FormulaError.ERROR(msg,error)}}},"./node_modules/fast-formula-parser/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const{FormulaParser}=__webpack_require__("./node_modules/fast-formula-parser/grammar/hooks.js"),{DepParser}=__webpack_require__("./node_modules/fast-formula-parser/grammar/dependency/hooks.js"),SSF=__webpack_require__("./node_modules/fast-formula-parser/ssf/ssf.js"),FormulaError=__webpack_require__("./node_modules/fast-formula-parser/formulas/error.js");Object.assign(FormulaParser,{MAX_ROW:1048576,MAX_COLUMN:16384,SSF,DepParser,FormulaError,...__webpack_require__("./node_modules/fast-formula-parser/formulas/helpers.js")}),module.exports=FormulaParser},"./node_modules/fast-formula-parser/ssf/ssf.js":module=>{class SSF{}function _strrev(x){let o="",i=x.length-1;for(;i>=0;)o+=x.charAt(i--);return o}function fill(c,l){let o="";for(;o.length<l;)o+=c;return o}function pad0(v,d){let t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}function pad_(v,d){let t=""+v;return t.length>=d?t:fill(" ",d-t.length)+t}function rpad_(v,d){let t=""+v;return t.length>=d?t:t+fill(" ",d-t.length)}SSF.version="0.10.3";const p2_32=Math.pow(2,32);function pad0r(v,d){if(v>p2_32||v<-p2_32)return function pad0r1(v,d){let t=""+Math.round(v);return t.length>=d?t:fill("0",d-t.length)+t}(v,d);return function pad0r2(v,d){let t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}(Math.round(v),d)}function isgeneral(s,i){return i=i||0,s.length>=7+i&&103==(32|s.charCodeAt(i))&&101==(32|s.charCodeAt(i+1))&&110==(32|s.charCodeAt(i+2))&&101==(32|s.charCodeAt(i+3))&&114==(32|s.charCodeAt(i+4))&&97==(32|s.charCodeAt(i+5))&&108==(32|s.charCodeAt(i+6))}const days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function init_table(t){t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t[65535]="General"}const table_fmt={};function frac(x,D,mixed){const sgn=x<0?-1:1;let B=x*sgn,P_2=0,P_1=1,P=0,Q_2=1,Q_1=0,Q=0,A=Math.floor(B);for(;Q_1<D&&(A=Math.floor(B),P=A*P_1+P_2,Q=A*Q_1+Q_2,!(B-A<5e-8));)B=1/(B-A),P_2=P_1,P_1=P,Q_2=Q_1,Q_1=Q;if(Q>D&&(Q_1>D?(Q=Q_2,P=P_2):(Q=Q_1,P=P_1)),!mixed)return[0,sgn*P,Q];const q=Math.floor(sgn*P/Q);return[q,sgn*P-q*Q,Q]}function parse_date_code(v,opts,b2){if(v>2958465||v<0)return null;let date=0|v,time=Math.floor(86400*(v-date)),dow=0,dout=[];const out={D:date,T:time,u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(out.u)<1e-6&&(out.u=0),opts&&opts.date1904&&(date+=1462),out.u>.9999&&(out.u=0,86400==++time&&(out.T=time=0,++date,++out.D)),60===date)dout=b2?[1317,10,29]:[1900,2,29],dow=3;else if(0===date)dout=b2?[1317,8,29]:[1900,1,0],dow=6;else{date>60&&--date;const d=new Date(1900,0,1);d.setDate(d.getDate()+date-1),dout=[d.getFullYear(),d.getMonth()+1,d.getDate()],dow=d.getDay(),date<60&&(dow=(dow+6)%7),b2&&(dow=0)}return out.y=dout[0],out.m=dout[1],out.d=dout[2],out.S=time%60,time=Math.floor(time/60),out.M=time%60,time=Math.floor(time/60),out.H=time,out.q=dow,out}init_table(table_fmt),SSF.parse_date_code=parse_date_code;const basedate=new Date(1899,11,31,0,0,0),dnthresh=basedate.getTime(),base1904=new Date(1900,2,1,0,0,0);function datenum_local(v,date1904){let epoch=v.getTime();return date1904?epoch-=1262304e5:v>=base1904&&(epoch+=864e5),(epoch-(dnthresh+6e4*(v.getTimezoneOffset()-basedate.getTimezoneOffset())))/864e5}function general_fmt_int(v){return v.toString(10)}SSF._general_int=general_fmt_int;const general_fmt_num=function make_general_fmt_num(){const gnr1=/\.(\d*[1-9])0+$/,gnr2=/\.0*$/,gnr4=/\.(\d*[1-9])0+/,gnr5=/\.0*[Ee]/,gnr6=/(E[+-])(\d)$/;function gfn5(o){return o.indexOf(".")>-1?o.replace(gnr2,"").replace(gnr1,".$1"):o}return function general_fmt_num(v){let o,V=Math.floor(Math.log(Math.abs(v))*Math.LOG10E);return o=V>=-4&&V<=-1?v.toPrecision(10+V):Math.abs(V)<=9?function gfn2(v){const w=v<0?12:11;let o=gfn5(v.toFixed(12));return o.length<=w?o:(o=v.toPrecision(10),o.length<=w?o:v.toExponential(5))}(v):10===V?v.toFixed(10).substr(0,12):function gfn3(v){let o=v.toFixed(11).replace(gnr1,".$1");return o.length>(v<0?12:11)&&(o=v.toPrecision(6)),o}(v),gfn5(function gfn4(o){for(let i=0;i!==o.length;++i)if(101==(32|o.charCodeAt(i)))return o.replace(gnr4,".$1").replace(gnr5,"E").replace("e","E").replace(gnr6,"$10$2");return o}(o))}}();function general_fmt(v,opts){switch(typeof v){case"string":return v;case"boolean":return v?"TRUE":"FALSE";case"number":return(0|v)===v?general_fmt_int(v):general_fmt_num(v);case"undefined":return"";case"object":if(null==v)return"";if(v instanceof Date)return format(14,datenum_local(v,opts&&opts.date1904),opts)}throw new Error("unsupported value in General format: "+v)}function write_date(type,fmt,val,ss0){let out,o="",ss=0,tt=0,y=val.y,outl=0;switch(type){case 98:y=val.y+543;case 121:switch(fmt.length){case 1:case 2:out=y%100,outl=2;break;default:out=y%1e4,outl=4}break;case 109:switch(fmt.length){case 1:case 2:out=val.m,outl=fmt.length;break;case 3:return months[val.m-1][1];case 5:return months[val.m-1][0];default:return months[val.m-1][2]}break;case 100:switch(fmt.length){case 1:case 2:out=val.d,outl=fmt.length;break;case 3:return days[val.q][0];default:return days[val.q][1]}break;case 104:switch(fmt.length){case 1:case 2:out=1+(val.H+11)%12,outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 72:switch(fmt.length){case 1:case 2:out=val.H,outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 77:switch(fmt.length){case 1:case 2:out=val.M,outl=fmt.length;break;default:throw"bad minute format: "+fmt}break;case 115:if("s"!==fmt&&"ss"!==fmt&&".0"!==fmt&&".00"!==fmt&&".000"!==fmt)throw"bad second format: "+fmt;return 0!==val.u||"s"!==fmt&&"ss"!==fmt?(tt=ss0>=2?3===ss0?1e3:100:1===ss0?10:1,ss=Math.round(tt*(val.S+val.u)),ss>=60*tt&&(ss=0),"s"===fmt?0===ss?"0":""+ss/tt:(o=pad0(ss,2+ss0),"ss"===fmt?o.substr(0,2):"."+o.substr(2,fmt.length-1))):pad0(val.S,fmt.length);case 90:switch(fmt){case"[h]":case"[hh]":out=24*val.D+val.H;break;case"[m]":case"[mm]":out=60*(24*val.D+val.H)+val.M;break;case"[s]":case"[ss]":out=60*(60*(24*val.D+val.H)+val.M)+Math.round(val.S+val.u);break;default:throw"bad abstime format: "+fmt}outl=3===fmt.length?1:2;break;case 101:out=y,outl=1}return outl>0?pad0(out,outl):""}function commaify(s){if(s.length<=3)return s;let j=s.length%3,o=s.substr(0,j);for(;j!==s.length;j+=3)o+=(o.length>0?",":"")+s.substr(j,3);return o}SSF._general_num=general_fmt_num,SSF._general=general_fmt;const write_num=function make_write_num(){const pct1=/%/g;function write_num_exp(fmt,val){let o,idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){if(0===val)return"0.0E+0";if(val<0)return"-"+write_num_exp(fmt,-val);let period=fmt.indexOf(".");-1===period&&(period=fmt.indexOf("E"));let ee=Math.floor(Math.log(val)*Math.LOG10E)%period;if(ee<0&&(ee+=period),o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period),-1===o.indexOf("e")){const fakee=Math.floor(Math.log(val)*Math.LOG10E);for(-1===o.indexOf(".")?o=o.charAt(0)+"."+o.substr(1)+"E+"+(fakee-o.length+ee):o+="E+"+(fakee-ee);"0."===o.substr(0,2);)o=o.charAt(0)+o.substr(2,period)+"."+o.substr(2+period),o=o.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"}))}else o=val.toExponential(idx);return fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/)&&(o=o.substr(0,o.length-1)+"0"+o.charAt(o.length-1)),fmt.match(/E\-/)&&o.match(/e\+/)&&(o=o.replace(/e\+/,"e")),o.replace("e","E")}const frac1=/# (\?+)( ?)\/( ?)(\d+)/;const dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(str){let cc,o="";for(let i=0;i!==str.length;++i)switch(cc=str.charCodeAt(i)){case 35:break;case 63:o+=" ";break;case 48:o+="0";break;default:o+=String.fromCharCode(cc)}return o}function rnd(val,d){const dd=Math.pow(10,d);return""+Math.round(val*dd)/dd}function dec(val,d){return d<(""+Math.round((val-Math.floor(val))*Math.pow(10,d))).length?0:Math.round((val-Math.floor(val))*Math.pow(10,d))}function write_num_flt(type,fmt,val){if(40===type.charCodeAt(0)&&!fmt.match(closeparen)){const ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return val>=0?write_num_flt("n",ffmt,val):"("+write_num_flt("n",ffmt,-val)+")"}if(44===fmt.charCodeAt(fmt.length-1))return function write_num_cm(type,fmt,val){let idx=fmt.length-1;for(;44===fmt.charCodeAt(idx-1);)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}(type,fmt,val);if(-1!==fmt.indexOf("%"))return function write_num_pct(type,fmt,val){const sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}(type,fmt,val);if(-1!==fmt.indexOf("E"))return write_num_exp(fmt,val);if(36===fmt.charCodeAt(0))return"$"+write_num_flt(type,fmt.substr(" "==fmt.charAt(1)?2:1),val);let o,r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0r(aval,fmt.length);if(fmt.match(/^[#?]+$/))return o=pad0r(val,0),"0"===o&&(o=""),o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o;if(r=fmt.match(frac1))return function write_num_f1(r,aval,sign){const den=parseInt(r[4],10),rr=Math.round(aval*den),base=Math.floor(rr/den);let myn=rr-base*den,myd=den;return sign+(0===base?"":""+base)+" "+(0===myn?fill(" ",r[1].length+1+r[4].length):pad_(myn,r[1].length)+r[2]+"/"+r[3]+pad0(myd,r[4].length))}(r,aval,sign);if(fmt.match(/^#+0+$/))return sign+pad0r(aval,fmt.length-fmt.indexOf("0"));if(r=fmt.match(dec1))return o=rnd(val,r[1].length).replace(/^([^\.]+)$/,"$1."+hashq(r[1])).replace(/\.$/,"."+hashq(r[1])).replace(/\.(\d*)$/,(function($$,$1){return"."+$1+fill("0",hashq(r[1]).length-$1.length)})),-1!==fmt.indexOf("0.")?o:o.replace(/^0\./,".");if(fmt=fmt.replace(/^#+([0.])/,"$1"),r=fmt.match(/^(0*)\.(#*)$/))return sign+rnd(aval,r[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");if(r=fmt.match(/^#{1,3},##0(\.?)$/))return sign+commaify(pad0r(aval,0));if(r=fmt.match(/^#,##0\.([#0]*0)$/))return val<0?"-"+write_num_flt(type,fmt,-val):commaify(""+(Math.floor(val)+function carry(val,d){return d<(""+Math.round((val-Math.floor(val))*Math.pow(10,d))).length?1:0}(val,r[1].length)))+"."+pad0(dec(val,r[1].length),r[1].length);if(r=fmt.match(/^#,#*,#0/))return write_num_flt(type,fmt.replace(/^#,#*,/,""),val);if(r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))return o=_strrev(write_num_flt(type,fmt.replace(/[\\-]/g,""),val)),ri=0,_strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,(function(x){return ri<o.length?o.charAt(ri++):"0"===x?"0":""})));if(fmt.match(phone))return o=write_num_flt(type,"##########",val),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);let oa="";if(r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ri=Math.min(r[4].length,7),ff=frac(aval,Math.pow(10,ri)-1,!1),o=""+sign,oa=write_num("n",r[1],ff[1])," "===oa.charAt(oa.length-1)&&(oa=oa.substr(0,oa.length-1)+"0"),o+=oa+r[2]+"/"+r[3],oa=rpad_(ff[2],ri),oa.length<r[4].length&&(oa=hashq(r[4].substr(r[4].length-oa.length))+oa),o+=oa,o;if(r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ri=Math.min(Math.max(r[1].length,r[4].length),7),ff=frac(aval,Math.pow(10,ri)-1,!0),sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length));if(r=fmt.match(/^[#0?]+$/))return o=pad0r(val,0),fmt.length<=o.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o;if(r=fmt.match(/^([#0?]+)\.([#0]+)$/)){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1"),ri=o.indexOf(".");const lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if(r=fmt.match(/^00,000\.([#0]*0)$/))return ri=dec(val,r[1].length),val<0?"-"+write_num_flt(type,fmt,-val):commaify(function flr(val){return val<2147483647&&val>-2147483648?""+(val>=0?0|val:val-1|0):""+Math.floor(val)}(val)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$}))+"."+pad0(ri,r[1].length);switch(fmt){case"###,##0.00":return write_num_flt(type,"#,##0.00",val);case"###,###":case"##,###":case"#,###":const x=commaify(pad0r(aval,0));return"0"!==x?sign+x:"";case"###,###.00":return write_num_flt(type,"###,##0.00",val).replace(/^0\./,".");case"#,###.00":return write_num_flt(type,"#,##0.00",val).replace(/^0\./,".")}throw new Error("unsupported format |"+fmt+"|")}function write_num_exp2(fmt,val){let o,idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){if(0===val)return"0.0E+0";if(val<0)return"-"+write_num_exp2(fmt,-val);let period=fmt.indexOf(".");-1===period&&(period=fmt.indexOf("E"));let ee=Math.floor(Math.log(val)*Math.LOG10E)%period;if(ee<0&&(ee+=period),o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period),!o.match(/[Ee]/)){const fakee=Math.floor(Math.log(val)*Math.LOG10E);-1===o.indexOf(".")?o=o.charAt(0)+"."+o.substr(1)+"E+"+(fakee-o.length+ee):o+="E+"+(fakee-ee),o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"}))}else o=val.toExponential(idx);return fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/)&&(o=o.substr(0,o.length-1)+"0"+o.charAt(o.length-1)),fmt.match(/E\-/)&&o.match(/e\+/)&&(o=o.replace(/e\+/,"e")),o.replace("e","E")}function write_num_int(type,fmt,val){if(40===type.charCodeAt(0)&&!fmt.match(closeparen)){const ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return val>=0?write_num_int("n",ffmt,val):"("+write_num_int("n",ffmt,-val)+")"}if(44===fmt.charCodeAt(fmt.length-1))return function write_num_cm2(type,fmt,val){let idx=fmt.length-1;for(;44===fmt.charCodeAt(idx-1);)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}(type,fmt,val);if(-1!==fmt.indexOf("%"))return function write_num_pct2(type,fmt,val){const sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}(type,fmt,val);if(-1!==fmt.indexOf("E"))return write_num_exp2(fmt,val);if(36===fmt.charCodeAt(0))return"$"+write_num_int(type,fmt.substr(" "==fmt.charAt(1)?2:1),val);let o,r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0(aval,fmt.length);if(fmt.match(/^[#?]+$/))return o=""+val,0===val&&(o=""),o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o;if(r=fmt.match(frac1))return function write_num_f2(r,aval,sign){return sign+(0===aval?"":""+aval)+fill(" ",r[1].length+2+r[4].length)}(r,aval,sign);if(fmt.match(/^#+0+$/))return sign+pad0(aval,fmt.length-fmt.indexOf("0"));if(r=fmt.match(dec1))return o=(""+val).replace(/^([^\.]+)$/,"$1."+hashq(r[1])).replace(/\.$/,"."+hashq(r[1])),o=o.replace(/\.(\d*)$/,(function($$,$1){return"."+$1+fill("0",hashq(r[1]).length-$1.length)})),-1!==fmt.indexOf("0.")?o:o.replace(/^0\./,".");if(fmt=fmt.replace(/^#+([0.])/,"$1"),r=fmt.match(/^(0*)\.(#*)$/))return sign+(""+aval).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".");if(r=fmt.match(/^#{1,3},##0(\.?)$/))return sign+commaify(""+aval);if(r=fmt.match(/^#,##0\.([#0]*0)$/))return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val)+"."+fill("0",r[1].length);if(r=fmt.match(/^#,#*,#0/))return write_num_int(type,fmt.replace(/^#,#*,/,""),val);if(r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))return o=_strrev(write_num_int(type,fmt.replace(/[\\-]/g,""),val)),ri=0,_strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,(function(x){return ri<o.length?o.charAt(ri++):"0"===x?"0":""})));if(fmt.match(phone))return o=write_num_int(type,"##########",val),"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);let oa="";if(r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ri=Math.min(r[4].length,7),ff=frac(aval,Math.pow(10,ri)-1,!1),o=""+sign,oa=write_num("n",r[1],ff[1])," "==oa.charAt(oa.length-1)&&(oa=oa.substr(0,oa.length-1)+"0"),o+=oa+r[2]+"/"+r[3],oa=rpad_(ff[2],ri),oa.length<r[4].length&&(oa=hashq(r[4].substr(r[4].length-oa.length))+oa),o+=oa,o;if(r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ri=Math.min(Math.max(r[1].length,r[4].length),7),ff=frac(aval,Math.pow(10,ri)-1,!0),sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length));if(r=fmt.match(/^[#0?]+$/))return o=""+val,fmt.length<=o.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o;if(r=fmt.match(/^([#0]+)\.([#0]+)$/)){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1"),ri=o.indexOf(".");let lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if(r=fmt.match(/^00,000\.([#0]*0)$/))return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$}))+"."+pad0(0,r[1].length);switch(fmt){case"###,###":case"##,###":case"#,###":const x=commaify(""+aval);return"0"!==x?sign+x:"";default:if(fmt.match(/\.[0#?]*$/))return write_num_int(type,fmt.slice(0,fmt.lastIndexOf(".")),val)+hashq(fmt.slice(fmt.lastIndexOf(".")))}throw new Error("unsupported format |"+fmt+"|")}return function write_num(type,fmt,val){return(0|val)===val?write_num_int(type,fmt,val):write_num_flt(type,fmt,val)}}();function split_fmt(fmt){const out=[];let in_str=!1,j=0;for(let i=0;i<fmt.length;++i)switch(fmt.charCodeAt(i)){case 34:in_str=!in_str;break;case 95:case 42:case 92:++i;break;case 59:out[out.length]=fmt.substr(j,i-j),j=i+1}if(out[out.length]=fmt.substr(j),!0===in_str)throw new Error("Format |"+fmt+"| unterminated string ");return out}SSF._split=split_fmt;const abstime=/\[[HhMmSs]*\]/;function fmt_is_date(fmt){let i=0,c="",o="";for(;i<fmt.length;)switch(c=fmt.charAt(i)){case"G":isgeneral(fmt,i)&&(i+=6),i++;break;case'"':for(;34!==fmt.charCodeAt(++i)&&i<fmt.length;)++i;++i;break;case"\\":case"_":i+=2;break;case"@":++i;break;case"B":case"b":if("1"===fmt.charAt(i+1)||"2"===fmt.charAt(i+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":if("A/P"===fmt.substr(i,3).toUpperCase())return!0;if("AM/PM"===fmt.substr(i,5).toUpperCase())return!0;++i;break;case"[":for(o=c;"]"!==fmt.charAt(i++)&&i<fmt.length;)o+=fmt.charAt(i);if(o.match(abstime))return!0;break;case".":case"0":case"#":for(;i<fmt.length&&("0#?.,E+-%".indexOf(c=fmt.charAt(++i))>-1||"\\"==c&&"-"==fmt.charAt(i+1)&&"0#".indexOf(fmt.charAt(i+2))>-1););break;case"?":for(;fmt.charAt(++i)===c;);break;case"*":++i," "!==fmt.charAt(i)&&"*"!==fmt.charAt(i)||++i;break;case"(":case")":++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;i<fmt.length&&"0123456789".indexOf(fmt.charAt(++i))>-1;);break;default:++i}return!1}function eval_fmt(fmt,v,opts,flen){let dt,j,cc,out=[],o="",i=0,c="",lst="t",hr="H";for(;i<fmt.length;)switch(c=fmt.charAt(i)){case"G":if(!isgeneral(fmt,i))throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"G",v:"General"},i+=7;break;case'"':for(o="";34!==(cc=fmt.charCodeAt(++i))&&i<fmt.length;)o+=String.fromCharCode(cc);out[out.length]={t:"t",v:o},++i;break;case"\\":const w=fmt.charAt(++i),t="("===w||")"===w?w:"t";out[out.length]={t,v:w},++i;break;case"_":out[out.length]={t:"t",v:" "},i+=2;break;case"@":out[out.length]={t:"T",v},++i;break;case"B":case"b":if("1"===fmt.charAt(i+1)||"2"===fmt.charAt(i+1)){if(null==dt&&(dt=parse_date_code(v,opts,"2"===fmt.charAt(i+1)),null==dt))return"";out[out.length]={t:"X",v:fmt.substr(i,2)},lst=c,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(v<0)return"";if(null==dt&&(dt=parse_date_code(v,opts),null==dt))return"";for(o=c;++i<fmt.length&&fmt.charAt(i).toLowerCase()===c;)o+=c;"m"===c&&"h"===lst.toLowerCase()&&(c="M"),"h"===c&&(c=hr),out[out.length]={t:c,v:o},lst=c;break;case"A":case"a":const q={t:c,v:c};if(null==dt&&(dt=parse_date_code(v,opts)),"A/P"===fmt.substr(i,3).toUpperCase()?(null!=dt&&(q.v=dt.H>=12?"P":"A"),q.t="T",hr="h",i+=3):"AM/PM"===fmt.substr(i,5).toUpperCase()?(null!=dt&&(q.v=dt.H>=12?"PM":"AM"),q.t="T",i+=5,hr="h"):(q.t="t",++i),null==dt&&"T"===q.t)return"";out[out.length]=q,lst=c;break;case"[":for(o=c;"]"!==fmt.charAt(i++)&&i<fmt.length;)o+=fmt.charAt(i);if("]"!==o.slice(-1))throw'unterminated "[" block: |'+o+"|";if(o.match(abstime)){if(null==dt&&(dt=parse_date_code(v,opts),null==dt))return"";out[out.length]={t:"Z",v:o.toLowerCase()},lst=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(fmt)||(out[out.length]={t:"t",v:o}));break;case".":if(null!=dt){for(o=c;++i<fmt.length&&"0"===(c=fmt.charAt(i));)o+=c;out[out.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++i<fmt.length&&"0#?.,E+-%".indexOf(c=fmt.charAt(i))>-1||"\\"==c&&"-"==fmt.charAt(i+1)&&i<fmt.length-2&&"0#".indexOf(fmt.charAt(i+2))>-1;)o+=c;out[out.length]={t:"n",v:o};break;case"?":for(o=c;fmt.charAt(++i)===c;)o+=c;out[out.length]={t:c,v:o},lst=c;break;case"*":++i," "!==fmt.charAt(i)&&"*"!==fmt.charAt(i)||++i;break;case"(":case")":out[out.length]={t:1===flen||"number"==typeof v&&v<0?"t":c,v:c},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;i<fmt.length&&"0123456789".indexOf(fmt.charAt(++i))>-1;)o+=fmt.charAt(i);out[out.length]={t:"D",v:o};break;case" ":out[out.length]={t:c,v:c},++i;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"t",v:c},++i}let ssm,bt=0,ss0=0;for(i=out.length-1,lst="t";i>=0;--i)switch(out[i].t){case"h":case"H":out[i].t=hr,lst="h",bt<1&&(bt=1);break;case"s":(ssm=out[i].v.match(/\.0+$/))&&(ss0=Math.max(ss0,ssm[0].length-1)),bt<3&&(bt=3);case"d":case"y":case"M":case"e":lst=out[i].t;break;case"m":"s"===lst&&(out[i].t="M",bt<2&&(bt=2));break;case"X":break;case"Z":bt<1&&out[i].v.match(/[Hh]/)&&(bt=1),bt<2&&out[i].v.match(/[Mm]/)&&(bt=2),bt<3&&out[i].v.match(/[Ss]/)&&(bt=3)}switch(bt){case 0:break;case 1:dt.u>=.5&&(dt.u=0,++dt.S),dt.S>=60&&(dt.S=0,++dt.M),dt.M>=60&&(dt.M=0,++dt.H);break;case 2:dt.u>=.5&&(dt.u=0,++dt.S),dt.S>=60&&(dt.S=0,++dt.M)}let jj,nstr="";for(i=0;i<out.length;++i)switch(out[i].t){case"t":case"T":case" ":case"D":break;case"X":out[i].v="",out[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":out[i].v=write_date(out[i].t.charCodeAt(0),out[i].v,dt,ss0),out[i].t="t";break;case"n":case"(":case"?":for(jj=i+1;null!=out[jj]&&("?"===(c=out[jj].t)||"D"===c||(" "===c||"t"===c)&&null!=out[jj+1]&&("?"===out[jj+1].t||"t"===out[jj+1].t&&"/"===out[jj+1].v)||"("===out[i].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===out[jj].v||" "===out[jj].v&&null!=out[jj+1]&&"?"===out[jj+1].t));)out[i].v+=out[jj].v,out[jj]={v:"",t:";"},++jj;nstr+=out[i].v,i=jj-1;break;case"G":out[i].t="t",out[i].v=general_fmt(v,opts)}let myv,ostr,vv="";if(nstr.length>0){40===nstr.charCodeAt(0)?(myv=v<0&&45===nstr.charCodeAt(0)?-v:v,ostr=write_num("(",nstr,myv)):(myv=v<0&&flen>1?-v:v,ostr=write_num("n",nstr,myv),myv<0&&out[0]&&"t"===out[0].t&&(ostr=ostr.substr(1),out[0].v="-"+out[0].v)),jj=ostr.length-1;let decpt=out.length;for(i=0;i<out.length;++i)if(null!=out[i]&&"t"!==out[i].t&&out[i].v.indexOf(".")>-1){decpt=i;break}let lasti=out.length;if(decpt===out.length&&-1===ostr.indexOf("E")){for(i=out.length-1;i>=0;--i)null!=out[i]&&-1!=="n?(".indexOf(out[i].t)&&(jj>=out[i].v.length-1?(jj-=out[i].v.length,out[i].v=ostr.substr(jj+1,out[i].v.length)):jj<0?out[i].v="":(out[i].v=ostr.substr(0,jj+1),jj=-1),out[i].t="t",lasti=i);jj>=0&&lasti<out.length&&(out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v)}else if(decpt!==out.length&&-1===ostr.indexOf("E")){for(jj=ostr.indexOf(".")-1,i=decpt;i>=0;--i)if(null!=out[i]&&-1!=="n?(".indexOf(out[i].t)){for(j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")-1:out[i].v.length-1,vv=out[i].v.substr(j+1);j>=0;--j)jj>=0&&("0"===out[i].v.charAt(j)||"#"===out[i].v.charAt(j))&&(vv=ostr.charAt(jj--)+vv);out[i].v=vv,out[i].t="t",lasti=i}for(jj>=0&&lasti<out.length&&(out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v),jj=ostr.indexOf(".")+1,i=decpt;i<out.length;++i)if(null!=out[i]&&(-1!=="n?(".indexOf(out[i].t)||i===decpt)){for(j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")+1:0,vv=out[i].v.substr(0,j);j<out[i].v.length;++j)jj<ostr.length&&(vv+=ostr.charAt(jj++));out[i].v=vv,out[i].t="t",lasti=i}}}for(i=0;i<out.length;++i)null!=out[i]&&"n(?".indexOf(out[i].t)>-1&&(myv=flen>1&&v<0&&i>0&&"-"===out[i-1].v?-v:v,out[i].v=write_num(out[i].t,out[i].v,myv),out[i].t="t");let retval="";for(i=0;i!==out.length;++i)null!=out[i]&&(retval+=out[i].v);return retval}SSF.is_date=fmt_is_date,SSF._eval=eval_fmt;const cfregex=/\[[=<>]/,cfregex2=/\[([=<>]*)(-?\d+\.?\d*)\]/;function chkcond(v,rr){if(null==rr)return!1;const thresh=parseFloat(rr[2]);switch(rr[1]){case"=":if(v===thresh)return!0;break;case">":if(v>thresh)return!0;break;case"<":if(v<thresh)return!0;break;case"<>":if(v!==thresh)return!0;break;case">=":if(v>=thresh)return!0;break;case"<=":if(v<=thresh)return!0}return!1}function format(fmt,v,o){null==o&&(o={});let sfmt="";switch(typeof fmt){case"string":sfmt="m/d/yy"===fmt&&o.dateNF?o.dateNF:fmt;break;case"number":sfmt=14===fmt&&o.dateNF?o.dateNF:(null!=o.table?o.table:table_fmt)[fmt]}if(isgeneral(sfmt,0))return general_fmt(v,o);v instanceof Date&&(v=datenum_local(v,o.date1904));const f=function choose_fmt(f,v){let fmt=split_fmt(f),l=fmt.length,lat=fmt[l-1].indexOf("@");if(l<4&&lat>-1&&--l,fmt.length>4)throw new Error("cannot find right format for |"+fmt.join("|")+"|");if("number"!=typeof v)return[4,4===fmt.length||lat>-1?fmt[fmt.length-1]:"@"];switch(fmt.length){case 1:fmt=lat>-1?["General","General","General",fmt[0]]:[fmt[0],fmt[0],fmt[0],"@"];break;case 2:fmt=lat>-1?[fmt[0],fmt[0],fmt[0],fmt[1]]:[fmt[0],fmt[1],fmt[0],"@"];break;case 3:fmt=lat>-1?[fmt[0],fmt[1],fmt[0],fmt[2]]:[fmt[0],fmt[1],fmt[2],"@"]}const ff=v>0?fmt[0]:v<0?fmt[1]:fmt[2];if(-1===fmt[0].indexOf("[")&&-1===fmt[1].indexOf("["))return[l,ff];if(null!=fmt[0].match(cfregex)||null!=fmt[1].match(cfregex)){const m1=fmt[0].match(cfregex2),m2=fmt[1].match(cfregex2);return chkcond(v,m1)?[l,fmt[0]]:chkcond(v,m2)?[l,fmt[1]]:[l,fmt[null!=m1&&null!=m2?2:1]]}return[l,ff]}(sfmt,v);if(isgeneral(f[1]))return general_fmt(v,o);if(!0===v)v="TRUE";else if(!1===v)v="FALSE";else if(""===v||null==v)return"";return eval_fmt(f[1],v,o,f[0])}function load_entry(fmt,idx){if("number"!=typeof idx){idx=+idx||-1;for(let i=0;i<392;++i)if(void 0!==table_fmt[i]){if(table_fmt[i]===fmt){idx=i;break}}else idx<0&&(idx=i);idx<0&&(idx=391)}return table_fmt[idx]=fmt,idx}SSF.load=load_entry,SSF._table=table_fmt,SSF.get_table=function get_table(){return table_fmt},SSF.load_table=function load_table(tbl){for(let i=0;392!==i;++i)void 0!==tbl[i]&&load_entry(tbl[i],i)},SSF.init_table=init_table,SSF.format=format,module.exports=SSF},"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var reactIs=__webpack_require__("./node_modules/react-is/index.js"),REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(component){return reactIs.isMemo(component)?MEMO_STATICS:TYPE_STATICS[component.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if("string"!=typeof sourceComponent){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);inheritedComponent&&inheritedComponent!==objectPrototype&&hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}var keys=getOwnPropertyNames(sourceComponent);getOwnPropertySymbols&&(keys=keys.concat(getOwnPropertySymbols(sourceComponent)));for(var targetStatics=getStatics(targetComponent),sourceStatics=getStatics(sourceComponent),i=0;i<keys.length;++i){var key=keys[i];if(!(KNOWN_STATICS[key]||blacklist&&blacklist[key]||sourceStatics&&sourceStatics[key]||targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}},"./node_modules/jstat/dist/jstat.js":function(module){var jStat;module.exports=(jStat=function(Math,undefined){var concat=Array.prototype.concat,slice=Array.prototype.slice,toString=Object.prototype.toString;function calcRdx(n,m){var val=n>m?n:m;return Math.pow(10,17-~~(Math.log(val>0?val:-val)*Math.LOG10E))}var isArray=Array.isArray||function isArray(arg){return"[object Array]"===toString.call(arg)};function isFunction(arg){return"[object Function]"===toString.call(arg)}function isNumber(num){return"number"==typeof num&&num-num==0}function toVector(arr){return concat.apply([],arr)}function jStat(){return new jStat._init(arguments)}function retZero(){return 0}function retOne(){return 1}function retIdent(i,j){return i===j?1:0}jStat.fn=jStat.prototype,jStat._init=function _init(args){if(isArray(args[0]))if(isArray(args[0][0])){isFunction(args[1])&&(args[0]=jStat.map(args[0],args[1]));for(var i=0;i<args[0].length;i++)this[i]=args[0][i];this.length=args[0].length}else this[0]=isFunction(args[1])?jStat.map(args[0],args[1]):args[0],this.length=1;else if(isNumber(args[0]))this[0]=jStat.seq.apply(null,args),this.length=1;else{if(args[0]instanceof jStat)return jStat(args[0].toArray());this[0]=[],this.length=1}return this},jStat._init.prototype=jStat.prototype,jStat._init.constructor=jStat,jStat.utils={calcRdx,isArray,isFunction,isNumber,toVector},jStat._random_fn=Math.random,jStat.setRandom=function setRandom(fn){if("function"!=typeof fn)throw new TypeError("fn is not a function");jStat._random_fn=fn},jStat.extend=function extend(obj){var i,j;if(1===arguments.length){for(j in obj)jStat[j]=obj[j];return this}for(i=1;i<arguments.length;i++)for(j in arguments[i])obj[j]=arguments[i][j];return obj},jStat.rows=function rows(arr){return arr.length||1},jStat.cols=function cols(arr){return arr[0].length||1},jStat.dimensions=function dimensions(arr){return{rows:jStat.rows(arr),cols:jStat.cols(arr)}},jStat.row=function row(arr,index){return isArray(index)?index.map((function(i){return jStat.row(arr,i)})):arr[index]},jStat.rowa=function rowa(arr,i){return jStat.row(arr,i)},jStat.col=function col(arr,index){if(isArray(index)){var submat=jStat.arange(arr.length).map((function(){return new Array(index.length)}));return index.forEach((function(ind,i){jStat.arange(arr.length).forEach((function(j){submat[j][i]=arr[j][ind]}))})),submat}for(var column=new Array(arr.length),i=0;i<arr.length;i++)column[i]=[arr[i][index]];return column},jStat.cola=function cola(arr,i){return jStat.col(arr,i).map((function(a){return a[0]}))},jStat.diag=function diag(arr){for(var nrow=jStat.rows(arr),res=new Array(nrow),row=0;row<nrow;row++)res[row]=[arr[row][row]];return res},jStat.antidiag=function antidiag(arr){for(var nrow=jStat.rows(arr)-1,res=new Array(nrow),i=0;nrow>=0;nrow--,i++)res[i]=[arr[i][nrow]];return res},jStat.transpose=function transpose(arr){var objArr,rows,cols,j,i,obj=[];for(isArray(arr[0])||(arr=[arr]),rows=arr.length,cols=arr[0].length,i=0;i<cols;i++){for(objArr=new Array(rows),j=0;j<rows;j++)objArr[j]=arr[j][i];obj.push(objArr)}return 1===obj.length?obj[0]:obj},jStat.map=function map(arr,func,toAlter){var row,nrow,ncol,res,col;for(isArray(arr[0])||(arr=[arr]),nrow=arr.length,ncol=arr[0].length,res=toAlter?arr:new Array(nrow),row=0;row<nrow;row++)for(res[row]||(res[row]=new Array(ncol)),col=0;col<ncol;col++)res[row][col]=func(arr[row][col],row,col);return 1===res.length?res[0]:res},jStat.cumreduce=function cumreduce(arr,func,toAlter){var row,nrow,ncol,res,col;for(isArray(arr[0])||(arr=[arr]),nrow=arr.length,ncol=arr[0].length,res=toAlter?arr:new Array(nrow),row=0;row<nrow;row++)for(res[row]||(res[row]=new Array(ncol)),ncol>0&&(res[row][0]=arr[row][0]),col=1;col<ncol;col++)res[row][col]=func(res[row][col-1],arr[row][col]);return 1===res.length?res[0]:res},jStat.alter=function alter(arr,func){return jStat.map(arr,func,!0)},jStat.create=function create(rows,cols,func){var i,j,res=new Array(rows);for(isFunction(cols)&&(func=cols,cols=rows),i=0;i<rows;i++)for(res[i]=new Array(cols),j=0;j<cols;j++)res[i][j]=func(i,j);return res},jStat.zeros=function zeros(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retZero)},jStat.ones=function ones(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retOne)},jStat.rand=function rand(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,jStat._random_fn)},jStat.identity=function identity(rows,cols){return isNumber(cols)||(cols=rows),jStat.create(rows,cols,retIdent)},jStat.symmetric=function symmetric(arr){var row,col,size=arr.length;if(arr.length!==arr[0].length)return!1;for(row=0;row<size;row++)for(col=0;col<size;col++)if(arr[col][row]!==arr[row][col])return!1;return!0},jStat.clear=function clear(arr){return jStat.alter(arr,retZero)},jStat.seq=function seq(min,max,length,func){isFunction(func)||(func=!1);var cnt,arr=[],hival=calcRdx(min,max),step=(max*hival-min*hival)/((length-1)*hival),current=min;for(cnt=0;current<=max&&cnt<length;current=(min*hival+step*hival*++cnt)/hival)arr.push(func?func(current,cnt):current);return arr},jStat.arange=function arange(start,end,step){var i,rl=[];if(step=step||1,end===undefined&&(end=start,start=0),start===end||0===step)return[];if(start<end&&step<0)return[];if(start>end&&step>0)return[];if(step>0)for(i=start;i<end;i+=step)rl.push(i);else for(i=start;i>end;i+=step)rl.push(i);return rl},jStat.slice=function(){function _slice(list,start,end,step){var i,rl=[],length=list.length;if(start===undefined&&end===undefined&&step===undefined)return jStat.copy(list);if(step=step||1,(start=(start=start||0)>=0?start:length+start)===(end=(end=end||list.length)>=0?end:length+end)||0===step)return[];if(start<end&&step<0)return[];if(start>end&&step>0)return[];if(step>0)for(i=start;i<end;i+=step)rl.push(list[i]);else for(i=start;i>end;i+=step)rl.push(list[i]);return rl}function slice(list,rcSlice){var colSlice,rowSlice;return isNumber((rcSlice=rcSlice||{}).row)?isNumber(rcSlice.col)?list[rcSlice.row][rcSlice.col]:_slice(jStat.rowa(list,rcSlice.row),(colSlice=rcSlice.col||{}).start,colSlice.end,colSlice.step):isNumber(rcSlice.col)?_slice(jStat.cola(list,rcSlice.col),(rowSlice=rcSlice.row||{}).start,rowSlice.end,rowSlice.step):(rowSlice=rcSlice.row||{},colSlice=rcSlice.col||{},_slice(list,rowSlice.start,rowSlice.end,rowSlice.step).map((function(row){return _slice(row,colSlice.start,colSlice.end,colSlice.step)})))}return slice}(),jStat.sliceAssign=function sliceAssign(A,rcSlice,B){var nl,ml;if(isNumber(rcSlice.row)){if(isNumber(rcSlice.col))return A[rcSlice.row][rcSlice.col]=B;rcSlice.col=rcSlice.col||{},rcSlice.col.start=rcSlice.col.start||0,rcSlice.col.end=rcSlice.col.end||A[0].length,rcSlice.col.step=rcSlice.col.step||1,nl=jStat.arange(rcSlice.col.start,Math.min(A.length,rcSlice.col.end),rcSlice.col.step);var m=rcSlice.row;return nl.forEach((function(n,i){A[m][n]=B[i]})),A}if(isNumber(rcSlice.col)){rcSlice.row=rcSlice.row||{},rcSlice.row.start=rcSlice.row.start||0,rcSlice.row.end=rcSlice.row.end||A.length,rcSlice.row.step=rcSlice.row.step||1,ml=jStat.arange(rcSlice.row.start,Math.min(A[0].length,rcSlice.row.end),rcSlice.row.step);var n=rcSlice.col;return ml.forEach((function(m,j){A[m][n]=B[j]})),A}return B[0].length===undefined&&(B=[B]),rcSlice.row.start=rcSlice.row.start||0,rcSlice.row.end=rcSlice.row.end||A.length,rcSlice.row.step=rcSlice.row.step||1,rcSlice.col.start=rcSlice.col.start||0,rcSlice.col.end=rcSlice.col.end||A[0].length,rcSlice.col.step=rcSlice.col.step||1,ml=jStat.arange(rcSlice.row.start,Math.min(A.length,rcSlice.row.end),rcSlice.row.step),nl=jStat.arange(rcSlice.col.start,Math.min(A[0].length,rcSlice.col.end),rcSlice.col.step),ml.forEach((function(m,i){nl.forEach((function(n,j){A[m][n]=B[i][j]}))})),A},jStat.diagonal=function diagonal(diagArray){var mat=jStat.zeros(diagArray.length,diagArray.length);return diagArray.forEach((function(t,i){mat[i][i]=t})),mat},jStat.copy=function copy(A){return A.map((function(row){return isNumber(row)?row:row.map((function(t){return t}))}))};var jProto=jStat.prototype;return jProto.length=0,jProto.push=Array.prototype.push,jProto.sort=Array.prototype.sort,jProto.splice=Array.prototype.splice,jProto.slice=Array.prototype.slice,jProto.toArray=function toArray(){return this.length>1?slice.call(this):slice.call(this)[0]},jProto.map=function map(func,toAlter){return jStat(jStat.map(this,func,toAlter))},jProto.cumreduce=function cumreduce(func,toAlter){return jStat(jStat.cumreduce(this,func,toAlter))},jProto.alter=function alter(func){return jStat.alter(this,func),this},function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(func){var results,self=this;return func?(setTimeout((function(){func.call(self,jProto[passfunc].call(self))})),this):(results=jStat[passfunc](this),isArray(results)?jStat(results):results)}}(funcs[i])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(index,func){var self=this;return func?(setTimeout((function(){func.call(self,jProto[passfunc].call(self,index))})),this):jStat(jStat[passfunc](this,index))}}(funcs[i])}("row col".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(){return jStat(jStat[passfunc].apply(null,arguments))}}(funcs[i])}("create zeros ones rand identity".split(" ")),jStat}(Math),function(jStat,Math){var isFunction=jStat.utils.isFunction;function ascNum(a,b){return a-b}function clip(arg,min,max){return Math.max(min,Math.min(arg,max))}jStat.sum=function sum(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i];return sum},jStat.sumsqrd=function sumsqrd(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i]*arr[i];return sum},jStat.sumsqerr=function sumsqerr(arr){for(var tmp,mean=jStat.mean(arr),sum=0,i=arr.length;--i>=0;)sum+=(tmp=arr[i]-mean)*tmp;return sum},jStat.sumrow=function sumrow(arr){for(var sum=0,i=arr.length;--i>=0;)sum+=arr[i];return sum},jStat.product=function product(arr){for(var prod=1,i=arr.length;--i>=0;)prod*=arr[i];return prod},jStat.min=function min(arr){for(var low=arr[0],i=0;++i<arr.length;)arr[i]<low&&(low=arr[i]);return low},jStat.max=function max(arr){for(var high=arr[0],i=0;++i<arr.length;)arr[i]>high&&(high=arr[i]);return high},jStat.unique=function unique(arr){for(var hash={},_arr=[],i=0;i<arr.length;i++)hash[arr[i]]||(hash[arr[i]]=!0,_arr.push(arr[i]));return _arr},jStat.mean=function mean(arr){return jStat.sum(arr)/arr.length},jStat.meansqerr=function meansqerr(arr){return jStat.sumsqerr(arr)/arr.length},jStat.geomean=function geomean(arr){var logs=arr.map(Math.log),meanOfLogs=jStat.mean(logs);return Math.exp(meanOfLogs)},jStat.median=function median(arr){var arrlen=arr.length,_arr=arr.slice().sort(ascNum);return 1&arrlen?_arr[arrlen/2|0]:(_arr[arrlen/2-1]+_arr[arrlen/2])/2},jStat.cumsum=function cumsum(arr){return jStat.cumreduce(arr,(function(a,b){return a+b}))},jStat.cumprod=function cumprod(arr){return jStat.cumreduce(arr,(function(a,b){return a*b}))},jStat.diff=function diff(arr){var i,diffs=[],arrLen=arr.length;for(i=1;i<arrLen;i++)diffs.push(arr[i]-arr[i-1]);return diffs},jStat.rank=function(arr){var i,distinctNumbers=[],numberCounts={};for(i=0;i<arr.length;i++)numberCounts[number=arr[i]]?numberCounts[number]++:(numberCounts[number]=1,distinctNumbers.push(number));var sortedDistinctNumbers=distinctNumbers.sort(ascNum),numberRanks={},currentRank=1;for(i=0;i<sortedDistinctNumbers.length;i++){var number,count=numberCounts[number=sortedDistinctNumbers[i]],rank=(currentRank+(currentRank+count-1))/2;numberRanks[number]=rank,currentRank+=count}return arr.map((function(number){return numberRanks[number]}))},jStat.mode=function mode(arr){var i,arrLen=arr.length,_arr=arr.slice().sort(ascNum),count=1,maxCount=0,numMaxCount=0,mode_arr=[];for(i=0;i<arrLen;i++)_arr[i]===_arr[i+1]?count++:(count>maxCount?(mode_arr=[_arr[i]],maxCount=count,numMaxCount=0):count===maxCount&&(mode_arr.push(_arr[i]),numMaxCount++),count=1);return 0===numMaxCount?mode_arr[0]:mode_arr},jStat.range=function range(arr){return jStat.max(arr)-jStat.min(arr)},jStat.variance=function variance(arr,flag){return jStat.sumsqerr(arr)/(arr.length-(flag?1:0))},jStat.pooledvariance=function pooledvariance(arr){return arr.reduce((function(a,samples){return a+jStat.sumsqerr(samples)}),0)/(arr.reduce((function(a,samples){return a+samples.length}),0)-arr.length)},jStat.deviation=function(arr){for(var mean=jStat.mean(arr),arrlen=arr.length,dev=new Array(arrlen),i=0;i<arrlen;i++)dev[i]=arr[i]-mean;return dev},jStat.stdev=function stdev(arr,flag){return Math.sqrt(jStat.variance(arr,flag))},jStat.pooledstdev=function pooledstdev(arr){return Math.sqrt(jStat.pooledvariance(arr))},jStat.meandev=function meandev(arr){for(var mean=jStat.mean(arr),a=[],i=arr.length-1;i>=0;i--)a.push(Math.abs(arr[i]-mean));return jStat.mean(a)},jStat.meddev=function meddev(arr){for(var median=jStat.median(arr),a=[],i=arr.length-1;i>=0;i--)a.push(Math.abs(arr[i]-median));return jStat.median(a)},jStat.coeffvar=function coeffvar(arr){return jStat.stdev(arr)/jStat.mean(arr)},jStat.quartiles=function quartiles(arr){var arrlen=arr.length,_arr=arr.slice().sort(ascNum);return[_arr[Math.round(arrlen/4)-1],_arr[Math.round(arrlen/2)-1],_arr[Math.round(3*arrlen/4)-1]]},jStat.quantiles=function quantiles(arr,quantilesArray,alphap,betap){var i,p,aleph,k,gamma,sortedArray=arr.slice().sort(ascNum),quantileVals=[quantilesArray.length],n=arr.length;for(void 0===alphap&&(alphap=3/8),void 0===betap&&(betap=3/8),i=0;i<quantilesArray.length;i++)aleph=n*(p=quantilesArray[i])+(alphap+p*(1-alphap-betap)),k=Math.floor(clip(aleph,1,n-1)),gamma=clip(aleph-k,0,1),quantileVals[i]=(1-gamma)*sortedArray[k-1]+gamma*sortedArray[k];return quantileVals},jStat.percentile=function percentile(arr,k,exclusive){var _arr=arr.slice().sort(ascNum),realIndex=k*(_arr.length+(exclusive?1:-1))+(exclusive?0:1),index=parseInt(realIndex),frac=realIndex-index;return index+1<_arr.length?_arr[index-1]+frac*(_arr[index]-_arr[index-1]):_arr[index-1]},jStat.percentileOfScore=function percentileOfScore(arr,score,kind){var value,i,counter=0,len=arr.length,strict=!1;for("strict"===kind&&(strict=!0),i=0;i<len;i++)value=arr[i],(strict&&value<score||!strict&&value<=score)&&counter++;return counter/len},jStat.histogram=function histogram(arr,binCnt){binCnt=binCnt||4;var i,first=jStat.min(arr),binWidth=(jStat.max(arr)-first)/binCnt,len=arr.length,bins=[];for(i=0;i<binCnt;i++)bins[i]=0;for(i=0;i<len;i++)bins[Math.min(Math.floor((arr[i]-first)/binWidth),binCnt-1)]+=1;return bins},jStat.covariance=function covariance(arr1,arr2){var i,u=jStat.mean(arr1),v=jStat.mean(arr2),arr1Len=arr1.length,sq_dev=new Array(arr1Len);for(i=0;i<arr1Len;i++)sq_dev[i]=(arr1[i]-u)*(arr2[i]-v);return jStat.sum(sq_dev)/(arr1Len-1)},jStat.corrcoeff=function corrcoeff(arr1,arr2){return jStat.covariance(arr1,arr2)/jStat.stdev(arr1,1)/jStat.stdev(arr2,1)},jStat.spearmancoeff=function(arr1,arr2){return arr1=jStat.rank(arr1),arr2=jStat.rank(arr2),jStat.corrcoeff(arr1,arr2)},jStat.stanMoment=function stanMoment(arr,n){for(var mu=jStat.mean(arr),sigma=jStat.stdev(arr),len=arr.length,skewSum=0,i=0;i<len;i++)skewSum+=Math.pow((arr[i]-mu)/sigma,n);return skewSum/arr.length},jStat.skewness=function skewness(arr){return jStat.stanMoment(arr,3)},jStat.kurtosis=function kurtosis(arr){return jStat.stanMoment(arr,4)-3};var jProto=jStat.prototype;!function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(fullbool,func){var arr=[],i=0,tmpthis=this;if(isFunction(fullbool)&&(func=fullbool,fullbool=!1),func)return setTimeout((function(){func.call(tmpthis,jProto[passfunc].call(tmpthis,fullbool))})),this;if(this.length>1){for(tmpthis=!0===fullbool?this:this.transpose();i<tmpthis.length;i++)arr[i]=jStat[passfunc](tmpthis[i]);return arr}return jStat[passfunc](this[0],fullbool)}}(funcs[i])}("cumsum cumprod".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(fullbool,func){var arr=[],i=0,tmpthis=this;if(isFunction(fullbool)&&(func=fullbool,fullbool=!1),func)return setTimeout((function(){func.call(tmpthis,jProto[passfunc].call(tmpthis,fullbool))})),this;if(this.length>1){for("sumrow"!==passfunc&&(tmpthis=!0===fullbool?this:this.transpose());i<tmpthis.length;i++)arr[i]=jStat[passfunc](tmpthis[i]);return!0===fullbool?jStat[passfunc](jStat.utils.toVector(arr)):arr}return jStat[passfunc](this[0],fullbool)}}(funcs[i])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jProto[passfunc]=function(){var callbackFunction,arr=[],i=0,tmpthis=this,args=Array.prototype.slice.call(arguments);if(isFunction(args[args.length-1])){callbackFunction=args[args.length-1];var argsToPass=args.slice(0,args.length-1);return setTimeout((function(){callbackFunction.call(tmpthis,jProto[passfunc].apply(tmpthis,argsToPass))})),this}callbackFunction=void 0;var curriedFunction=function curriedFunction(vector){return jStat[passfunc].apply(tmpthis,[vector].concat(args))};if(this.length>1){for(tmpthis=tmpthis.transpose();i<tmpthis.length;i++)arr[i]=curriedFunction(tmpthis[i]);return arr}return curriedFunction(this[0])}}(funcs[i])}("quantiles percentileOfScore".split(" "))}(jStat,Math),function(jStat,Math){jStat.gammaln=function gammaln(x){var xx,y,tmp,j=0,cof=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],ser=1.000000000190015;for(tmp=(y=xx=x)+5.5,tmp-=(xx+.5)*Math.log(tmp);j<6;j++)ser+=cof[j]/++y;return Math.log(2.5066282746310007*ser/xx)-tmp},jStat.loggam=function loggam(x){var x0,x2,xp,gl,gl0,k,n,a=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(x0=x,n=0,1==x||2==x)return 0;for(x<=7&&(x0=x+(n=Math.floor(7-x))),x2=1/(x0*x0),xp=2*Math.PI,gl0=a[9],k=8;k>=0;k--)gl0*=x2,gl0+=a[k];if(gl=gl0/x0+.5*Math.log(xp)+(x0-.5)*Math.log(x0)-x0,x<=7)for(k=1;k<=n;k++)gl-=Math.log(x0-1),x0-=1;return gl},jStat.gammafn=function gammafn(x){var i,z,yi,res,p=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],q=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],fact=!1,n=0,xden=0,xnum=0,y=x;if(x>171.6243769536076)return 1/0;if(y<=0){if(!(res=y%1+36e-17))return 1/0;fact=(1&y?-1:1)*Math.PI/Math.sin(Math.PI*res),y=1-y}for(yi=y,z=y<1?y++:(y-=n=(0|y)-1)-1,i=0;i<8;++i)xnum=(xnum+p[i])*z,xden=xden*z+q[i];if(res=xnum/xden+1,yi<y)res/=yi;else if(yi>y)for(i=0;i<n;++i)res*=y,y++;return fact&&(res=fact/res),res},jStat.gammap=function gammap(a,x){return jStat.lowRegGamma(a,x)*jStat.gammafn(a)},jStat.lowRegGamma=function lowRegGamma(a,x){var an,aln=jStat.gammaln(a),ap=a,sum=1/a,del=sum,b=x+1-a,c=1/1e-30,d=1/b,h=d,i=1,ITMAX=-~(8.5*Math.log(a>=1?a:1/a)+.4*a+17);if(x<0||a<=0)return NaN;if(x<a+1){for(;i<=ITMAX;i++)sum+=del*=x/++ap;return sum*Math.exp(-x+a*Math.log(x)-aln)}for(;i<=ITMAX;i++)h*=(d=1/(d=(an=-i*(i-a))*d+(b+=2)))*(c=b+an/c);return 1-h*Math.exp(-x+a*Math.log(x)-aln)},jStat.factorialln=function factorialln(n){return n<0?NaN:jStat.gammaln(n+1)},jStat.factorial=function factorial(n){return n<0?NaN:jStat.gammafn(n+1)},jStat.combination=function combination(n,m){return n>170||m>170?Math.exp(jStat.combinationln(n,m)):jStat.factorial(n)/jStat.factorial(m)/jStat.factorial(n-m)},jStat.combinationln=function combinationln(n,m){return jStat.factorialln(n)-jStat.factorialln(m)-jStat.factorialln(n-m)},jStat.permutation=function permutation(n,m){return jStat.factorial(n)/jStat.factorial(n-m)},jStat.betafn=function betafn(x,y){if(!(x<=0||y<=0))return x+y>170?Math.exp(jStat.betaln(x,y)):jStat.gammafn(x)*jStat.gammafn(y)/jStat.gammafn(x+y)},jStat.betaln=function betaln(x,y){return jStat.gammaln(x)+jStat.gammaln(y)-jStat.gammaln(x+y)},jStat.betacf=function betacf(x,a,b){var m2,aa,del,h,fpmin=1e-30,m=1,qab=a+b,qap=a+1,qam=a-1,c=1,d=1-qab*x/qap;for(Math.abs(d)<fpmin&&(d=fpmin),h=d=1/d;m<=100&&(d=1+(aa=m*(b-m)*x/((qam+(m2=2*m))*(a+m2)))*d,Math.abs(d)<fpmin&&(d=fpmin),c=1+aa/c,Math.abs(c)<fpmin&&(c=fpmin),h*=(d=1/d)*c,d=1+(aa=-(a+m)*(qab+m)*x/((a+m2)*(qap+m2)))*d,Math.abs(d)<fpmin&&(d=fpmin),c=1+aa/c,Math.abs(c)<fpmin&&(c=fpmin),h*=del=(d=1/d)*c,!(Math.abs(del-1)<3e-7));m++);return h},jStat.gammapinv=function gammapinv(p,a){var x,t,u,pp,lna1,afac,j=0,a1=a-1,EPS=1e-8,gln=jStat.gammaln(a);if(p>=1)return Math.max(100,a+100*Math.sqrt(a));if(p<=0)return 0;for(a>1?(lna1=Math.log(a1),afac=Math.exp(a1*(lna1-1)-gln),pp=p<.5?p:1-p,x=(2.30753+.27061*(t=Math.sqrt(-2*Math.log(pp))))/(1+t*(.99229+.04481*t))-t,p<.5&&(x=-x),x=Math.max(.001,a*Math.pow(1-1/(9*a)-x/(3*Math.sqrt(a)),3))):x=p<(t=1-a*(.253+.12*a))?Math.pow(p/t,1/a):1-Math.log(1-(p-t)/(1-t));j<12;j++){if(x<=0)return 0;if((x-=t=(u=(jStat.lowRegGamma(a,x)-p)/(t=a>1?afac*Math.exp(-(x-a1)+a1*(Math.log(x)-lna1)):Math.exp(-x+a1*Math.log(x)-gln)))/(1-.5*Math.min(1,u*((a-1)/x-1))))<=0&&(x=.5*(x+t)),Math.abs(t)<EPS*x)break}return x},jStat.erf=function erf(x){var t,ty,tmp,res,cof=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],j=cof.length-1,isneg=!1,d=0,dd=0;for(x<0&&(x=-x,isneg=!0),ty=4*(t=2/(2+x))-2;j>0;j--)tmp=d,d=ty*d-dd+cof[j],dd=tmp;return res=t*Math.exp(-x*x+.5*(cof[0]+ty*d)-dd),isneg?res-1:1-res},jStat.erfc=function erfc(x){return 1-jStat.erf(x)},jStat.erfcinv=function erfcinv(p){var x,err,t,pp,j=0;if(p>=2)return-100;if(p<=0)return 100;for(pp=p<1?p:2-p,x=-.70711*((2.30753+.27061*(t=Math.sqrt(-2*Math.log(pp/2))))/(1+t*(.99229+.04481*t))-t);j<2;j++)x+=(err=jStat.erfc(x)-pp)/(1.1283791670955126*Math.exp(-x*x)-x*err);return p<1?x:-x},jStat.ibetainv=function ibetainv(p,a,b){var lna,lnb,pp,t,u,x,al,h,w,afac,EPS=1e-8,a1=a-1,b1=b-1,j=0;if(p<=0)return 0;if(p>=1)return 1;for(a>=1&&b>=1?(pp=p<.5?p:1-p,x=(2.30753+.27061*(t=Math.sqrt(-2*Math.log(pp))))/(1+t*(.99229+.04481*t))-t,p<.5&&(x=-x),al=(x*x-3)/6,h=2/(1/(2*a-1)+1/(2*b-1)),w=x*Math.sqrt(al+h)/h-(1/(2*b-1)-1/(2*a-1))*(al+5/6-2/(3*h)),x=a/(a+b*Math.exp(2*w))):(lna=Math.log(a/(a+b)),lnb=Math.log(b/(a+b)),x=p<(t=Math.exp(a*lna)/a)/(w=t+(u=Math.exp(b*lnb)/b))?Math.pow(a*w*p,1/a):1-Math.pow(b*w*(1-p),1/b)),afac=-jStat.gammaln(a)-jStat.gammaln(b)+jStat.gammaln(a+b);j<10;j++){if(0===x||1===x)return x;if((x-=t=(u=(jStat.ibeta(x,a,b)-p)/(t=Math.exp(a1*Math.log(x)+b1*Math.log(1-x)+afac)))/(1-.5*Math.min(1,u*(a1/x-b1/(1-x)))))<=0&&(x=.5*(x+t)),x>=1&&(x=.5*(x+t+1)),Math.abs(t)<EPS*x&&j>0)break}return x},jStat.ibeta=function ibeta(x,a,b){var bt=0===x||1===x?0:Math.exp(jStat.gammaln(a+b)-jStat.gammaln(a)-jStat.gammaln(b)+a*Math.log(x)+b*Math.log(1-x));return!(x<0||x>1)&&(x<(a+1)/(a+b+2)?bt*jStat.betacf(x,a,b)/a:1-bt*jStat.betacf(1-x,b,a)/b)},jStat.randn=function randn(n,m){var u,v,x,y,q;if(m||(m=n),n)return jStat.create(n,m,(function(){return jStat.randn()}));do{u=jStat._random_fn(),v=1.7156*(jStat._random_fn()-.5),q=(x=u-.449871)*x+(y=Math.abs(v)+.386595)*(.196*y-.25472*x)}while(q>.27597&&(q>.27846||v*v>-4*Math.log(u)*u*u));return v/u},jStat.randg=function randg(shape,n,m){var a1,a2,u,v,x,mat,oalph=shape;if(m||(m=n),shape||(shape=1),n)return(mat=jStat.zeros(n,m)).alter((function(){return jStat.randg(shape)})),mat;shape<1&&(shape+=1),a1=shape-1/3,a2=1/Math.sqrt(9*a1);do{do{v=1+a2*(x=jStat.randn())}while(v<=0);v*=v*v,u=jStat._random_fn()}while(u>1-.331*Math.pow(x,4)&&Math.log(u)>.5*x*x+a1*(1-v+Math.log(v)));if(shape==oalph)return a1*v;do{u=jStat._random_fn()}while(0===u);return Math.pow(u,1/oalph)*a1*v},function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat.map(this,(function(value){return jStat[passfunc](value)})))}}(funcs[i])}("gammaln gammafn factorial factorialln".split(" ")),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(){return jStat(jStat[passfunc].apply(null,arguments))}}(funcs[i])}("randn".split(" "))}(jStat,Math),function(jStat,Math){function betinc(x,a,b,eps){for(var c9,a0=0,b0=1,a1=1,b1=1,m9=0,a2=0;Math.abs((a1-a2)/a1)>eps;)a2=a1,b0=b1+(c9=-(a+m9)*(a+b+m9)*x/(a+2*m9)/(a+2*m9+1))*b0,a1=(a0=a1+c9*a0)+(c9=(m9+=1)*(b-m9)*x/(a+2*m9-1)/(a+2*m9))*a1,a0/=b1=b0+c9*b1,b0/=b1,a1/=b1,b1=1;return a1/a}function laplaceSign(x){return x/Math.abs(x)}function tukeyWprob(w,rr,cc){var nleg=12,ihalf=6,C1=-30,C2=-50,C3=60,bb=8,wlar=3,wincr1=2,wincr2=3,xleg=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],aleg=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],qsqz=.5*w;if(qsqz>=bb)return 1;var wincr,pr_w=2*jStat.normal.cdf(qsqz,0,1,1,0)-1;pr_w=pr_w>=Math.exp(C2/cc)?Math.pow(pr_w,cc):0;for(var blb=qsqz,binc=(bb-qsqz)/(wincr=w>wlar?wincr1:wincr2),bub=blb+binc,einsum=0,cc1=cc-1,wi=1;wi<=wincr;wi++){for(var elsum=0,a=.5*(bub+blb),b=.5*(bub-blb),jj=1;jj<=nleg;jj++){var j,ac=a+b*(ihalf<jj?xleg[(j=nleg-jj+1)-1]:-xleg[(j=jj)-1]),qexpo=ac*ac;if(qexpo>C3)break;var rinsum=2*jStat.normal.cdf(ac,0,1,1,0)*.5-2*jStat.normal.cdf(ac,w,1,1,0)*.5;rinsum>=Math.exp(C1/cc1)&&(elsum+=rinsum=aleg[j-1]*Math.exp(-.5*qexpo)*Math.pow(rinsum,cc1))}einsum+=elsum*=2*b*cc/Math.sqrt(2*Math.PI),blb=bub,bub+=binc}return(pr_w+=einsum)<=Math.exp(C1/rr)?0:(pr_w=Math.pow(pr_w,rr))>=1?1:pr_w}function tukeyQinv(p,c,v){var p0=.322232421088,q0=.099348462606,p1=-1,q1=.588581570495,p2=-.342242088547,q2=.531103462366,p3=-.204231210125,q3=.10353775285,p4=-453642210148e-16,q4=.0038560700634,c1=.8832,c2=.2368,c3=1.214,c4=1.208,c5=1.4142,vmax=120,ps=.5-.5*p,yi=Math.sqrt(Math.log(1/(ps*ps))),t=yi+((((yi*p4+p3)*yi+p2)*yi+p1)*yi+p0)/((((yi*q4+q3)*yi+q2)*yi+q1)*yi+q0);v<vmax&&(t+=(t*t*t+t)/v/4);var q=c1-c2*t;return v<vmax&&(q+=-c3/v+c4*t/v),t*(q*Math.log(c-1)+c5)}!function(list){for(var i=0;i<list.length;i++)!function(func){jStat[func]=function f(a,b,c){return this instanceof f?(this._a=a,this._b=b,this._c=c,this):new f(a,b,c)},jStat.fn[func]=function(a,b,c){var newthis=jStat[func](a,b,c);return newthis.data=this,newthis},jStat[func].prototype.sample=function(arr){var a=this._a,b=this._b,c=this._c;return arr?jStat.alter(arr,(function(){return jStat[func].sample(a,b,c)})):jStat[func].sample(a,b,c)},function(vals){for(var i=0;i<vals.length;i++)!function(fnfunc){jStat[func].prototype[fnfunc]=function(x){var a=this._a,b=this._b,c=this._c;return x||0===x||(x=this.data),"number"!=typeof x?jStat.fn.map.call(x,(function(x){return jStat[func][fnfunc](x,a,b,c)})):jStat[func][fnfunc](x,a,b,c)}}(vals[i])}("pdf cdf inv".split(" ")),function(vals){for(var i=0;i<vals.length;i++)!function(fnfunc){jStat[func].prototype[fnfunc]=function(){return jStat[func][fnfunc](this._a,this._b,this._c)}}(vals[i])}("mean median mode variance".split(" "))}(list[i])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),jStat.extend(jStat.beta,{pdf:function pdf(x,alpha,beta){return x>1||x<0?0:1==alpha&&1==beta?1:alpha<512&&beta<512?Math.pow(x,alpha-1)*Math.pow(1-x,beta-1)/jStat.betafn(alpha,beta):Math.exp((alpha-1)*Math.log(x)+(beta-1)*Math.log(1-x)-jStat.betaln(alpha,beta))},cdf:function cdf(x,alpha,beta){return x>1||x<0?1*(x>1):jStat.ibeta(x,alpha,beta)},inv:function inv(x,alpha,beta){return jStat.ibetainv(x,alpha,beta)},mean:function mean(alpha,beta){return alpha/(alpha+beta)},median:function median(alpha,beta){return jStat.ibetainv(.5,alpha,beta)},mode:function mode(alpha,beta){return(alpha-1)/(alpha+beta-2)},sample:function sample(alpha,beta){var u=jStat.randg(alpha);return u/(u+jStat.randg(beta))},variance:function variance(alpha,beta){return alpha*beta/(Math.pow(alpha+beta,2)*(alpha+beta+1))}}),jStat.extend(jStat.centralF,{pdf:function pdf(x,df1,df2){var p;return x<0?0:df1<=2?0===x&&df1<2?1/0:0===x&&2===df1?1:1/jStat.betafn(df1/2,df2/2)*Math.pow(df1/df2,df1/2)*Math.pow(x,df1/2-1)*Math.pow(1+df1/df2*x,-(df1+df2)/2):(p=df1*x/(df2+x*df1),df1*(df2/(df2+x*df1))/2*jStat.binomial.pdf((df1-2)/2,(df1+df2-2)/2,p))},cdf:function cdf(x,df1,df2){return x<0?0:jStat.ibeta(df1*x/(df1*x+df2),df1/2,df2/2)},inv:function inv(x,df1,df2){return df2/(df1*(1/jStat.ibetainv(x,df1/2,df2/2)-1))},mean:function mean(df1,df2){return df2>2?df2/(df2-2):void 0},mode:function mode(df1,df2){return df1>2?df2*(df1-2)/(df1*(df2+2)):void 0},sample:function sample(df1,df2){return 2*jStat.randg(df1/2)/df1/(2*jStat.randg(df2/2)/df2)},variance:function variance(df1,df2){if(!(df2<=4))return 2*df2*df2*(df1+df2-2)/(df1*(df2-2)*(df2-2)*(df2-4))}}),jStat.extend(jStat.cauchy,{pdf:function pdf(x,local,scale){return scale<0?0:scale/(Math.pow(x-local,2)+Math.pow(scale,2))/Math.PI},cdf:function cdf(x,local,scale){return Math.atan((x-local)/scale)/Math.PI+.5},inv:function(p,local,scale){return local+scale*Math.tan(Math.PI*(p-.5))},median:function median(local){return local},mode:function mode(local){return local},sample:function sample(local,scale){return jStat.randn()*Math.sqrt(1/(2*jStat.randg(.5)))*scale+local}}),jStat.extend(jStat.chisquare,{pdf:function pdf(x,dof){return x<0?0:0===x&&2===dof?.5:Math.exp((dof/2-1)*Math.log(x)-x/2-dof/2*Math.log(2)-jStat.gammaln(dof/2))},cdf:function cdf(x,dof){return x<0?0:jStat.lowRegGamma(dof/2,x/2)},inv:function(p,dof){return 2*jStat.gammapinv(p,.5*dof)},mean:function(dof){return dof},median:function median(dof){return dof*Math.pow(1-2/(9*dof),3)},mode:function mode(dof){return dof-2>0?dof-2:0},sample:function sample(dof){return 2*jStat.randg(dof/2)},variance:function variance(dof){return 2*dof}}),jStat.extend(jStat.exponential,{pdf:function pdf(x,rate){return x<0?0:rate*Math.exp(-rate*x)},cdf:function cdf(x,rate){return x<0?0:1-Math.exp(-rate*x)},inv:function(p,rate){return-Math.log(1-p)/rate},mean:function(rate){return 1/rate},median:function(rate){return 1/rate*Math.log(2)},mode:function mode(){return 0},sample:function sample(rate){return-1/rate*Math.log(jStat._random_fn())},variance:function(rate){return Math.pow(rate,-2)}}),jStat.extend(jStat.gamma,{pdf:function pdf(x,shape,scale){return x<0?0:0===x&&1===shape?1/scale:Math.exp((shape-1)*Math.log(x)-x/scale-jStat.gammaln(shape)-shape*Math.log(scale))},cdf:function cdf(x,shape,scale){return x<0?0:jStat.lowRegGamma(shape,x/scale)},inv:function(p,shape,scale){return jStat.gammapinv(p,shape)*scale},mean:function(shape,scale){return shape*scale},mode:function mode(shape,scale){if(shape>1)return(shape-1)*scale},sample:function sample(shape,scale){return jStat.randg(shape)*scale},variance:function variance(shape,scale){return shape*scale*scale}}),jStat.extend(jStat.invgamma,{pdf:function pdf(x,shape,scale){return x<=0?0:Math.exp(-(shape+1)*Math.log(x)-scale/x-jStat.gammaln(shape)+shape*Math.log(scale))},cdf:function cdf(x,shape,scale){return x<=0?0:1-jStat.lowRegGamma(shape,scale/x)},inv:function(p,shape,scale){return scale/jStat.gammapinv(1-p,shape)},mean:function(shape,scale){return shape>1?scale/(shape-1):void 0},mode:function mode(shape,scale){return scale/(shape+1)},sample:function sample(shape,scale){return scale/jStat.randg(shape)},variance:function variance(shape,scale){if(!(shape<=2))return scale*scale/((shape-1)*(shape-1)*(shape-2))}}),jStat.extend(jStat.kumaraswamy,{pdf:function pdf(x,alpha,beta){return 0===x&&1===alpha?beta:1===x&&1===beta?alpha:Math.exp(Math.log(alpha)+Math.log(beta)+(alpha-1)*Math.log(x)+(beta-1)*Math.log(1-Math.pow(x,alpha)))},cdf:function cdf(x,alpha,beta){return x<0?0:x>1?1:1-Math.pow(1-Math.pow(x,alpha),beta)},inv:function inv(p,alpha,beta){return Math.pow(1-Math.pow(1-p,1/beta),1/alpha)},mean:function(alpha,beta){return beta*jStat.gammafn(1+1/alpha)*jStat.gammafn(beta)/jStat.gammafn(1+1/alpha+beta)},median:function median(alpha,beta){return Math.pow(1-Math.pow(2,-1/beta),1/alpha)},mode:function mode(alpha,beta){if(alpha>=1&&beta>=1&&1!==alpha&&1!==beta)return Math.pow((alpha-1)/(alpha*beta-1),1/alpha)},variance:function variance(){throw new Error("variance not yet implemented")}}),jStat.extend(jStat.lognormal,{pdf:function pdf(x,mu,sigma){return x<=0?0:Math.exp(-Math.log(x)-.5*Math.log(2*Math.PI)-Math.log(sigma)-Math.pow(Math.log(x)-mu,2)/(2*sigma*sigma))},cdf:function cdf(x,mu,sigma){return x<0?0:.5+.5*jStat.erf((Math.log(x)-mu)/Math.sqrt(2*sigma*sigma))},inv:function(p,mu,sigma){return Math.exp(-1.4142135623730951*sigma*jStat.erfcinv(2*p)+mu)},mean:function mean(mu,sigma){return Math.exp(mu+sigma*sigma/2)},median:function median(mu){return Math.exp(mu)},mode:function mode(mu,sigma){return Math.exp(mu-sigma*sigma)},sample:function sample(mu,sigma){return Math.exp(jStat.randn()*sigma+mu)},variance:function variance(mu,sigma){return(Math.exp(sigma*sigma)-1)*Math.exp(2*mu+sigma*sigma)}}),jStat.extend(jStat.noncentralt,{pdf:function pdf(x,dof,ncp){var tol=1e-14;return Math.abs(ncp)<tol?jStat.studentt.pdf(x,dof):Math.abs(x)<tol?Math.exp(jStat.gammaln((dof+1)/2)-ncp*ncp/2-.5*Math.log(Math.PI*dof)-jStat.gammaln(dof/2)):dof/x*(jStat.noncentralt.cdf(x*Math.sqrt(1+2/dof),dof+2,ncp)-jStat.noncentralt.cdf(x,dof,ncp))},cdf:function cdf(x,dof,ncp){var tol=1e-14,min_iterations=200;if(Math.abs(ncp)<tol)return jStat.studentt.cdf(x,dof);var flip=!1;x<0&&(flip=!0,ncp=-ncp);for(var prob=jStat.normal.cdf(-ncp,0,1),value=tol+1,lastvalue=value,y=x*x/(x*x+dof),j=0,p=Math.exp(-ncp*ncp/2),q=Math.exp(-ncp*ncp/2-.5*Math.log(2)-jStat.gammaln(1.5))*ncp;j<min_iterations||lastvalue>tol||value>tol;)lastvalue=value,j>0&&(p*=ncp*ncp/(2*j),q*=ncp*ncp/(2*(j+.5))),prob+=.5*(value=p*jStat.beta.cdf(y,j+.5,dof/2)+q*jStat.beta.cdf(y,j+1,dof/2)),j++;return flip?1-prob:prob}}),jStat.extend(jStat.normal,{pdf:function pdf(x,mean,std){return Math.exp(-.5*Math.log(2*Math.PI)-Math.log(std)-Math.pow(x-mean,2)/(2*std*std))},cdf:function cdf(x,mean,std){return.5*(1+jStat.erf((x-mean)/Math.sqrt(2*std*std)))},inv:function(p,mean,std){return-1.4142135623730951*std*jStat.erfcinv(2*p)+mean},mean:function(mean){return mean},median:function median(mean){return mean},mode:function(mean){return mean},sample:function sample(mean,std){return jStat.randn()*std+mean},variance:function(mean,std){return std*std}}),jStat.extend(jStat.pareto,{pdf:function pdf(x,scale,shape){return x<scale?0:shape*Math.pow(scale,shape)/Math.pow(x,shape+1)},cdf:function cdf(x,scale,shape){return x<scale?0:1-Math.pow(scale/x,shape)},inv:function inv(p,scale,shape){return scale/Math.pow(1-p,1/shape)},mean:function mean(scale,shape){if(!(shape<=1))return shape*Math.pow(scale,shape)/(shape-1)},median:function median(scale,shape){return scale*(shape*Math.SQRT2)},mode:function mode(scale){return scale},variance:function(scale,shape){if(!(shape<=2))return scale*scale*shape/(Math.pow(shape-1,2)*(shape-2))}}),jStat.extend(jStat.studentt,{pdf:function pdf(x,dof){return dof=dof>1e100?1e100:dof,1/(Math.sqrt(dof)*jStat.betafn(.5,dof/2))*Math.pow(1+x*x/dof,-(dof+1)/2)},cdf:function cdf(x,dof){var dof2=dof/2;return jStat.ibeta((x+Math.sqrt(x*x+dof))/(2*Math.sqrt(x*x+dof)),dof2,dof2)},inv:function(p,dof){var x=jStat.ibetainv(2*Math.min(p,1-p),.5*dof,.5);return x=Math.sqrt(dof*(1-x)/x),p>.5?x:-x},mean:function mean(dof){return dof>1?0:void 0},median:function median(){return 0},mode:function mode(){return 0},sample:function sample(dof){return jStat.randn()*Math.sqrt(dof/(2*jStat.randg(dof/2)))},variance:function variance(dof){return dof>2?dof/(dof-2):dof>1?1/0:void 0}}),jStat.extend(jStat.weibull,{pdf:function pdf(x,scale,shape){return x<0||scale<0||shape<0?0:shape/scale*Math.pow(x/scale,shape-1)*Math.exp(-Math.pow(x/scale,shape))},cdf:function cdf(x,scale,shape){return x<0?0:1-Math.exp(-Math.pow(x/scale,shape))},inv:function(p,scale,shape){return scale*Math.pow(-Math.log(1-p),1/shape)},mean:function(scale,shape){return scale*jStat.gammafn(1+1/shape)},median:function median(scale,shape){return scale*Math.pow(Math.log(2),1/shape)},mode:function mode(scale,shape){return shape<=1?0:scale*Math.pow((shape-1)/shape,1/shape)},sample:function sample(scale,shape){return scale*Math.pow(-Math.log(jStat._random_fn()),1/shape)},variance:function variance(scale,shape){return scale*scale*jStat.gammafn(1+2/shape)-Math.pow(jStat.weibull.mean(scale,shape),2)}}),jStat.extend(jStat.uniform,{pdf:function pdf(x,a,b){return x<a||x>b?0:1/(b-a)},cdf:function cdf(x,a,b){return x<a?0:x<b?(x-a)/(b-a):1},inv:function(p,a,b){return a+p*(b-a)},mean:function mean(a,b){return.5*(a+b)},median:function median(a,b){return jStat.mean(a,b)},mode:function mode(){throw new Error("mode is not yet implemented")},sample:function sample(a,b){return a/2+b/2+(b/2-a/2)*(2*jStat._random_fn()-1)},variance:function variance(a,b){return Math.pow(b-a,2)/12}}),jStat.extend(jStat.binomial,{pdf:function pdf(k,n,p){return 0===p||1===p?n*p===k?1:0:jStat.combination(n,k)*Math.pow(p,k)*Math.pow(1-p,n-k)},cdf:function cdf(x,n,p){var betacdf,eps=1e-10;if(x<0)return 0;if(x>=n)return 1;if(p<0||p>1||n<=0)return NaN;var z=p,a=(x=Math.floor(x))+1,b=n-x,s=a+b,bt=Math.exp(jStat.gammaln(s)-jStat.gammaln(b)-jStat.gammaln(a)+a*Math.log(z)+b*Math.log(1-z));return betacdf=z<(a+1)/(s+2)?bt*betinc(z,a,b,eps):1-bt*betinc(1-z,b,a,eps),Math.round(1/eps*(1-betacdf))/(1/eps)}}),jStat.extend(jStat.negbin,{pdf:function pdf(k,r,p){return k===k>>>0&&(k<0?0:jStat.combination(k+r-1,r-1)*Math.pow(1-p,k)*Math.pow(p,r))},cdf:function cdf(x,r,p){var sum=0,k=0;if(x<0)return 0;for(;k<=x;k++)sum+=jStat.negbin.pdf(k,r,p);return sum}}),jStat.extend(jStat.hypgeom,{pdf:function pdf(k,N,m,n){if(k!=k|0)return!1;if(k<0||k<m-(N-n))return 0;if(k>n||k>m)return 0;if(2*m>N)return 2*n>N?jStat.hypgeom.pdf(N-m-n+k,N,N-m,N-n):jStat.hypgeom.pdf(n-k,N,N-m,n);if(2*n>N)return jStat.hypgeom.pdf(m-k,N,m,N-n);if(m<n)return jStat.hypgeom.pdf(k,N,n,m);for(var scaledPDF=1,samplesDone=0,i=0;i<k;i++){for(;scaledPDF>1&&samplesDone<n;)scaledPDF*=1-m/(N-samplesDone),samplesDone++;scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1))}for(;samplesDone<n;samplesDone++)scaledPDF*=1-m/(N-samplesDone);return Math.min(1,Math.max(0,scaledPDF))},cdf:function cdf(x,N,m,n){if(x<0||x<m-(N-n))return 0;if(x>=n||x>=m)return 1;if(2*m>N)return 2*n>N?jStat.hypgeom.cdf(N-m-n+x,N,N-m,N-n):1-jStat.hypgeom.cdf(n-x-1,N,N-m,n);if(2*n>N)return 1-jStat.hypgeom.cdf(m-x-1,N,m,N-n);if(m<n)return jStat.hypgeom.cdf(x,N,n,m);for(var scaledCDF=1,scaledPDF=1,samplesDone=0,i=0;i<x;i++){for(;scaledCDF>1&&samplesDone<n;){var factor=1-m/(N-samplesDone);scaledPDF*=factor,scaledCDF*=factor,samplesDone++}scaledCDF+=scaledPDF*=(n-i)*(m-i)/((i+1)*(N-m-n+i+1))}for(;samplesDone<n;samplesDone++)scaledCDF*=1-m/(N-samplesDone);return Math.min(1,Math.max(0,scaledCDF))}}),jStat.extend(jStat.poisson,{pdf:function pdf(k,l){return l<0||k%1!=0||k<0?0:Math.pow(l,k)*Math.exp(-l)/jStat.factorial(k)},cdf:function cdf(x,l){var sumarr=[],k=0;if(x<0)return 0;for(;k<=x;k++)sumarr.push(jStat.poisson.pdf(k,l));return jStat.sum(sumarr)},mean:function(l){return l},variance:function(l){return l},sampleSmall:function sampleSmall(l){var p=1,k=0,L=Math.exp(-l);do{k++,p*=jStat._random_fn()}while(p>L);return k-1},sampleLarge:function sampleLarge(l){var k,U,V,slam,loglam,a,b,invalpha,vr,us,lam=l;for(slam=Math.sqrt(lam),loglam=Math.log(lam),a=.02483*(b=.931+2.53*slam)-.059,invalpha=1.1239+1.1328/(b-3.4),vr=.9277-3.6224/(b-2);;){if(U=Math.random()-.5,V=Math.random(),us=.5-Math.abs(U),k=Math.floor((2*a/us+b)*U+lam+.43),us>=.07&&V<=vr)return k;if(!(k<0||us<.013&&V>us)&&Math.log(V)+Math.log(invalpha)-Math.log(a/(us*us)+b)<=k*loglam-lam-jStat.loggam(k+1))return k}},sample:function sample(l){return l<10?this.sampleSmall(l):this.sampleLarge(l)}}),jStat.extend(jStat.triangular,{pdf:function pdf(x,a,b,c){return b<=a||c<a||c>b?NaN:x<a||x>b?0:x<c?2*(x-a)/((b-a)*(c-a)):x===c?2/(b-a):2*(b-x)/((b-a)*(b-c))},cdf:function cdf(x,a,b,c){return b<=a||c<a||c>b?NaN:x<=a?0:x>=b?1:x<=c?Math.pow(x-a,2)/((b-a)*(c-a)):1-Math.pow(b-x,2)/((b-a)*(b-c))},inv:function inv(p,a,b,c){return b<=a||c<a||c>b?NaN:p<=(c-a)/(b-a)?a+(b-a)*Math.sqrt(p*((c-a)/(b-a))):a+(b-a)*(1-Math.sqrt((1-p)*(1-(c-a)/(b-a))))},mean:function mean(a,b,c){return(a+b+c)/3},median:function median(a,b,c){return c<=(a+b)/2?b-Math.sqrt((b-a)*(b-c))/Math.sqrt(2):c>(a+b)/2?a+Math.sqrt((b-a)*(c-a))/Math.sqrt(2):void 0},mode:function mode(a,b,c){return c},sample:function sample(a,b,c){var u=jStat._random_fn();return u<(c-a)/(b-a)?a+Math.sqrt(u*(b-a)*(c-a)):b-Math.sqrt((1-u)*(b-a)*(b-c))},variance:function variance(a,b,c){return(a*a+b*b+c*c-a*b-a*c-b*c)/18}}),jStat.extend(jStat.arcsine,{pdf:function pdf(x,a,b){return b<=a?NaN:x<=a||x>=b?0:2/Math.PI*Math.pow(Math.pow(b-a,2)-Math.pow(2*x-a-b,2),-.5)},cdf:function cdf(x,a,b){return x<a?0:x<b?2/Math.PI*Math.asin(Math.sqrt((x-a)/(b-a))):1},inv:function(p,a,b){return a+(.5-.5*Math.cos(Math.PI*p))*(b-a)},mean:function mean(a,b){return b<=a?NaN:(a+b)/2},median:function median(a,b){return b<=a?NaN:(a+b)/2},mode:function mode(){throw new Error("mode is not yet implemented")},sample:function sample(a,b){return(a+b)/2+(b-a)/2*Math.sin(2*Math.PI*jStat.uniform.sample(0,1))},variance:function variance(a,b){return b<=a?NaN:Math.pow(b-a,2)/8}}),jStat.extend(jStat.laplace,{pdf:function pdf(x,mu,b){return b<=0?0:Math.exp(-Math.abs(x-mu)/b)/(2*b)},cdf:function cdf(x,mu,b){return b<=0?0:x<mu?.5*Math.exp((x-mu)/b):1-.5*Math.exp(-(x-mu)/b)},mean:function(mu){return mu},median:function(mu){return mu},mode:function(mu){return mu},variance:function(mu,b){return 2*b*b},sample:function sample(mu,b){var u=jStat._random_fn()-.5;return mu-b*laplaceSign(u)*Math.log(1-2*Math.abs(u))}}),jStat.extend(jStat.tukey,{cdf:function cdf(q,nmeans,df){var rr=1,cc=nmeans,nlegq=16,ihalfq=8,eps1=-30,eps2=1e-14,dhaf=100,dquar=800,deigh=5e3,dlarg=25e3,ulen1=1,ulen2=.5,ulen3=.25,ulen4=.125,xlegq=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],alegq=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(q<=0)return 0;if(df<2||rr<1||cc<2)return NaN;if(!Number.isFinite(q))return 1;if(df>dlarg)return tukeyWprob(q,rr,cc);var ulen,f2=.5*df,f2lf=f2*Math.log(df)-df*Math.log(2)-jStat.gammaln(f2),f21=f2-1,ff4=.25*df;ulen=df<=dhaf?ulen1:df<=dquar?ulen2:df<=deigh?ulen3:ulen4,f2lf+=Math.log(ulen);for(var ans=0,i=1;i<=50;i++){for(var otsum=0,twa1=(2*i-1)*ulen,jj=1;jj<=nlegq;jj++){var j,t1;ihalfq<jj?(j=jj-ihalfq-1,t1=f2lf+f21*Math.log(twa1+xlegq[j]*ulen)-(xlegq[j]*ulen+twa1)*ff4):(j=jj-1,t1=f2lf+f21*Math.log(twa1-xlegq[j]*ulen)+(xlegq[j]*ulen-twa1)*ff4),t1>=eps1&&(otsum+=tukeyWprob(ihalfq<jj?q*Math.sqrt(.5*(xlegq[j]*ulen+twa1)):q*Math.sqrt(.5*(-xlegq[j]*ulen+twa1)),rr,cc)*alegq[j]*Math.exp(t1))}if(i*ulen>=1&&otsum<=eps2)break;ans+=otsum}if(otsum>eps2)throw new Error("tukey.cdf failed to converge");return ans>1&&(ans=1),ans},inv:function(p,nmeans,df){var eps=1e-4,maxiter=50;if(df<2||nmeans<2)return NaN;if(p<0||p>1)return NaN;if(0===p)return 0;if(1===p)return 1/0;var x1,x0=tukeyQinv(p,nmeans,df),valx0=jStat.tukey.cdf(x0,nmeans,df)-p;x1=valx0>0?Math.max(0,x0-1):x0+1;for(var ans,valx1=jStat.tukey.cdf(x1,nmeans,df)-p,iter=1;iter<maxiter;iter++)if(ans=x1-valx1*(x1-x0)/(valx1-valx0),valx0=valx1,x0=x1,ans<0&&(ans=0,valx1=-p),valx1=jStat.tukey.cdf(ans,nmeans,df)-p,x1=ans,Math.abs(x1-x0)<eps)return ans;throw new Error("tukey.inv failed to converge")}})}(jStat,Math),function(jStat,Math){var push=Array.prototype.push,isArray=jStat.utils.isArray;function isUsable(arg){return isArray(arg)||arg instanceof jStat}jStat.extend({add:function add(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.map(arr,(function(value,row,col){return value+arg[row][col]}))):jStat.map(arr,(function(value){return value+arg}))},subtract:function subtract(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.map(arr,(function(value,row,col){return value-arg[row][col]||0}))):jStat.map(arr,(function(value){return value-arg}))},divide:function divide(arr,arg){return isUsable(arg)?(isUsable(arg[0])||(arg=[arg]),jStat.multiply(arr,jStat.inv(arg))):jStat.map(arr,(function(value){return value/arg}))},multiply:function multiply(arr,arg){var row,col,nrescols,sum,nrow,ncol,res,rescols;if(void 0===arr.length&&void 0===arg.length)return arr*arg;if(nrow=arr.length,ncol=arr[0].length,res=jStat.zeros(nrow,nrescols=isUsable(arg)?arg[0].length:ncol),rescols=0,isUsable(arg)){for(;rescols<nrescols;rescols++)for(row=0;row<nrow;row++){for(sum=0,col=0;col<ncol;col++)sum+=arr[row][col]*arg[col][rescols];res[row][rescols]=sum}return 1===nrow&&1===rescols?res[0][0]:res}return jStat.map(arr,(function(value){return value*arg}))},outer:function outer(A,B){return jStat.multiply(A.map((function(t){return[t]})),[B])},dot:function dot(arr,arg){isUsable(arr[0])||(arr=[arr]),isUsable(arg[0])||(arg=[arg]);for(var sum,col,left=1===arr[0].length&&1!==arr.length?jStat.transpose(arr):arr,right=1===arg[0].length&&1!==arg.length?jStat.transpose(arg):arg,res=[],row=0,nrow=left.length,ncol=left[0].length;row<nrow;row++){for(res[row]=[],sum=0,col=0;col<ncol;col++)sum+=left[row][col]*right[row][col];res[row]=sum}return 1===res.length?res[0]:res},pow:function pow(arr,arg){return jStat.map(arr,(function(value){return Math.pow(value,arg)}))},exp:function exp(arr){return jStat.map(arr,(function(value){return Math.exp(value)}))},log:function exp(arr){return jStat.map(arr,(function(value){return Math.log(value)}))},abs:function abs(arr){return jStat.map(arr,(function(value){return Math.abs(value)}))},norm:function norm(arr,p){var nnorm=0,i=0;for(isNaN(p)&&(p=2),isUsable(arr[0])&&(arr=arr[0]);i<arr.length;i++)nnorm+=Math.pow(Math.abs(arr[i]),p);return Math.pow(nnorm,1/p)},angle:function angle(arr,arg){return Math.acos(jStat.dot(arr,arg)/(jStat.norm(arr)*jStat.norm(arg)))},aug:function aug(a,b){var i,newarr=[];for(i=0;i<a.length;i++)newarr.push(a[i].slice());for(i=0;i<newarr.length;i++)push.apply(newarr[i],b[i]);return newarr},inv:function inv(a){for(var j,rows=a.length,cols=a[0].length,b=jStat.identity(rows,cols),c=jStat.gauss_jordan(a,b),result=[],i=0;i<rows;i++)for(result[i]=[],j=cols;j<c[0].length;j++)result[i][j-cols]=c[i][j];return result},det:function det(a){if(2===a.length)return a[0][0]*a[1][1]-a[0][1]*a[1][0];for(var determinant=0,i=0;i<a.length;i++){for(var submatrix=[],row=1;row<a.length;row++){submatrix[row-1]=[];for(var col=0;col<a.length;col++)col<i?submatrix[row-1][col]=a[row][col]:col>i&&(submatrix[row-1][col-1]=a[row][col])}var sign=i%2?-1:1;determinant+=det(submatrix)*a[0][i]*sign}return determinant},gauss_elimination:function gauss_elimination(a,b){var maug,pivot,temp,k,i=0,j=0,n=a.length,m=a[0].length,factor=1,sum=0,x=[];for(maug=(a=jStat.aug(a,b))[0].length,i=0;i<n;i++){for(pivot=a[i][i],j=i,k=i+1;k<m;k++)pivot<Math.abs(a[k][i])&&(pivot=a[k][i],j=k);if(j!=i)for(k=0;k<maug;k++)temp=a[i][k],a[i][k]=a[j][k],a[j][k]=temp;for(j=i+1;j<n;j++)for(factor=a[j][i]/a[i][i],k=i;k<maug;k++)a[j][k]=a[j][k]-factor*a[i][k]}for(i=n-1;i>=0;i--){for(sum=0,j=i+1;j<=n-1;j++)sum+=x[j]*a[i][j];x[i]=(a[i][maug-1]-sum)/a[i][i]}return x},gauss_jordan:function gauss_jordan(a,b){var x,y,y2,m=jStat.aug(a,b),h=m.length,w=m[0].length,c=0;for(y=0;y<h;y++){var maxrow=y;for(y2=y+1;y2<h;y2++)Math.abs(m[y2][y])>Math.abs(m[maxrow][y])&&(maxrow=y2);var tmp=m[y];for(m[y]=m[maxrow],m[maxrow]=tmp,y2=y+1;y2<h;y2++)for(c=m[y2][y]/m[y][y],x=y;x<w;x++)m[y2][x]-=m[y][x]*c}for(y=h-1;y>=0;y--){for(c=m[y][y],y2=0;y2<y;y2++)for(x=w-1;x>y-1;x--)m[y2][x]-=m[y][x]*m[y2][y]/c;for(m[y][y]/=c,x=h;x<w;x++)m[y][x]/=c}return m},triaUpSolve:function triaUpSolve(A,b){var parts,size=A[0].length,x=jStat.zeros(1,size)[0],matrix_mode=!1;return null!=b[0].length&&(b=b.map((function(i){return i[0]})),matrix_mode=!0),jStat.arange(size-1,-1,-1).forEach((function(i){parts=jStat.arange(i+1,size).map((function(j){return x[j]*A[i][j]})),x[i]=(b[i]-jStat.sum(parts))/A[i][i]})),matrix_mode?x.map((function(i){return[i]})):x},triaLowSolve:function triaLowSolve(A,b){var parts,size=A[0].length,x=jStat.zeros(1,size)[0],matrix_mode=!1;return null!=b[0].length&&(b=b.map((function(i){return i[0]})),matrix_mode=!0),jStat.arange(size).forEach((function(i){parts=jStat.arange(i).map((function(j){return A[i][j]*x[j]})),x[i]=(b[i]-jStat.sum(parts))/A[i][i]})),matrix_mode?x.map((function(i){return[i]})):x},lu:function lu(A){var parts,size=A.length,L=jStat.identity(size),R=jStat.zeros(A.length,A[0].length);return jStat.arange(size).forEach((function(t){R[0][t]=A[0][t]})),jStat.arange(1,size).forEach((function(l){jStat.arange(l).forEach((function(i){parts=jStat.arange(i).map((function(jj){return L[l][jj]*R[jj][i]})),L[l][i]=(A[l][i]-jStat.sum(parts))/R[i][i]})),jStat.arange(l,size).forEach((function(j){parts=jStat.arange(l).map((function(jj){return L[l][jj]*R[jj][j]})),R[l][j]=A[parts.length][j]-jStat.sum(parts)}))})),[L,R]},cholesky:function cholesky(A){var parts,size=A.length,T=jStat.zeros(A.length,A[0].length);return jStat.arange(size).forEach((function(i){parts=jStat.arange(i).map((function(t){return Math.pow(T[i][t],2)})),T[i][i]=Math.sqrt(A[i][i]-jStat.sum(parts)),jStat.arange(i+1,size).forEach((function(j){parts=jStat.arange(i).map((function(t){return T[i][t]*T[j][t]})),T[j][i]=(A[i][j]-jStat.sum(parts))/T[i][i]}))})),T},gauss_jacobi:function gauss_jacobi(a,b,x,r){for(var xv,c,h,xk,i=0,j=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.multiply(jStat.inv(d),jStat.add(l,u)),-1),c=jStat.multiply(jStat.inv(d),b),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i++;return xk},gauss_seidel:function gauss_seidel(a,b,x,r){for(var j,xv,c,h,xk,i=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,l)),u),-1),c=jStat.multiply(jStat.inv(jStat.add(d,l)),b),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i+=1;return xk},SOR:function SOR(a,b,x,r,w){for(var j,xv,c,h,xk,i=0,n=a.length,l=[],u=[],d=[];i<n;i++)for(l[i]=[],u[i]=[],d[i]=[],j=0;j<n;j++)i>j?(l[i][j]=a[i][j],u[i][j]=d[i][j]=0):i<j?(u[i][j]=a[i][j],l[i][j]=d[i][j]=0):(d[i][j]=a[i][j],l[i][j]=u[i][j]=0);for(h=jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),jStat.subtract(jStat.multiply(d,1-w),jStat.multiply(u,w))),c=jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,jStat.multiply(l,w))),b),w),xv=x,xk=jStat.add(jStat.multiply(h,x),c),i=2;Math.abs(jStat.norm(jStat.subtract(xk,xv)))>r;)xv=xk,xk=jStat.add(jStat.multiply(h,xv),c),i++;return xk},householder:function householder(a){for(var alpha,r,k,j,m=a.length,n=a[0].length,i=0,w=[],p=[];i<m-1;i++){for(alpha=0,j=i+1;j<n;j++)alpha+=a[j][i]*a[j][i];for(alpha=(a[i+1][i]>0?-1:1)*Math.sqrt(alpha),r=Math.sqrt((alpha*alpha-a[i+1][i]*alpha)/2),(w=jStat.zeros(m,1))[i+1][0]=(a[i+1][i]-alpha)/(2*r),k=i+2;k<m;k++)w[k][0]=a[k][i]/(2*r);p=jStat.subtract(jStat.identity(m,n),jStat.multiply(jStat.multiply(w,jStat.transpose(w)),2)),a=jStat.multiply(p,jStat.multiply(a,p))}return a},QR:function(){var sum=jStat.sum,range=jStat.arange;function qr2(x){var i,j,k,n=x.length,p=x[0].length,r=jStat.zeros(p,p);for(x=jStat.copy(x),j=0;j<p;j++){for(r[j][j]=Math.sqrt(sum(range(n).map((function(i){return x[i][j]*x[i][j]})))),i=0;i<n;i++)x[i][j]=x[i][j]/r[j][j];for(k=j+1;k<p;k++)for(r[j][k]=sum(range(n).map((function(i){return x[i][j]*x[i][k]}))),i=0;i<n;i++)x[i][k]=x[i][k]-x[i][j]*r[j][k]}return[x,r]}return qr2}(),lstsq:function(){function R_I(A){var size=(A=jStat.copy(A)).length,I=jStat.identity(size);return jStat.arange(size-1,-1,-1).forEach((function(i){jStat.sliceAssign(I,{row:i},jStat.divide(jStat.slice(I,{row:i}),A[i][i])),jStat.sliceAssign(A,{row:i},jStat.divide(jStat.slice(A,{row:i}),A[i][i])),jStat.arange(i).forEach((function(j){var c=jStat.multiply(A[j][i],-1),Aj=jStat.slice(A,{row:j}),cAi=jStat.multiply(jStat.slice(A,{row:i}),c);jStat.sliceAssign(A,{row:j},jStat.add(Aj,cAi));var Ij=jStat.slice(I,{row:j}),cIi=jStat.multiply(jStat.slice(I,{row:i}),c);jStat.sliceAssign(I,{row:j},jStat.add(Ij,cIi))}))})),I}function qr_solve(A,b){var array_mode=!1;void 0===b[0].length&&(b=b.map((function(x){return[x]})),array_mode=!0);var QR=jStat.QR(A),Q=QR[0],R=QR[1],attrs=A[0].length,Q1=jStat.slice(Q,{col:{end:attrs}}),RI=R_I(jStat.slice(R,{row:{end:attrs}})),Q2=jStat.transpose(Q1);void 0===Q2[0].length&&(Q2=[Q2]);var x=jStat.multiply(jStat.multiply(RI,Q2),b);return void 0===x.length&&(x=[[x]]),array_mode?x.map((function(i){return i[0]})):x}return qr_solve}(),jacobi:function jacobi(a){for(var i,j,p,q,maxim,theta,s,condition=1,n=a.length,e=jStat.identity(n,n),ev=[];1===condition;){for(maxim=a[0][1],p=0,q=1,i=0;i<n;i++)for(j=0;j<n;j++)i!=j&&maxim<Math.abs(a[i][j])&&(maxim=Math.abs(a[i][j]),p=i,q=j);for(theta=a[p][p]===a[q][q]?a[p][q]>0?Math.PI/4:-Math.PI/4:Math.atan(2*a[p][q]/(a[p][p]-a[q][q]))/2,(s=jStat.identity(n,n))[p][p]=Math.cos(theta),s[p][q]=-Math.sin(theta),s[q][p]=Math.sin(theta),s[q][q]=Math.cos(theta),e=jStat.multiply(e,s),a=jStat.multiply(jStat.multiply(jStat.inv(s),a),s),condition=0,i=1;i<n;i++)for(j=1;j<n;j++)i!=j&&Math.abs(a[i][j])>.001&&(condition=1)}for(i=0;i<n;i++)ev.push(a[i][i]);return[e,ev]},rungekutta:function rungekutta(f,h,p,t_j,u_j,order){var k1,k2,k3;if(2===order)for(;t_j<=p;)u_j+=((k1=h*f(t_j,u_j))+(k2=h*f(t_j+h,u_j+k1)))/2,t_j+=h;if(4===order)for(;t_j<=p;)u_j+=((k1=h*f(t_j,u_j))+2*(k2=h*f(t_j+h/2,u_j+k1/2))+2*(k3=h*f(t_j+h/2,u_j+k2/2))+h*f(t_j+h,u_j+k3))/6,t_j+=h;return u_j},romberg:function romberg(f,a,b,order){for(var m,a1,j,k,I,i=0,h=(b-a)/2,x=[],h1=[],g=[];i<order/2;){for(I=f(a),j=a,k=0;j<=b;j+=h,k++)x[k]=j;for(m=x.length,j=1;j<m-1;j++)I+=(j%2!=0?4:2)*f(x[j]);I=h/3*(I+f(b)),g[i]=I,h/=2,i++}for(a1=g.length,m=1;1!==a1;){for(j=0;j<a1-1;j++)h1[j]=(Math.pow(4,m)*g[j+1]-g[j])/(Math.pow(4,m)-1);a1=h1.length,g=h1,h1=[],m++}return g},richardson:function richardson(X,f,x,h){function pos(X,x){for(var p,i=0,n=X.length;i<n;i++)X[i]===x&&(p=i);return p}for(var y1,y2,m,a,j,h_min=Math.abs(x-X[pos(X,x)+1]),i=0,g=[],h1=[];h>=h_min;)y1=pos(X,x+h),y2=pos(X,x),g[i]=(f[y1]-2*f[y2]+f[2*y2-y1])/(h*h),h/=2,i++;for(a=g.length,m=1;1!=a;){for(j=0;j<a-1;j++)h1[j]=(Math.pow(4,m)*g[j+1]-g[j])/(Math.pow(4,m)-1);a=h1.length,g=h1,h1=[],m++}return g},simpson:function simpson(f,a,b,n){for(var m,h=(b-a)/n,I=f(a),x=[],j=a,k=0,i=1;j<=b;j+=h,k++)x[k]=j;for(m=x.length;i<m-1;i++)I+=(i%2!=0?4:2)*f(x[i]);return h/3*(I+f(b))},hermite:function hermite(X,F,dF,value){for(var j,n=X.length,p=0,i=0,l=[],dl=[],A=[],B=[];i<n;i++){for(l[i]=1,j=0;j<n;j++)i!=j&&(l[i]*=(value-X[j])/(X[i]-X[j]));for(dl[i]=0,j=0;j<n;j++)i!=j&&(dl[i]+=1/(X[i]-X[j]));A[i]=(1-2*(value-X[i])*dl[i])*(l[i]*l[i]),B[i]=(value-X[i])*(l[i]*l[i]),p+=A[i]*F[i]+B[i]*dF[i]}return p},lagrange:function lagrange(X,F,value){for(var j,l,p=0,i=0,n=X.length;i<n;i++){for(l=F[i],j=0;j<n;j++)i!=j&&(l*=(value-X[j])/(X[i]-X[j]));p+=l}return p},cubic_spline:function cubic_spline(X,F,value){for(var j,n=X.length,i=0,A=[],B=[],alpha=[],c=[],h=[],b=[],d=[];i<n-1;i++)h[i]=X[i+1]-X[i];for(alpha[0]=0,i=1;i<n-1;i++)alpha[i]=3/h[i]*(F[i+1]-F[i])-3/h[i-1]*(F[i]-F[i-1]);for(i=1;i<n-1;i++)A[i]=[],B[i]=[],A[i][i-1]=h[i-1],A[i][i]=2*(h[i-1]+h[i]),A[i][i+1]=h[i],B[i][0]=alpha[i];for(c=jStat.multiply(jStat.inv(A),B),j=0;j<n-1;j++)b[j]=(F[j+1]-F[j])/h[j]-h[j]*(c[j+1][0]+2*c[j][0])/3,d[j]=(c[j+1][0]-c[j][0])/(3*h[j]);for(j=0;j<n&&!(X[j]>value);j++);return F[j-=1]+(value-X[j])*b[j]+jStat.sq(value-X[j])*c[j]+(value-X[j])*jStat.sq(value-X[j])*d[j]},gauss_quadrature:function gauss_quadrature(){throw new Error("gauss_quadrature not yet implemented")},PCA:function PCA(X){var j,temp1,m=X.length,n=X[0].length,i=0,u=[],D=[],result=[],temp2=[],Y=[],Bt=[],B=[],C=[],V=[],Vt=[];for(i=0;i<m;i++)u[i]=jStat.sum(X[i])/n;for(i=0;i<n;i++)for(B[i]=[],j=0;j<m;j++)B[i][j]=X[j][i]-u[j];for(B=jStat.transpose(B),i=0;i<m;i++)for(C[i]=[],j=0;j<m;j++)C[i][j]=jStat.dot([B[i]],[B[j]])/(n-1);for(V=(result=jStat.jacobi(C))[0],D=result[1],Vt=jStat.transpose(V),i=0;i<D.length;i++)for(j=i;j<D.length;j++)D[i]<D[j]&&(temp1=D[i],D[i]=D[j],D[j]=temp1,temp2=Vt[i],Vt[i]=Vt[j],Vt[j]=temp2);for(Bt=jStat.transpose(B),i=0;i<m;i++)for(Y[i]=[],j=0;j<Bt.length;j++)Y[i][j]=jStat.dot([Vt[i]],[Bt[j]]);return[X,D,Vt,Y]}}),function(funcs){for(var i=0;i<funcs.length;i++)!function(passfunc){jStat.fn[passfunc]=function(arg,func){var tmpthis=this;return func?(setTimeout((function(){func.call(tmpthis,jStat.fn[passfunc].call(tmpthis,arg))}),15),this):"number"==typeof jStat[passfunc](this,arg)?jStat[passfunc](this,arg):jStat(jStat[passfunc](this,arg))}}(funcs[i])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(jStat,Math),function(jStat,Math){var slice=[].slice,isNumber=jStat.utils.isNumber,isArray=jStat.utils.isArray;function differenceOfProportions(p1,n1,p2,n2){if(p1>1||p2>1||p1<=0||p2<=0)throw new Error("Proportions should be greater than 0 and less than 1");var pooled=(p1*n1+p2*n2)/(n1+n2);return(p1-p2)/Math.sqrt(pooled*(1-pooled)*(1/n1+1/n2))}jStat.extend({zscore:function zscore(){var args=slice.call(arguments);return isNumber(args[1])?(args[0]-args[1])/args[2]:(args[0]-jStat.mean(args[1]))/jStat.stdev(args[1],args[2])},ztest:function ztest(){var z,args=slice.call(arguments);return isArray(args[1])?(z=jStat.zscore(args[0],args[1],args[3]),1===args[2]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1)):args.length>2?(z=jStat.zscore(args[0],args[1],args[2]),1===args[3]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1)):(z=args[0],1===args[1]?jStat.normal.cdf(-Math.abs(z),0,1):2*jStat.normal.cdf(-Math.abs(z),0,1))}}),jStat.extend(jStat.fn,{zscore:function zscore(value,flag){return(value-this.mean())/this.stdev(flag)},ztest:function ztest(value,sides,flag){var zscore=Math.abs(this.zscore(value,flag));return 1===sides?jStat.normal.cdf(-zscore,0,1):2*jStat.normal.cdf(-zscore,0,1)}}),jStat.extend({tscore:function tscore(){var args=slice.call(arguments);return 4===args.length?(args[0]-args[1])/(args[2]/Math.sqrt(args[3])):(args[0]-jStat.mean(args[1]))/(jStat.stdev(args[1],!0)/Math.sqrt(args[1].length))},ttest:function ttest(){var tscore,args=slice.call(arguments);return 5===args.length?(tscore=Math.abs(jStat.tscore(args[0],args[1],args[2],args[3])),1===args[4]?jStat.studentt.cdf(-tscore,args[3]-1):2*jStat.studentt.cdf(-tscore,args[3]-1)):isNumber(args[1])?(tscore=Math.abs(args[0]),1==args[2]?jStat.studentt.cdf(-tscore,args[1]-1):2*jStat.studentt.cdf(-tscore,args[1]-1)):(tscore=Math.abs(jStat.tscore(args[0],args[1])),1==args[2]?jStat.studentt.cdf(-tscore,args[1].length-1):2*jStat.studentt.cdf(-tscore,args[1].length-1))}}),jStat.extend(jStat.fn,{tscore:function tscore(value){return(value-this.mean())/(this.stdev(!0)/Math.sqrt(this.cols()))},ttest:function ttest(value,sides){return 1===sides?1-jStat.studentt.cdf(Math.abs(this.tscore(value)),this.cols()-1):2*jStat.studentt.cdf(-Math.abs(this.tscore(value)),this.cols()-1)}}),jStat.extend({anovafscore:function anovafscore(){var expVar,sample,sampMean,sampSampMean,tmpargs,unexpVar,i,j,args=slice.call(arguments);if(1===args.length){for(tmpargs=new Array(args[0].length),i=0;i<args[0].length;i++)tmpargs[i]=args[0][i];args=tmpargs}for(sample=new Array,i=0;i<args.length;i++)sample=sample.concat(args[i]);for(sampMean=jStat.mean(sample),expVar=0,i=0;i<args.length;i++)expVar+=args[i].length*Math.pow(jStat.mean(args[i])-sampMean,2);for(expVar/=args.length-1,unexpVar=0,i=0;i<args.length;i++)for(sampSampMean=jStat.mean(args[i]),j=0;j<args[i].length;j++)unexpVar+=Math.pow(args[i][j]-sampSampMean,2);return expVar/(unexpVar/=sample.length-args.length)},anovaftest:function anovaftest(){var df1,df2,n,i,args=slice.call(arguments);if(isNumber(args[0]))return 1-jStat.centralF.cdf(args[0],args[1],args[2]);var anovafscore=jStat.anovafscore(args);for(df1=args.length-1,n=0,i=0;i<args.length;i++)n+=args[i].length;return df2=n-df1-1,1-jStat.centralF.cdf(anovafscore,df1,df2)},ftest:function ftest(fscore,df1,df2){return 1-jStat.centralF.cdf(fscore,df1,df2)}}),jStat.extend(jStat.fn,{anovafscore:function anovafscore(){return jStat.anovafscore(this.toArray())},anovaftes:function anovaftes(){var i,n=0;for(i=0;i<this.length;i++)n+=this[i].length;return jStat.ftest(this.anovafscore(),this.length-1,n-this.length)}}),jStat.extend({qscore:function qscore(){var mean1,mean2,n1,n2,sd,args=slice.call(arguments);return isNumber(args[0])?(mean1=args[0],mean2=args[1],n1=args[2],n2=args[3],sd=args[4]):(mean1=jStat.mean(args[0]),mean2=jStat.mean(args[1]),n1=args[0].length,n2=args[1].length,sd=args[2]),Math.abs(mean1-mean2)/(sd*Math.sqrt((1/n1+1/n2)/2))},qtest:function qtest(){var qscore,args=slice.call(arguments);3===args.length?(qscore=args[0],args=args.slice(1)):7===args.length?(qscore=jStat.qscore(args[0],args[1],args[2],args[3],args[4]),args=args.slice(5)):(qscore=jStat.qscore(args[0],args[1],args[2]),args=args.slice(3));var n=args[0],k=args[1];return 1-jStat.tukey.cdf(qscore,k,n-k)},tukeyhsd:function tukeyhsd(arrays){for(var sd=jStat.pooledstdev(arrays),means=arrays.map((function(arr){return jStat.mean(arr)})),n=arrays.reduce((function(n,arr){return n+arr.length}),0),results=[],i=0;i<arrays.length;++i)for(var j=i+1;j<arrays.length;++j){var p=jStat.qtest(means[i],means[j],arrays[i].length,arrays[j].length,sd,n,arrays.length);results.push([[i,j],p])}return results}}),jStat.extend({normalci:function normalci(){var change,args=slice.call(arguments),ans=new Array(2);return change=4===args.length?Math.abs(jStat.normal.inv(args[1]/2,0,1)*args[2]/Math.sqrt(args[3])):Math.abs(jStat.normal.inv(args[1]/2,0,1)*jStat.stdev(args[2])/Math.sqrt(args[2].length)),ans[0]=args[0]-change,ans[1]=args[0]+change,ans},tci:function tci(){var change,args=slice.call(arguments),ans=new Array(2);return change=4===args.length?Math.abs(jStat.studentt.inv(args[1]/2,args[3]-1)*args[2]/Math.sqrt(args[3])):Math.abs(jStat.studentt.inv(args[1]/2,args[2].length-1)*jStat.stdev(args[2],!0)/Math.sqrt(args[2].length)),ans[0]=args[0]-change,ans[1]=args[0]+change,ans},significant:function significant(pvalue,alpha){return pvalue<alpha}}),jStat.extend(jStat.fn,{normalci:function normalci(value,alpha){return jStat.normalci(value,alpha,this.toArray())},tci:function tci(value,alpha){return jStat.tci(value,alpha,this.toArray())}}),jStat.extend(jStat.fn,{oneSidedDifferenceOfProportions:function oneSidedDifferenceOfProportions(p1,n1,p2,n2){var z=differenceOfProportions(p1,n1,p2,n2);return jStat.ztest(z,1)},twoSidedDifferenceOfProportions:function twoSidedDifferenceOfProportions(p1,n1,p2,n2){var z=differenceOfProportions(p1,n1,p2,n2);return jStat.ztest(z,2)}})}(jStat,Math),jStat.models=function(){function sub_regress(exog){var var_count=exog[0].length;return jStat.arange(var_count).map((function(endog_index){var exog_index=jStat.arange(var_count).filter((function(i){return i!==endog_index}));return ols(jStat.col(exog,endog_index).map((function(x){return x[0]})),jStat.col(exog,exog_index))}))}function ols(endog,exog){var nobs=endog.length,df_model=exog[0].length-1,df_resid=nobs-df_model-1,coef=jStat.lstsq(exog,endog),predict=jStat.multiply(exog,coef.map((function(x){return[x]}))).map((function(p){return p[0]})),resid=jStat.subtract(endog,predict),ybar=jStat.mean(endog),SSE=jStat.sum(predict.map((function(f){return Math.pow(f-ybar,2)}))),SSR=jStat.sum(endog.map((function(y,i){return Math.pow(y-predict[i],2)}))),SST=SSE+SSR;return{exog,endog,nobs,df_model,df_resid,coef,predict,resid,ybar,SST,SSE,SSR,R2:SSE/SST}}function t_test(model){var subModelList=sub_regress(model.exog),sigmaHat=Math.sqrt(model.SSR/model.df_resid),seBetaHat=subModelList.map((function(mod){var SST=mod.SST,R2=mod.R2;return sigmaHat/Math.sqrt(SST*(1-R2))})),tStatistic=model.coef.map((function(coef,i){return(coef-0)/seBetaHat[i]})),pValue=tStatistic.map((function(t){var leftppf=jStat.studentt.cdf(t,model.df_resid);return 2*(leftppf>.5?1-leftppf:leftppf)})),c=jStat.studentt.inv(.975,model.df_resid),interval95=model.coef.map((function(coef,i){var d=c*seBetaHat[i];return[coef-d,coef+d]}));return{se:seBetaHat,t:tStatistic,p:pValue,sigmaHat,interval95}}function F_test(model){var x,n1,n2,F_statistic=model.R2/model.df_model/((1-model.R2)/model.df_resid);return{F_statistic,pvalue:1-(x=F_statistic,n1=model.df_model,n2=model.df_resid,jStat.beta.cdf(x/(n2/n1+x),n1/2,n2/2))}}function ols_wrap(endog,exog){var model=ols(endog,exog),ttest=t_test(model),ftest=F_test(model),adjust_R2=1-(1-model.R2)*((model.nobs-1)/model.df_resid);return model.t=ttest,model.f=ftest,model.adjust_R2=adjust_R2,model}return{ols:ols_wrap}}(),jStat.extend({buildxmatrix:function buildxmatrix(){for(var matrixRows=new Array(arguments.length),i=0;i<arguments.length;i++){var array=[1];matrixRows[i]=array.concat(arguments[i])}return jStat(matrixRows)},builddxmatrix:function builddxmatrix(){for(var matrixRows=new Array(arguments[0].length),i=0;i<arguments[0].length;i++){var array=[1];matrixRows[i]=array.concat(arguments[0][i])}return jStat(matrixRows)},buildjxmatrix:function buildjxmatrix(jMat){for(var pass=new Array(jMat.length),i=0;i<jMat.length;i++)pass[i]=jMat[i];return jStat.builddxmatrix(pass)},buildymatrix:function buildymatrix(array){return jStat(array).transpose()},buildjymatrix:function buildjymatrix(jMat){return jMat.transpose()},matrixmult:function matrixmult(A,B){var i,j,k,result,sum;if(A.cols()==B.rows()){if(B.rows()>1){for(result=[],i=0;i<A.rows();i++)for(result[i]=[],j=0;j<B.cols();j++){for(sum=0,k=0;k<A.cols();k++)sum+=A.toArray()[i][k]*B.toArray()[k][j];result[i][j]=sum}return jStat(result)}for(result=[],i=0;i<A.rows();i++)for(result[i]=[],j=0;j<B.cols();j++){for(sum=0,k=0;k<A.cols();k++)sum+=A.toArray()[i][k]*B.toArray()[j];result[i][j]=sum}return jStat(result)}},regress:function regress(jMatX,jMatY){var innerinv=jStat.xtranspxinv(jMatX),xtransp=jMatX.transpose(),next=jStat.matrixmult(jStat(innerinv),xtransp);return jStat.matrixmult(next,jMatY)},regresst:function regresst(jMatX,jMatY,sides){var beta=jStat.regress(jMatX,jMatY),compile={anova:{}},jMatYBar=jStat.jMatYBar(jMatX,beta);compile.yBar=jMatYBar;var yAverage=jMatY.mean();compile.anova.residuals=jStat.residuals(jMatY,jMatYBar),compile.anova.ssr=jStat.ssr(jMatYBar,yAverage),compile.anova.msr=compile.anova.ssr/(jMatX[0].length-1),compile.anova.sse=jStat.sse(jMatY,jMatYBar),compile.anova.mse=compile.anova.sse/(jMatY.length-(jMatX[0].length-1)-1),compile.anova.sst=jStat.sst(jMatY,yAverage),compile.anova.mst=compile.anova.sst/(jMatY.length-1),compile.anova.r2=1-compile.anova.sse/compile.anova.sst,compile.anova.r2<0&&(compile.anova.r2=0),compile.anova.fratio=compile.anova.msr/compile.anova.mse,compile.anova.pvalue=jStat.anovaftest(compile.anova.fratio,jMatX[0].length-1,jMatY.length-(jMatX[0].length-1)-1),compile.anova.rmse=Math.sqrt(compile.anova.mse),compile.anova.r2adj=1-compile.anova.mse/compile.anova.mst,compile.anova.r2adj<0&&(compile.anova.r2adj=0),compile.stats=new Array(jMatX[0].length);for(var sds,ts,ps,covar=jStat.xtranspxinv(jMatX),i=0;i<beta.length;i++)sds=Math.sqrt(compile.anova.mse*Math.abs(covar[i][i])),ts=Math.abs(beta[i]/sds),ps=jStat.ttest(ts,jMatY.length-jMatX[0].length-1,sides),compile.stats[i]=[beta[i],sds,ts,ps];return compile.regress=beta,compile},xtranspx:function xtranspx(jMatX){return jStat.matrixmult(jMatX.transpose(),jMatX)},xtranspxinv:function xtranspxinv(jMatX){var inner=jStat.matrixmult(jMatX.transpose(),jMatX);return jStat.inv(inner)},jMatYBar:function jMatYBar(jMatX,beta){var yBar=jStat.matrixmult(jMatX,beta);return new jStat(yBar)},residuals:function residuals(jMatY,jMatYBar){return jStat.matrixsubtract(jMatY,jMatYBar)},ssr:function ssr(jMatYBar,yAverage){for(var ssr=0,i=0;i<jMatYBar.length;i++)ssr+=Math.pow(jMatYBar[i]-yAverage,2);return ssr},sse:function sse(jMatY,jMatYBar){for(var sse=0,i=0;i<jMatY.length;i++)sse+=Math.pow(jMatY[i]-jMatYBar[i],2);return sse},sst:function sst(jMatY,yAverage){for(var sst=0,i=0;i<jMatY.length;i++)sst+=Math.pow(jMatY[i]-yAverage,2);return sst},matrixsubtract:function matrixsubtract(A,B){for(var ans=new Array(A.length),i=0;i<A.length;i++){ans[i]=new Array(A[i].length);for(var j=0;j<A[i].length;j++)ans[i][j]=A[i][j]-B[i][j]}return jStat(ans)}}),jStat.jStat=jStat,jStat)},"./node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=t,exports.Memo=r,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isAsyncMode=function(a){return A(a)||z(a)===l},exports.isConcurrentMode=A,exports.isContextConsumer=function(a){return z(a)===k},exports.isContextProvider=function(a){return z(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return z(a)===n},exports.isFragment=function(a){return z(a)===e},exports.isLazy=function(a){return z(a)===t},exports.isMemo=function(a){return z(a)===r},exports.isPortal=function(a){return z(a)===d},exports.isProfiler=function(a){return z(a)===g},exports.isStrictMode=function(a){return z(a)===f},exports.isSuspense=function(a){return z(a)===p},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)},exports.typeOf=z},"./node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-select/dist/react-select.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function objectSpread2_objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_require__.d(__webpack_exports__,{ZP:()=>StateManagedSelect$1});var react=__webpack_require__("./node_modules/react/index.js"),react_namespaceObject=__webpack_require__.t(react,2),_excluded=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function extends_extends(){return extends_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},extends_extends.apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var emotion_sheet_esm_StyleSheet=function(){function StyleSheet(options){var _this=this;this._insertTag=function(tag){var before;before=0===_this.tags.length?_this.insertionPoint?_this.insertionPoint.nextSibling:_this.prepend?_this.container.firstChild:_this.before:_this.tags[_this.tags.length-1].nextSibling,_this.container.insertBefore(tag,before),_this.tags.push(tag)},this.isSpeedy=void 0===options.speedy||options.speedy,this.tags=[],this.ctr=0,this.nonce=options.nonce,this.key=options.key,this.container=options.container,this.prepend=options.prepend,this.insertionPoint=options.insertionPoint,this.before=null}var _proto=StyleSheet.prototype;return _proto.hydrate=function hydrate(nodes){nodes.forEach(this._insertTag)},_proto.insert=function insert(rule){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function createStyleElement(options){var tag=document.createElement("style");return tag.setAttribute("data-emotion",options.key),void 0!==options.nonce&&tag.setAttribute("nonce",options.nonce),tag.appendChild(document.createTextNode("")),tag.setAttribute("data-s",""),tag}(this));var tag=this.tags[this.tags.length-1];if(this.isSpeedy){var sheet=function sheetForTag(tag){if(tag.sheet)return tag.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===tag)return document.styleSheets[i]}(tag);try{sheet.insertRule(rule,sheet.cssRules.length)}catch(e){}}else tag.appendChild(document.createTextNode(rule));this.ctr++},_proto.flush=function flush(){this.tags.forEach((function(tag){var _tag$parentNode;return null==(_tag$parentNode=tag.parentNode)?void 0:_tag$parentNode.removeChild(tag)})),this.tags=[],this.ctr=0},StyleSheet}(),abs=Math.abs,Utility_from=String.fromCharCode,Utility_assign=Object.assign;function Utility_trim(value){return value.trim()}function Utility_replace(value,pattern,replacement){return value.replace(pattern,replacement)}function indexof(value,search){return value.indexOf(search)}function Utility_charat(value,index){return 0|value.charCodeAt(index)}function Utility_substr(value,begin,end){return value.slice(begin,end)}function Utility_strlen(value){return value.length}function Utility_sizeof(value){return value.length}function Utility_append(value,array){return array.push(value),value}var line=1,column=1,Tokenizer_length=0,Tokenizer_position=0,character=0,characters="";function node(value,root,parent,type,props,children,length){return{value,root,parent,type,props,children,line,column,length,return:""}}function Tokenizer_copy(root,props){return Utility_assign(node("",null,null,"",null,null,0),root,{length:-root.length},props)}function prev(){return character=Tokenizer_position>0?Utility_charat(characters,--Tokenizer_position):0,column--,10===character&&(column=1,line--),character}function Tokenizer_next(){return character=Tokenizer_position<Tokenizer_length?Utility_charat(characters,Tokenizer_position++):0,column++,10===character&&(column=1,line++),character}function Tokenizer_peek(){return Utility_charat(characters,Tokenizer_position)}function caret(){return Tokenizer_position}function slice(begin,end){return Utility_substr(characters,begin,end)}function Tokenizer_token(type){switch(type){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tokenizer_alloc(value){return line=column=1,Tokenizer_length=Utility_strlen(characters=value),Tokenizer_position=0,[]}function Tokenizer_dealloc(value){return characters="",value}function Tokenizer_delimit(type){return Utility_trim(slice(Tokenizer_position-1,delimiter(91===type?type+2:40===type?type+1:type)))}function whitespace(type){for(;(character=Tokenizer_peek())&&character<33;)Tokenizer_next();return Tokenizer_token(type)>2||Tokenizer_token(character)>3?"":" "}function escaping(index,count){for(;--count&&Tokenizer_next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(index,caret()+(count<6&&32==Tokenizer_peek()&&32==Tokenizer_next()))}function delimiter(type){for(;Tokenizer_next();)switch(character){case type:return Tokenizer_position;case 34:case 39:34!==type&&39!==type&&delimiter(character);break;case 40:41===type&&delimiter(type);break;case 92:Tokenizer_next()}return Tokenizer_position}function commenter(type,index){for(;Tokenizer_next()&&type+character!==57&&(type+character!==84||47!==Tokenizer_peek()););return"/*"+slice(index,Tokenizer_position-1)+"*"+Utility_from(47===type?type:Tokenizer_next())}function Tokenizer_identifier(index){for(;!Tokenizer_token(Tokenizer_peek());)Tokenizer_next();return slice(index,Tokenizer_position)}var Enum_MS="-ms-",Enum_MOZ="-moz-",Enum_WEBKIT="-webkit-",Enum_COMMENT="comm",Enum_RULESET="rule",Enum_DECLARATION="decl";function Serializer_serialize(children,callback){for(var output="",length=Utility_sizeof(children),i=0;i<length;i++)output+=callback(children[i],i,children,callback)||"";return output}function Serializer_stringify(element,index,children,callback){switch(element.type){case"@layer":if(element.children.length)break;case"@import":case Enum_DECLARATION:return element.return=element.return||element.value;case Enum_COMMENT:return"";case"@keyframes":return element.return=element.value+"{"+Serializer_serialize(element.children,callback)+"}";case Enum_RULESET:element.value=element.props.join(",")}return Utility_strlen(children=Serializer_serialize(element.children,callback))?element.return=element.value+"{"+children+"}":""}function Parser_compile(value){return Tokenizer_dealloc(parse("",null,null,null,[""],value=Tokenizer_alloc(value),0,[0],value))}function parse(value,root,parent,rule,rules,rulesets,pseudo,points,declarations){for(var index=0,offset=0,length=pseudo,atrule=0,property=0,previous=0,variable=1,scanning=1,ampersand=1,character=0,type="",props=rules,children=rulesets,reference=rule,characters=type;scanning;)switch(previous=character,character=Tokenizer_next()){case 40:if(108!=previous&&58==Utility_charat(characters,length-1)){-1!=indexof(characters+=Utility_replace(Tokenizer_delimit(character),"&","&\f"),"&\f")&&(ampersand=-1);break}case 34:case 39:case 91:characters+=Tokenizer_delimit(character);break;case 9:case 10:case 13:case 32:characters+=whitespace(previous);break;case 92:characters+=escaping(caret()-1,7);continue;case 47:switch(Tokenizer_peek()){case 42:case 47:Utility_append(comment(commenter(Tokenizer_next(),caret()),root,parent),declarations);break;default:characters+="/"}break;case 123*variable:points[index++]=Utility_strlen(characters)*ampersand;case 125*variable:case 59:case 0:switch(character){case 0:case 125:scanning=0;case 59+offset:-1==ampersand&&(characters=Utility_replace(characters,/\f/g,"")),property>0&&Utility_strlen(characters)-length&&Utility_append(property>32?declaration(characters+";",rule,parent,length-1):declaration(Utility_replace(characters," ","")+";",rule,parent,length-2),declarations);break;case 59:characters+=";";default:if(Utility_append(reference=ruleset(characters,root,parent,index,offset,rules,points,type,props=[],children=[],length),rulesets),123===character)if(0===offset)parse(characters,root,reference,reference,props,rulesets,length,points,children);else switch(99===atrule&&110===Utility_charat(characters,3)?100:atrule){case 100:case 108:case 109:case 115:parse(value,reference,reference,rule&&Utility_append(ruleset(value,reference,reference,0,0,rules,points,type,rules,props=[],length),children),rules,children,length,points,rule?props:children);break;default:parse(characters,reference,reference,reference,[""],children,0,points,children)}}index=offset=property=0,variable=ampersand=1,type=characters="",length=pseudo;break;case 58:length=1+Utility_strlen(characters),property=previous;default:if(variable<1)if(123==character)--variable;else if(125==character&&0==variable++&&125==prev())continue;switch(characters+=Utility_from(character),character*variable){case 38:ampersand=offset>0?1:(characters+="\f",-1);break;case 44:points[index++]=(Utility_strlen(characters)-1)*ampersand,ampersand=1;break;case 64:45===Tokenizer_peek()&&(characters+=Tokenizer_delimit(Tokenizer_next())),atrule=Tokenizer_peek(),offset=length=Utility_strlen(type=characters+=Tokenizer_identifier(caret())),character++;break;case 45:45===previous&&2==Utility_strlen(characters)&&(variable=0)}}return rulesets}function ruleset(value,root,parent,index,offset,rules,points,type,props,children,length){for(var post=offset-1,rule=0===offset?rules:[""],size=Utility_sizeof(rule),i=0,j=0,k=0;i<index;++i)for(var x=0,y=Utility_substr(value,post+1,post=abs(j=points[i])),z=value;x<size;++x)(z=Utility_trim(j>0?rule[x]+" "+y:Utility_replace(y,/&\f/g,rule[x])))&&(props[k++]=z);return node(value,root,parent,0===offset?Enum_RULESET:type,props,children,length)}function comment(value,root,parent){return node(value,root,parent,Enum_COMMENT,Utility_from(function Tokenizer_char(){return character}()),Utility_substr(value,2,-2),0)}function declaration(value,root,parent,length){return node(value,root,parent,Enum_DECLARATION,Utility_substr(value,0,length),Utility_substr(value,length+1,-1),length)}var identifierWithPointTracking=function identifierWithPointTracking(begin,points,index){for(var previous=0,character=0;previous=character,character=Tokenizer_peek(),38===previous&&12===character&&(points[index]=1),!Tokenizer_token(character);)Tokenizer_next();return slice(begin,Tokenizer_position)},getRules=function getRules(value,points){return Tokenizer_dealloc(function toRules(parsed,points){var index=-1,character=44;do{switch(Tokenizer_token(character)){case 0:38===character&&12===Tokenizer_peek()&&(points[index]=1),parsed[index]+=identifierWithPointTracking(Tokenizer_position-1,points,index);break;case 2:parsed[index]+=Tokenizer_delimit(character);break;case 4:if(44===character){parsed[++index]=58===Tokenizer_peek()?"&\f":"",points[index]=parsed[index].length;break}default:parsed[index]+=Utility_from(character)}}while(character=Tokenizer_next());return parsed}(Tokenizer_alloc(value),points))},fixedElements=new WeakMap,compat=function compat(element){if("rule"===element.type&&element.parent&&!(element.length<1)){for(var value=element.value,parent=element.parent,isImplicitRule=element.column===parent.column&&element.line===parent.line;"rule"!==parent.type;)if(!(parent=parent.parent))return;if((1!==element.props.length||58===value.charCodeAt(0)||fixedElements.get(parent))&&!isImplicitRule){fixedElements.set(element,!0);for(var points=[],rules=getRules(value,points),parentRules=parent.props,i=0,k=0;i<rules.length;i++)for(var j=0;j<parentRules.length;j++,k++)element.props[k]=points[i]?rules[i].replace(/&\f/g,parentRules[j]):parentRules[j]+" "+rules[i]}}},removeLabel=function removeLabel(element){if("decl"===element.type){var value=element.value;108===value.charCodeAt(0)&&98===value.charCodeAt(2)&&(element.return="",element.value="")}};function emotion_cache_browser_esm_prefix(value,length){switch(function hash(value,length){return 45^Utility_charat(value,0)?(((length<<2^Utility_charat(value,0))<<2^Utility_charat(value,1))<<2^Utility_charat(value,2))<<2^Utility_charat(value,3):0}(value,length)){case 5103:return Enum_WEBKIT+"print-"+value+value;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Enum_WEBKIT+value+value;case 5349:case 4246:case 4810:case 6968:case 2756:return Enum_WEBKIT+value+Enum_MOZ+value+Enum_MS+value+value;case 6828:case 4268:return Enum_WEBKIT+value+Enum_MS+value+value;case 6165:return Enum_WEBKIT+value+Enum_MS+"flex-"+value+value;case 5187:return Enum_WEBKIT+value+Utility_replace(value,/(\w+).+(:[^]+)/,Enum_WEBKIT+"box-$1$2"+Enum_MS+"flex-$1$2")+value;case 5443:return Enum_WEBKIT+value+Enum_MS+"flex-item-"+Utility_replace(value,/flex-|-self/,"")+value;case 4675:return Enum_WEBKIT+value+Enum_MS+"flex-line-pack"+Utility_replace(value,/align-content|flex-|-self/,"")+value;case 5548:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,"shrink","negative")+value;case 5292:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,"basis","preferred-size")+value;case 6060:return Enum_WEBKIT+"box-"+Utility_replace(value,"-grow","")+Enum_WEBKIT+value+Enum_MS+Utility_replace(value,"grow","positive")+value;case 4554:return Enum_WEBKIT+Utility_replace(value,/([^-])(transform)/g,"$1"+Enum_WEBKIT+"$2")+value;case 6187:return Utility_replace(Utility_replace(Utility_replace(value,/(zoom-|grab)/,Enum_WEBKIT+"$1"),/(image-set)/,Enum_WEBKIT+"$1"),value,"")+value;case 5495:case 3959:return Utility_replace(value,/(image-set\([^]*)/,Enum_WEBKIT+"$1$`$1");case 4968:return Utility_replace(Utility_replace(value,/(.+:)(flex-)?(.*)/,Enum_WEBKIT+"box-pack:$3"+Enum_MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Enum_WEBKIT+value+value;case 4095:case 3583:case 4068:case 2532:return Utility_replace(value,/(.+)-inline(.+)/,Enum_WEBKIT+"$1$2")+value;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Utility_strlen(value)-1-length>6)switch(Utility_charat(value,length+1)){case 109:if(45!==Utility_charat(value,length+4))break;case 102:return Utility_replace(value,/(.+:)(.+)-([^]+)/,"$1"+Enum_WEBKIT+"$2-$3$1"+Enum_MOZ+(108==Utility_charat(value,length+3)?"$3":"$2-$3"))+value;case 115:return~indexof(value,"stretch")?emotion_cache_browser_esm_prefix(Utility_replace(value,"stretch","fill-available"),length)+value:value}break;case 4949:if(115!==Utility_charat(value,length+1))break;case 6444:switch(Utility_charat(value,Utility_strlen(value)-3-(~indexof(value,"!important")&&10))){case 107:return Utility_replace(value,":",":"+Enum_WEBKIT)+value;case 101:return Utility_replace(value,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Enum_WEBKIT+(45===Utility_charat(value,14)?"inline-":"")+"box$3$1"+Enum_WEBKIT+"$2$3$1"+Enum_MS+"$2box$3")+value}break;case 5936:switch(Utility_charat(value,length+11)){case 114:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"tb")+value;case 108:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"tb-rl")+value;case 45:return Enum_WEBKIT+value+Enum_MS+Utility_replace(value,/[svh]\w+-[tblr]{2}/,"lr")+value}return Enum_WEBKIT+value+Enum_MS+value+value}return value}var defaultStylisPlugins=[function prefixer(element,index,children,callback){if(element.length>-1&&!element.return)switch(element.type){case Enum_DECLARATION:element.return=emotion_cache_browser_esm_prefix(element.value,element.length);break;case"@keyframes":return Serializer_serialize([Tokenizer_copy(element,{value:Utility_replace(element.value,"@","@"+Enum_WEBKIT)})],callback);case Enum_RULESET:if(element.length)return function Utility_combine(array,callback){return array.map(callback).join("")}(element.props,(function(value){switch(function Utility_match(value,pattern){return(value=pattern.exec(value))?value[0]:value}(value,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(read-\w+)/,":"+Enum_MOZ+"$1")]})],callback);case"::placeholder":return Serializer_serialize([Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,":"+Enum_WEBKIT+"input-$1")]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,":"+Enum_MOZ+"$1")]}),Tokenizer_copy(element,{props:[Utility_replace(value,/:(plac\w+)/,Enum_MS+"input-$1")]})],callback)}return""}))}}],emotion_cache_browser_esm_createCache=function createCache(options){var key=options.key;if("css"===key){var ssrStyles=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ssrStyles,(function(node){-1!==node.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(node),node.setAttribute("data-s",""))}))}var container,_insert,stylisPlugins=options.stylisPlugins||defaultStylisPlugins,inserted={},nodesToHydrate=[];container=options.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+key+' "]'),(function(node){for(var attrib=node.getAttribute("data-emotion").split(" "),i=1;i<attrib.length;i++)inserted[attrib[i]]=!0;nodesToHydrate.push(node)}));var currentSheet,callback,finalizingPlugins=[Serializer_stringify,(callback=function(rule){currentSheet.insert(rule)},function(element){element.root||(element=element.return)&&callback(element)})],serializer=function Middleware_middleware(collection){var length=Utility_sizeof(collection);return function(element,index,children,callback){for(var output="",i=0;i<length;i++)output+=collection[i](element,index,children,callback)||"";return output}}([compat,removeLabel].concat(stylisPlugins,finalizingPlugins));_insert=function insert(selector,serialized,sheet,shouldCache){currentSheet=sheet,function stylis(styles){Serializer_serialize(Parser_compile(styles),serializer)}(selector?selector+"{"+serialized.styles+"}":serialized.styles),shouldCache&&(cache.inserted[serialized.name]=!0)};var cache={key,sheet:new emotion_sheet_esm_StyleSheet({key,container,nonce:options.nonce,speedy:options.speedy,prepend:options.prepend,insertionPoint:options.insertionPoint}),nonce:options.nonce,inserted,registered:{},insert:_insert};return cache.sheet.hydrate(nodesToHydrate),cache};var emotion_utils_browser_esm_registerStyles=function registerStyles(cache,serialized,isStringTag){var className=cache.key+"-"+serialized.name;!1===isStringTag&&void 0===cache.registered[className]&&(cache.registered[className]=serialized.styles)};var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(fn){var cache=Object.create(null);return function(arg){return void 0===cache[arg]&&(cache[arg]=fn(arg)),cache[arg]}}var emotion_serialize_esm_isDevelopment=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function isCustomProperty(property){return 45===property.charCodeAt(1)},isProcessableValue=function isProcessableValue(value){return null!=value&&"boolean"!=typeof value},processStyleName=memoize((function(styleName){return isCustomProperty(styleName)?styleName:styleName.replace(hyphenateRegex,"-$&").toLowerCase()})),processStyleValue=function processStyleValue(key,value){switch(key){case"animation":case"animationName":if("string"==typeof value)return value.replace(animationRegex,(function(match,p1,p2){return cursor={name:p1,styles:p2,next:cursor},p1}))}return 1===unitlessKeys[key]||isCustomProperty(key)||"number"!=typeof value||0===value?value:value+"px"},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(mergedProps,registered,interpolation){if(null==interpolation)return"";var componentSelector=interpolation;if(void 0!==componentSelector.__emotion_styles)return componentSelector;switch(typeof interpolation){case"boolean":return"";case"object":var keyframes=interpolation;if(1===keyframes.anim)return cursor={name:keyframes.name,styles:keyframes.styles,next:cursor},keyframes.name;var serializedStyles=interpolation;if(void 0!==serializedStyles.styles){var next=serializedStyles.next;if(void 0!==next)for(;void 0!==next;)cursor={name:next.name,styles:next.styles,next:cursor},next=next.next;return serializedStyles.styles+";"}return function createStringFromObject(mergedProps,registered,obj){var string="";if(Array.isArray(obj))for(var i=0;i<obj.length;i++)string+=handleInterpolation(mergedProps,registered,obj[i])+";";else for(var key in obj){var value=obj[key];if("object"!=typeof value){var asString=value;null!=registered&&void 0!==registered[asString]?string+=key+"{"+registered[asString]+"}":isProcessableValue(asString)&&(string+=processStyleName(key)+":"+processStyleValue(key,asString)+";")}else{if("NO_COMPONENT_SELECTOR"===key&&emotion_serialize_esm_isDevelopment)throw new Error(noComponentSelectorMessage);if(!Array.isArray(value)||"string"!=typeof value[0]||null!=registered&&void 0!==registered[value[0]]){var interpolated=handleInterpolation(mergedProps,registered,value);switch(key){case"animation":case"animationName":string+=processStyleName(key)+":"+interpolated+";";break;default:string+=key+"{"+interpolated+"}"}}else for(var _i=0;_i<value.length;_i++)isProcessableValue(value[_i])&&(string+=processStyleName(key)+":"+processStyleValue(key,value[_i])+";")}}return string}(mergedProps,registered,interpolation);case"function":if(void 0!==mergedProps){var previousCursor=cursor,result=interpolation(mergedProps);return cursor=previousCursor,handleInterpolation(mergedProps,registered,result)}}var asString=interpolation;if(null==registered)return asString;var cached=registered[asString];return void 0!==cached?cached:asString}var cursor,labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g;function emotion_serialize_esm_serializeStyles(args,registered,mergedProps){if(1===args.length&&"object"==typeof args[0]&&null!==args[0]&&void 0!==args[0].styles)return args[0];var stringMode=!0,styles="";cursor=void 0;var strings=args[0];null==strings||void 0===strings.raw?(stringMode=!1,styles+=handleInterpolation(mergedProps,registered,strings)):styles+=strings[0];for(var i=1;i<args.length;i++){if(styles+=handleInterpolation(mergedProps,registered,args[i]),stringMode)styles+=strings[i]}labelPattern.lastIndex=0;for(var match,identifierName="";null!==(match=labelPattern.exec(styles));)identifierName+="-"+match[1];var name=function murmur2(str){for(var k,h=0,i=0,len=str.length;len>=4;++i,len-=4)k=1540483477*(65535&(k=255&str.charCodeAt(i)|(255&str.charCodeAt(++i))<<8|(255&str.charCodeAt(++i))<<16|(255&str.charCodeAt(++i))<<24))+(59797*(k>>>16)<<16),h=1540483477*(65535&(k^=k>>>24))+(59797*(k>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(len){case 3:h^=(255&str.charCodeAt(i+2))<<16;case 2:h^=(255&str.charCodeAt(i+1))<<8;case 1:h=1540483477*(65535&(h^=255&str.charCodeAt(i)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(styles)+identifierName;return{name,styles,next:cursor}}var useInsertionEffect=!!react_namespaceObject.useInsertionEffect&&react_namespaceObject.useInsertionEffect,emotion_use_insertion_effect_with_fallbacks_browser_esm_useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||function syncFallback(create){return create()},EmotionCacheContext=(useInsertionEffect||react.useLayoutEffect,react.createContext("undefined"!=typeof HTMLElement?emotion_cache_browser_esm_createCache({key:"css"}):null)),emotion_element_f0de968e_browser_esm_withEmotionCache=(EmotionCacheContext.Provider,function withEmotionCache(func){return(0,react.forwardRef)((function(props,ref){var cache=(0,react.useContext)(EmotionCacheContext);return func(props,cache,ref)}))}),emotion_element_f0de968e_browser_esm_ThemeContext=react.createContext({});var _jsx,JSX,hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Insertion=function Insertion(_ref){var cache=_ref.cache,serialized=_ref.serialized,isStringTag=_ref.isStringTag;return emotion_utils_browser_esm_registerStyles(cache,serialized,isStringTag),emotion_use_insertion_effect_with_fallbacks_browser_esm_useInsertionEffectAlwaysWithSyncFallback((function(){return function insertStyles(cache,serialized,isStringTag){emotion_utils_browser_esm_registerStyles(cache,serialized,isStringTag);var className=cache.key+"-"+serialized.name;if(void 0===cache.inserted[serialized.name]){var current=serialized;do{cache.insert(serialized===current?"."+className:"",current,cache.sheet,!0),current=current.next}while(void 0!==current)}}(cache,serialized,isStringTag)})),null},Emotion=emotion_element_f0de968e_browser_esm_withEmotionCache((function(props,cache,ref){var cssProp=props.css;"string"==typeof cssProp&&void 0!==cache.registered[cssProp]&&(cssProp=cache.registered[cssProp]);var WrappedComponent=props[typePropName],registeredStyles=[cssProp],className="";"string"==typeof props.className?className=function emotion_utils_browser_esm_getRegisteredStyles(registered,registeredStyles,classNames){var rawClassName="";return classNames.split(" ").forEach((function(className){void 0!==registered[className]?registeredStyles.push(registered[className]+";"):className&&(rawClassName+=className+" ")})),rawClassName}(cache.registered,registeredStyles,props.className):null!=props.className&&(className=props.className+" ");var serialized=emotion_serialize_esm_serializeStyles(registeredStyles,void 0,react.useContext(emotion_element_f0de968e_browser_esm_ThemeContext));className+=cache.key+"-"+serialized.name;var newProps={};for(var _key2 in props)hasOwn.call(props,_key2)&&"css"!==_key2&&_key2!==typePropName&&(newProps[_key2]=props[_key2]);return newProps.className=className,ref&&(newProps.ref=ref),react.createElement(react.Fragment,null,react.createElement(Insertion,{cache,serialized,isStringTag:"string"==typeof WrappedComponent}),react.createElement(WrappedComponent,newProps))})),Emotion$1=Emotion,jsx=(__webpack_require__("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),function jsx(type,props){var args=arguments;if(null==props||!hasOwn.call(props,"css"))return react.createElement.apply(void 0,args);var argsLength=args.length,createElementArgArray=new Array(argsLength);createElementArgArray[0]=Emotion$1,createElementArgArray[1]=function createEmotionProps(type,props){var newProps={};for(var _key in props)hasOwn.call(props,_key)&&(newProps[_key]=props[_key]);return newProps[typePropName]=type,newProps}(type,props);for(var i=2;i<argsLength;i++)createElementArgArray[i]=args[i];return react.createElement.apply(null,createElementArgArray)});_jsx=jsx||(jsx={}),JSX||(JSX=_jsx.JSX||(_jsx.JSX={}));function css(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return emotion_serialize_esm_serializeStyles(args)}var react_dom=__webpack_require__("./node_modules/react-dom/index.js");const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=v=>({x:v,y:v});function rectToClientRect(rect){const{x,y,width,height}=rect;return{width,height,top:y,left:x,right:x+width,bottom:y+height,x,y}}function hasWindow(){return"undefined"!=typeof window}function getNodeName(node){return isNode(node)?(node.nodeName||"").toLowerCase():"#document"}function getWindow(node){var _node$ownerDocument;return(null==node||null==(_node$ownerDocument=node.ownerDocument)?void 0:_node$ownerDocument.defaultView)||window}function getDocumentElement(node){var _ref;return null==(_ref=(isNode(node)?node.ownerDocument:node.document)||window.document)?void 0:_ref.documentElement}function isNode(value){return!!hasWindow()&&(value instanceof Node||value instanceof getWindow(value).Node)}function isElement(value){return!!hasWindow()&&(value instanceof Element||value instanceof getWindow(value).Element)}function isHTMLElement(value){return!!hasWindow()&&(value instanceof HTMLElement||value instanceof getWindow(value).HTMLElement)}function isShadowRoot(value){return!(!hasWindow()||"undefined"==typeof ShadowRoot)&&(value instanceof ShadowRoot||value instanceof getWindow(value).ShadowRoot)}function isOverflowElement(element){const{overflow,overflowX,overflowY,display}=floating_ui_utils_dom_getComputedStyle(element);return/auto|scroll|overlay|hidden|clip/.test(overflow+overflowY+overflowX)&&!["inline","contents"].includes(display)}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(node){return["html","body","#document"].includes(getNodeName(node))}function floating_ui_utils_dom_getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function getParentNode(node){if("html"===getNodeName(node))return node;const result=node.assignedSlot||node.parentNode||isShadowRoot(node)&&node.host||getDocumentElement(node);return isShadowRoot(result)?result.host:result}function getNearestOverflowAncestor(node){const parentNode=getParentNode(node);return isLastTraversableNode(parentNode)?node.ownerDocument?node.ownerDocument.body:node.body:isHTMLElement(parentNode)&&isOverflowElement(parentNode)?parentNode:getNearestOverflowAncestor(parentNode)}function getOverflowAncestors(node,list,traverseIframes){var _node$ownerDocument2;void 0===list&&(list=[]),void 0===traverseIframes&&(traverseIframes=!0);const scrollableAncestor=getNearestOverflowAncestor(node),isBody=scrollableAncestor===(null==(_node$ownerDocument2=node.ownerDocument)?void 0:_node$ownerDocument2.body),win=getWindow(scrollableAncestor);if(isBody){const frameElement=getFrameElement(win);return list.concat(win,win.visualViewport||[],isOverflowElement(scrollableAncestor)?scrollableAncestor:[],frameElement&&traverseIframes?getOverflowAncestors(frameElement):[])}return list.concat(scrollableAncestor,getOverflowAncestors(scrollableAncestor,[],traverseIframes))}function getFrameElement(win){return win.parent&&Object.getPrototypeOf(win.parent)?win.frameElement:null}function getCssDimensions(element){const css=floating_ui_utils_dom_getComputedStyle(element);let width=parseFloat(css.width)||0,height=parseFloat(css.height)||0;const hasOffset=isHTMLElement(element),offsetWidth=hasOffset?element.offsetWidth:width,offsetHeight=hasOffset?element.offsetHeight:height,shouldFallback=round(width)!==offsetWidth||round(height)!==offsetHeight;return shouldFallback&&(width=offsetWidth,height=offsetHeight),{width,height,$:shouldFallback}}function unwrapElement(element){return isElement(element)?element:element.contextElement}function getScale(element){const domElement=unwrapElement(element);if(!isHTMLElement(domElement))return createCoords(1);const rect=domElement.getBoundingClientRect(),{width,height,$}=getCssDimensions(domElement);let x=($?round(rect.width):rect.width)/width,y=($?round(rect.height):rect.height)/height;return x&&Number.isFinite(x)||(x=1),y&&Number.isFinite(y)||(y=1),{x,y}}const noOffsets=createCoords(0);function getVisualOffsets(element){const win=getWindow(element);return isWebKit()&&win.visualViewport?{x:win.visualViewport.offsetLeft,y:win.visualViewport.offsetTop}:noOffsets}function getBoundingClientRect(element,includeScale,isFixedStrategy,offsetParent){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);const clientRect=element.getBoundingClientRect(),domElement=unwrapElement(element);let scale=createCoords(1);includeScale&&(offsetParent?isElement(offsetParent)&&(scale=getScale(offsetParent)):scale=getScale(element));const visualOffsets=function shouldAddVisualOffsets(element,isFixed,floatingOffsetParent){return void 0===isFixed&&(isFixed=!1),!(!floatingOffsetParent||isFixed&&floatingOffsetParent!==getWindow(element))&&isFixed}(domElement,isFixedStrategy,offsetParent)?getVisualOffsets(domElement):createCoords(0);let x=(clientRect.left+visualOffsets.x)/scale.x,y=(clientRect.top+visualOffsets.y)/scale.y,width=clientRect.width/scale.x,height=clientRect.height/scale.y;if(domElement){const win=getWindow(domElement),offsetWin=offsetParent&&isElement(offsetParent)?getWindow(offsetParent):offsetParent;let currentWin=win,currentIFrame=getFrameElement(currentWin);for(;currentIFrame&&offsetParent&&offsetWin!==currentWin;){const iframeScale=getScale(currentIFrame),iframeRect=currentIFrame.getBoundingClientRect(),css=floating_ui_utils_dom_getComputedStyle(currentIFrame),left=iframeRect.left+(currentIFrame.clientLeft+parseFloat(css.paddingLeft))*iframeScale.x,top=iframeRect.top+(currentIFrame.clientTop+parseFloat(css.paddingTop))*iframeScale.y;x*=iframeScale.x,y*=iframeScale.y,width*=iframeScale.x,height*=iframeScale.y,x+=left,y+=top,currentWin=getWindow(currentIFrame),currentIFrame=getFrameElement(currentWin)}}return rectToClientRect({width,height,x,y})}function autoUpdate(reference,floating,update,options){void 0===options&&(options={});const{ancestorScroll=!0,ancestorResize=!0,elementResize="function"==typeof ResizeObserver,layoutShift="function"==typeof IntersectionObserver,animationFrame=!1}=options,referenceEl=unwrapElement(reference),ancestors=ancestorScroll||ancestorResize?[...referenceEl?getOverflowAncestors(referenceEl):[],...getOverflowAncestors(floating)]:[];ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.addEventListener("scroll",update,{passive:!0}),ancestorResize&&ancestor.addEventListener("resize",update)}));const cleanupIo=referenceEl&&layoutShift?function observeMove(element,onMove){let timeoutId,io=null;const root=getDocumentElement(element);function cleanup(){var _io;clearTimeout(timeoutId),null==(_io=io)||_io.disconnect(),io=null}return function refresh(skip,threshold){void 0===skip&&(skip=!1),void 0===threshold&&(threshold=1),cleanup();const{left,top,width,height}=element.getBoundingClientRect();if(skip||onMove(),!width||!height)return;const options={rootMargin:-floor(top)+"px "+-floor(root.clientWidth-(left+width))+"px "+-floor(root.clientHeight-(top+height))+"px "+-floor(left)+"px",threshold:max(0,min(1,threshold))||1};let isFirstUpdate=!0;function handleObserve(entries){const ratio=entries[0].intersectionRatio;if(ratio!==threshold){if(!isFirstUpdate)return refresh();ratio?refresh(!1,ratio):timeoutId=setTimeout((()=>{refresh(!1,1e-7)}),1e3)}isFirstUpdate=!1}try{io=new IntersectionObserver(handleObserve,{...options,root:root.ownerDocument})}catch(e){io=new IntersectionObserver(handleObserve,options)}io.observe(element)}(!0),cleanup}(referenceEl,update):null;let frameId,reobserveFrame=-1,resizeObserver=null;elementResize&&(resizeObserver=new ResizeObserver((_ref=>{let[firstEntry]=_ref;firstEntry&&firstEntry.target===referenceEl&&resizeObserver&&(resizeObserver.unobserve(floating),cancelAnimationFrame(reobserveFrame),reobserveFrame=requestAnimationFrame((()=>{var _resizeObserver;null==(_resizeObserver=resizeObserver)||_resizeObserver.observe(floating)}))),update()})),referenceEl&&!animationFrame&&resizeObserver.observe(referenceEl),resizeObserver.observe(floating));let prevRefRect=animationFrame?getBoundingClientRect(reference):null;return animationFrame&&function frameLoop(){const nextRefRect=getBoundingClientRect(reference);!prevRefRect||nextRefRect.x===prevRefRect.x&&nextRefRect.y===prevRefRect.y&&nextRefRect.width===prevRefRect.width&&nextRefRect.height===prevRefRect.height||update();prevRefRect=nextRefRect,frameId=requestAnimationFrame(frameLoop)}(),update(),()=>{var _resizeObserver2;ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.removeEventListener("scroll",update),ancestorResize&&ancestor.removeEventListener("resize",update)})),null==cleanupIo||cleanupIo(),null==(_resizeObserver2=resizeObserver)||_resizeObserver2.disconnect(),resizeObserver=null,animationFrame&&cancelAnimationFrame(frameId)}}var index=react.useLayoutEffect,_excluded$4=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],noop=function noop(){};function applyPrefixToName(prefix,name){return name?"-"===name[0]?prefix+name:prefix+"__"+name:prefix}function classNames(prefix,state){for(var _len=arguments.length,classNameList=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)classNameList[_key-2]=arguments[_key];var arr=[].concat(classNameList);if(state&&prefix)for(var key in state)state.hasOwnProperty(key)&&state[key]&&arr.push("".concat(applyPrefixToName(prefix,key)));return arr.filter((function(i){return i})).map((function(i){return String(i).trim()})).join(" ")}var cleanValue=function cleanValue(value){return function isArray(arg){return Array.isArray(arg)}(value)?value.filter(Boolean):"object"===_typeof(value)&&null!==value?[value]:[]},cleanCommonProps=function cleanCommonProps(props){return props.className,props.clearValue,props.cx,props.getStyles,props.getClassNames,props.getValue,props.hasValue,props.isMulti,props.isRtl,props.options,props.selectOption,props.selectProps,props.setValue,props.theme,objectSpread2_objectSpread2({},_objectWithoutProperties(props,_excluded$4))},getStyleProps=function getStyleProps(props,name,classNamesState){var cx=props.cx,getStyles=props.getStyles,getClassNames=props.getClassNames,className=props.className;return{css:getStyles(name,props),className:cx(null!=classNamesState?classNamesState:{},getClassNames(name,props),className)}};function isDocumentElement(el){return[document.documentElement,document.body,window].indexOf(el)>-1}function getScrollTop(el){return isDocumentElement(el)?window.pageYOffset:el.scrollTop}function scrollTo(el,top){isDocumentElement(el)?window.scrollTo(0,top):el.scrollTop=top}function animatedScrollTo(element,to){var duration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:noop,start=getScrollTop(element),change=to-start,currentTime=0;!function animateScroll(){var val=function easeOutCubic(t,b,c,d){return c*((t=t/d-1)*t*t+1)+b}(currentTime+=10,start,change,duration);scrollTo(element,val),currentTime<duration?window.requestAnimationFrame(animateScroll):callback(element)}()}function scrollIntoView(menuEl,focusedEl){var menuRect=menuEl.getBoundingClientRect(),focusedRect=focusedEl.getBoundingClientRect(),overScroll=focusedEl.offsetHeight/3;focusedRect.bottom+overScroll>menuRect.bottom?scrollTo(menuEl,Math.min(focusedEl.offsetTop+focusedEl.clientHeight-menuEl.offsetHeight+overScroll,menuEl.scrollHeight)):focusedRect.top-overScroll<menuRect.top&&scrollTo(menuEl,Math.max(focusedEl.offsetTop-overScroll,0))}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var passiveOptionAccessed=!1,options={get passive(){return passiveOptionAccessed=!0}},w="undefined"!=typeof window?window:{};w.addEventListener&&w.removeEventListener&&(w.addEventListener("p",noop,options),w.removeEventListener("p",noop,!1));var supportsPassiveEvents=passiveOptionAccessed;function notNullish(item){return null!=item}function valueTernary(isMulti,multiValue,singleValue){return isMulti?multiValue:singleValue}var _excluded$3=["children","innerProps"],_excluded2$1=["children","innerProps"];function getMenuPlacement(_ref){var preferredMaxHeight=_ref.maxHeight,menuEl=_ref.menuEl,minHeight=_ref.minHeight,preferredPlacement=_ref.placement,shouldScroll=_ref.shouldScroll,isFixedPosition=_ref.isFixedPosition,controlHeight=_ref.controlHeight,scrollParent=function getScrollParent(element){var style=getComputedStyle(element),excludeStaticParent="absolute"===style.position,overflowRx=/(auto|scroll)/;if("fixed"===style.position)return document.documentElement;for(var parent=element;parent=parent.parentElement;)if(style=getComputedStyle(parent),(!excludeStaticParent||"static"!==style.position)&&overflowRx.test(style.overflow+style.overflowY+style.overflowX))return parent;return document.documentElement}(menuEl),defaultState={placement:"bottom",maxHeight:preferredMaxHeight};if(!menuEl||!menuEl.offsetParent)return defaultState;var scrollHeight=scrollParent.getBoundingClientRect().height,_menuEl$getBoundingCl=menuEl.getBoundingClientRect(),menuBottom=_menuEl$getBoundingCl.bottom,menuHeight=_menuEl$getBoundingCl.height,menuTop=_menuEl$getBoundingCl.top,containerTop=menuEl.offsetParent.getBoundingClientRect().top,viewHeight=isFixedPosition?window.innerHeight:function normalizedHeight(el){return isDocumentElement(el)?window.innerHeight:el.clientHeight}(scrollParent),scrollTop=getScrollTop(scrollParent),marginBottom=parseInt(getComputedStyle(menuEl).marginBottom,10),marginTop=parseInt(getComputedStyle(menuEl).marginTop,10),viewSpaceAbove=containerTop-marginTop,viewSpaceBelow=viewHeight-menuTop,scrollSpaceAbove=viewSpaceAbove+scrollTop,scrollSpaceBelow=scrollHeight-scrollTop-menuTop,scrollDown=menuBottom-viewHeight+scrollTop+marginBottom,scrollUp=scrollTop+menuTop-marginTop;switch(preferredPlacement){case"auto":case"bottom":if(viewSpaceBelow>=menuHeight)return{placement:"bottom",maxHeight:preferredMaxHeight};if(scrollSpaceBelow>=menuHeight&&!isFixedPosition)return shouldScroll&&animatedScrollTo(scrollParent,scrollDown,160),{placement:"bottom",maxHeight:preferredMaxHeight};if(!isFixedPosition&&scrollSpaceBelow>=minHeight||isFixedPosition&&viewSpaceBelow>=minHeight)return shouldScroll&&animatedScrollTo(scrollParent,scrollDown,160),{placement:"bottom",maxHeight:isFixedPosition?viewSpaceBelow-marginBottom:scrollSpaceBelow-marginBottom};if("auto"===preferredPlacement||isFixedPosition){var _constrainedHeight=preferredMaxHeight,spaceAbove=isFixedPosition?viewSpaceAbove:scrollSpaceAbove;return spaceAbove>=minHeight&&(_constrainedHeight=Math.min(spaceAbove-marginBottom-controlHeight,preferredMaxHeight)),{placement:"top",maxHeight:_constrainedHeight}}if("bottom"===preferredPlacement)return shouldScroll&&scrollTo(scrollParent,scrollDown),{placement:"bottom",maxHeight:preferredMaxHeight};break;case"top":if(viewSpaceAbove>=menuHeight)return{placement:"top",maxHeight:preferredMaxHeight};if(scrollSpaceAbove>=menuHeight&&!isFixedPosition)return shouldScroll&&animatedScrollTo(scrollParent,scrollUp,160),{placement:"top",maxHeight:preferredMaxHeight};if(!isFixedPosition&&scrollSpaceAbove>=minHeight||isFixedPosition&&viewSpaceAbove>=minHeight){var _constrainedHeight2=preferredMaxHeight;return(!isFixedPosition&&scrollSpaceAbove>=minHeight||isFixedPosition&&viewSpaceAbove>=minHeight)&&(_constrainedHeight2=isFixedPosition?viewSpaceAbove-marginTop:scrollSpaceAbove-marginTop),shouldScroll&&animatedScrollTo(scrollParent,scrollUp,160),{placement:"top",maxHeight:_constrainedHeight2}}return{placement:"bottom",maxHeight:preferredMaxHeight};default:throw new Error('Invalid placement provided "'.concat(preferredPlacement,'".'))}return defaultState}var _templateObject,coercePlacement=function coercePlacement(p){return"auto"===p?"bottom":p},PortalPlacementContext=(0,react.createContext)(null),MenuPlacer=function MenuPlacer(props){var children=props.children,minMenuHeight=props.minMenuHeight,maxMenuHeight=props.maxMenuHeight,menuPlacement=props.menuPlacement,menuPosition=props.menuPosition,menuShouldScrollIntoView=props.menuShouldScrollIntoView,theme=props.theme,setPortalPlacement=((0,react.useContext)(PortalPlacementContext)||{}).setPortalPlacement,ref=(0,react.useRef)(null),_useState2=_slicedToArray((0,react.useState)(maxMenuHeight),2),maxHeight=_useState2[0],setMaxHeight=_useState2[1],_useState4=_slicedToArray((0,react.useState)(null),2),placement=_useState4[0],setPlacement=_useState4[1],controlHeight=theme.spacing.controlHeight;return index((function(){var menuEl=ref.current;if(menuEl){var isFixedPosition="fixed"===menuPosition,state=getMenuPlacement({maxHeight:maxMenuHeight,menuEl,minHeight:minMenuHeight,placement:menuPlacement,shouldScroll:menuShouldScrollIntoView&&!isFixedPosition,isFixedPosition,controlHeight});setMaxHeight(state.maxHeight),setPlacement(state.placement),null==setPortalPlacement||setPortalPlacement(state.placement)}}),[maxMenuHeight,menuPlacement,menuPosition,menuShouldScrollIntoView,minMenuHeight,setPortalPlacement,controlHeight]),children({ref,placerProps:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},props),{},{placement:placement||coercePlacement(menuPlacement),maxHeight})})},Menu$1=function Menu(props){var children=props.children,innerRef=props.innerRef,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"menu",{menu:!0}),{ref:innerRef},innerProps),children)},noticeCSS=function noticeCSS(_ref5,unstyled){var _ref5$theme=_ref5.theme,baseUnit=_ref5$theme.spacing.baseUnit,colors=_ref5$theme.colors;return objectSpread2_objectSpread2({textAlign:"center"},unstyled?{}:{color:colors.neutral40,padding:"".concat(2*baseUnit,"px ").concat(3*baseUnit,"px")})},noOptionsMessageCSS=noticeCSS,loadingMessageCSS=noticeCSS,_excluded$2=["size"],_excluded2=["innerProps","isRtl","size"];var _ref2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Svg=function Svg(_ref){var size=_ref.size,props=_objectWithoutProperties(_ref,_excluded$2);return jsx("svg",extends_extends({height:size,width:size,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_ref2},props))},CrossIcon=function CrossIcon(props){return jsx(Svg,extends_extends({size:20},props),jsx("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},DownChevron=function DownChevron(props){return jsx(Svg,extends_extends({size:20},props),jsx("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},baseCSS=function baseCSS(_ref3,unstyled){var isFocused=_ref3.isFocused,_ref3$theme=_ref3.theme,baseUnit=_ref3$theme.spacing.baseUnit,colors=_ref3$theme.colors;return objectSpread2_objectSpread2({label:"indicatorContainer",display:"flex",transition:"color 150ms"},unstyled?{}:{color:isFocused?colors.neutral60:colors.neutral20,padding:2*baseUnit,":hover":{color:isFocused?colors.neutral80:colors.neutral40}})},dropdownIndicatorCSS=baseCSS,clearIndicatorCSS=baseCSS,loadingDotAnimations=function keyframes(){var insertable=css.apply(void 0,arguments),name="animation-"+insertable.name;return{name,styles:"@keyframes "+name+"{"+insertable.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),LoadingDot=function LoadingDot(_ref6){var delay=_ref6.delay,offset=_ref6.offset;return jsx("span",{css:css({animation:"".concat(loadingDotAnimations," 1s ease-in-out ").concat(delay,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:offset?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Control$1=function Control(props){var children=props.children,isDisabled=props.isDisabled,isFocused=props.isFocused,innerRef=props.innerRef,innerProps=props.innerProps,menuIsOpen=props.menuIsOpen;return jsx("div",extends_extends({ref:innerRef},getStyleProps(props,"control",{control:!0,"control--is-disabled":isDisabled,"control--is-focused":isFocused,"control--menu-is-open":menuIsOpen}),innerProps,{"aria-disabled":isDisabled||void 0}),children)},_excluded$1=["data"],Group$1=function Group(props){var children=props.children,cx=props.cx,getStyles=props.getStyles,getClassNames=props.getClassNames,Heading=props.Heading,headingProps=props.headingProps,innerProps=props.innerProps,label=props.label,theme=props.theme,selectProps=props.selectProps;return jsx("div",extends_extends({},getStyleProps(props,"group",{group:!0}),innerProps),jsx(Heading,extends_extends({},headingProps,{selectProps,theme,getStyles,getClassNames,cx}),label),jsx("div",null,children))},index_641ee5b8_esm_excluded=["innerRef","isDisabled","isHidden","inputClassName"],spacingStyle={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},containerStyle={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":objectSpread2_objectSpread2({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},spacingStyle)},inputStyle=function inputStyle(isHidden){return objectSpread2_objectSpread2({label:"input",color:"inherit",background:0,opacity:isHidden?0:1,width:"100%"},spacingStyle)},MultiValueGeneric=function MultiValueGeneric(_ref4){var children=_ref4.children,innerProps=_ref4.innerProps;return jsx("div",innerProps,children)};var MultiValue$1=function MultiValue(props){var children=props.children,components=props.components,data=props.data,innerProps=props.innerProps,isDisabled=props.isDisabled,removeProps=props.removeProps,selectProps=props.selectProps,Container=components.Container,Label=components.Label,Remove=components.Remove;return jsx(Container,{data,innerProps:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},getStyleProps(props,"multiValue",{"multi-value":!0,"multi-value--is-disabled":isDisabled})),innerProps),selectProps},jsx(Label,{data,innerProps:objectSpread2_objectSpread2({},getStyleProps(props,"multiValueLabel",{"multi-value__label":!0})),selectProps},children),jsx(Remove,{data,innerProps:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},getStyleProps(props,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(children||"option")},removeProps),selectProps}))},components={ClearIndicator:function ClearIndicator(props){var children=props.children,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"clearIndicator",{indicator:!0,"clear-indicator":!0}),innerProps),children||jsx(CrossIcon,null))},Control:Control$1,DropdownIndicator:function DropdownIndicator(props){var children=props.children,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),innerProps),children||jsx(DownChevron,null))},DownChevron,CrossIcon,Group:Group$1,GroupHeading:function GroupHeading(props){var _cleanCommonProps=cleanCommonProps(props);_cleanCommonProps.data;var innerProps=_objectWithoutProperties(_cleanCommonProps,_excluded$1);return jsx("div",extends_extends({},getStyleProps(props,"groupHeading",{"group-heading":!0}),innerProps))},IndicatorsContainer:function IndicatorsContainer(props){var children=props.children,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"indicatorsContainer",{indicators:!0}),innerProps),children)},IndicatorSeparator:function IndicatorSeparator(props){var innerProps=props.innerProps;return jsx("span",extends_extends({},innerProps,getStyleProps(props,"indicatorSeparator",{"indicator-separator":!0})))},Input:function Input(props){var cx=props.cx,value=props.value,_cleanCommonProps=cleanCommonProps(props),innerRef=_cleanCommonProps.innerRef,isDisabled=_cleanCommonProps.isDisabled,isHidden=_cleanCommonProps.isHidden,inputClassName=_cleanCommonProps.inputClassName,innerProps=_objectWithoutProperties(_cleanCommonProps,index_641ee5b8_esm_excluded);return jsx("div",extends_extends({},getStyleProps(props,"input",{"input-container":!0}),{"data-value":value||""}),jsx("input",extends_extends({className:cx({input:!0},inputClassName),ref:innerRef,style:inputStyle(isHidden),disabled:isDisabled},innerProps)))},LoadingIndicator:function LoadingIndicator(_ref7){var innerProps=_ref7.innerProps,isRtl=_ref7.isRtl,_ref7$size=_ref7.size,size=void 0===_ref7$size?4:_ref7$size,restProps=_objectWithoutProperties(_ref7,_excluded2);return jsx("div",extends_extends({},getStyleProps(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},restProps),{},{innerProps,isRtl,size}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),innerProps),jsx(LoadingDot,{delay:0,offset:isRtl}),jsx(LoadingDot,{delay:160,offset:!0}),jsx(LoadingDot,{delay:320,offset:!isRtl}))},Menu:Menu$1,MenuList:function MenuList(props){var children=props.children,innerProps=props.innerProps,innerRef=props.innerRef,isMulti=props.isMulti;return jsx("div",extends_extends({},getStyleProps(props,"menuList",{"menu-list":!0,"menu-list--is-multi":isMulti}),{ref:innerRef},innerProps),children)},MenuPortal:function MenuPortal(props){var appendTo=props.appendTo,children=props.children,controlElement=props.controlElement,innerProps=props.innerProps,menuPlacement=props.menuPlacement,menuPosition=props.menuPosition,menuPortalRef=(0,react.useRef)(null),cleanupRef=(0,react.useRef)(null),_useState6=_slicedToArray((0,react.useState)(coercePlacement(menuPlacement)),2),placement=_useState6[0],setPortalPlacement=_useState6[1],portalPlacementContext=(0,react.useMemo)((function(){return{setPortalPlacement}}),[]),_useState8=_slicedToArray((0,react.useState)(null),2),computedPosition=_useState8[0],setComputedPosition=_useState8[1],updateComputedPosition=(0,react.useCallback)((function(){if(controlElement){var rect=function getBoundingClientObj(element){var rect=element.getBoundingClientRect();return{bottom:rect.bottom,height:rect.height,left:rect.left,right:rect.right,top:rect.top,width:rect.width}}(controlElement),scrollDistance="fixed"===menuPosition?0:window.pageYOffset,offset=rect[placement]+scrollDistance;offset===(null==computedPosition?void 0:computedPosition.offset)&&rect.left===(null==computedPosition?void 0:computedPosition.rect.left)&&rect.width===(null==computedPosition?void 0:computedPosition.rect.width)||setComputedPosition({offset,rect})}}),[controlElement,menuPosition,placement,null==computedPosition?void 0:computedPosition.offset,null==computedPosition?void 0:computedPosition.rect.left,null==computedPosition?void 0:computedPosition.rect.width]);index((function(){updateComputedPosition()}),[updateComputedPosition]);var runAutoUpdate=(0,react.useCallback)((function(){"function"==typeof cleanupRef.current&&(cleanupRef.current(),cleanupRef.current=null),controlElement&&menuPortalRef.current&&(cleanupRef.current=autoUpdate(controlElement,menuPortalRef.current,updateComputedPosition,{elementResize:"ResizeObserver"in window}))}),[controlElement,updateComputedPosition]);index((function(){runAutoUpdate()}),[runAutoUpdate]);var setMenuPortalElement=(0,react.useCallback)((function(menuPortalElement){menuPortalRef.current=menuPortalElement,runAutoUpdate()}),[runAutoUpdate]);if(!appendTo&&"fixed"!==menuPosition||!computedPosition)return null;var menuWrapper=jsx("div",extends_extends({ref:setMenuPortalElement},getStyleProps(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},props),{},{offset:computedPosition.offset,position:menuPosition,rect:computedPosition.rect}),"menuPortal",{"menu-portal":!0}),innerProps),children);return jsx(PortalPlacementContext.Provider,{value:portalPlacementContext},appendTo?(0,react_dom.createPortal)(menuWrapper,appendTo):menuWrapper)},LoadingMessage:function LoadingMessage(_ref7){var _ref7$children=_ref7.children,children=void 0===_ref7$children?"Loading...":_ref7$children,innerProps=_ref7.innerProps,restProps=_objectWithoutProperties(_ref7,_excluded2$1);return jsx("div",extends_extends({},getStyleProps(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},restProps),{},{children,innerProps}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),innerProps),children)},NoOptionsMessage:function NoOptionsMessage(_ref6){var _ref6$children=_ref6.children,children=void 0===_ref6$children?"No options":_ref6$children,innerProps=_ref6.innerProps,restProps=_objectWithoutProperties(_ref6,_excluded$3);return jsx("div",extends_extends({},getStyleProps(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},restProps),{},{children,innerProps}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),innerProps),children)},MultiValue:MultiValue$1,MultiValueContainer:MultiValueGeneric,MultiValueLabel:MultiValueGeneric,MultiValueRemove:function MultiValueRemove(_ref5){var children=_ref5.children,innerProps=_ref5.innerProps;return jsx("div",extends_extends({role:"button"},innerProps),children||jsx(CrossIcon,{size:14}))},Option:function Option(props){var children=props.children,isDisabled=props.isDisabled,isFocused=props.isFocused,isSelected=props.isSelected,innerRef=props.innerRef,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"option",{option:!0,"option--is-disabled":isDisabled,"option--is-focused":isFocused,"option--is-selected":isSelected}),{ref:innerRef,"aria-disabled":isDisabled},innerProps),children)},Placeholder:function Placeholder(props){var children=props.children,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"placeholder",{placeholder:!0}),innerProps),children)},SelectContainer:function SelectContainer(props){var children=props.children,innerProps=props.innerProps,isDisabled=props.isDisabled,isRtl=props.isRtl;return jsx("div",extends_extends({},getStyleProps(props,"container",{"--is-disabled":isDisabled,"--is-rtl":isRtl}),innerProps),children)},SingleValue:function SingleValue(props){var children=props.children,isDisabled=props.isDisabled,innerProps=props.innerProps;return jsx("div",extends_extends({},getStyleProps(props,"singleValue",{"single-value":!0,"single-value--is-disabled":isDisabled}),innerProps),children)},ValueContainer:function ValueContainer(props){var children=props.children,innerProps=props.innerProps,isMulti=props.isMulti,hasValue=props.hasValue;return jsx("div",extends_extends({},getStyleProps(props,"valueContainer",{"value-container":!0,"value-container--is-multi":isMulti,"value-container--has-value":hasValue}),innerProps),children)}},safeIsNaN=Number.isNaN||function ponyfill(value){return"number"==typeof value&&value!=value};function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(first=newInputs[i],second=lastInputs[i],!(first===second||safeIsNaN(first)&&safeIsNaN(second)))return!1;var first,second;return!0}for(var _ref={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},A11yText$1=function A11yText(props){return jsx("span",extends_extends({css:_ref},props))},defaultAriaLiveMessages={guidance:function guidance(props){var isSearchable=props.isSearchable,isMulti=props.isMulti,tabSelectsValue=props.tabSelectsValue,context=props.context,isInitialFocus=props.isInitialFocus;switch(context){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(tabSelectsValue?", press Tab to select the option and exit the menu":"",".");case"input":return isInitialFocus?"".concat(props["aria-label"]||"Select"," is focused ").concat(isSearchable?",type to refine list":"",", press Down to open the menu, ").concat(isMulti?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function onChange(props){var action=props.action,_props$label=props.label,label=void 0===_props$label?"":_props$label,labels=props.labels,isDisabled=props.isDisabled;switch(action){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(label,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(labels.length>1?"s":""," ").concat(labels.join(","),", selected.");case"select-option":return"option ".concat(label,isDisabled?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function onFocus(props){var context=props.context,focused=props.focused,options=props.options,_props$label2=props.label,label=void 0===_props$label2?"":_props$label2,selectValue=props.selectValue,isDisabled=props.isDisabled,isSelected=props.isSelected,isAppleDevice=props.isAppleDevice,getArrayIndex=function getArrayIndex(arr,item){return arr&&arr.length?"".concat(arr.indexOf(item)+1," of ").concat(arr.length):""};if("value"===context&&selectValue)return"value ".concat(label," focused, ").concat(getArrayIndex(selectValue,focused),".");if("menu"===context&&isAppleDevice){var disabled=isDisabled?" disabled":"",status="".concat(isSelected?" selected":"").concat(disabled);return"".concat(label).concat(status,", ").concat(getArrayIndex(options,focused),".")}return""},onFilter:function onFilter(props){var inputValue=props.inputValue,resultsMessage=props.resultsMessage;return"".concat(resultsMessage).concat(inputValue?" for search term "+inputValue:"",".")}},LiveRegion$1=function LiveRegion(props){var ariaSelection=props.ariaSelection,focusedOption=props.focusedOption,focusedValue=props.focusedValue,focusableOptions=props.focusableOptions,isFocused=props.isFocused,selectValue=props.selectValue,selectProps=props.selectProps,id=props.id,isAppleDevice=props.isAppleDevice,ariaLiveMessages=selectProps.ariaLiveMessages,getOptionLabel=selectProps.getOptionLabel,inputValue=selectProps.inputValue,isMulti=selectProps.isMulti,isOptionDisabled=selectProps.isOptionDisabled,isSearchable=selectProps.isSearchable,menuIsOpen=selectProps.menuIsOpen,options=selectProps.options,screenReaderStatus=selectProps.screenReaderStatus,tabSelectsValue=selectProps.tabSelectsValue,isLoading=selectProps.isLoading,ariaLabel=selectProps["aria-label"],ariaLive=selectProps["aria-live"],messages=(0,react.useMemo)((function(){return objectSpread2_objectSpread2(objectSpread2_objectSpread2({},defaultAriaLiveMessages),ariaLiveMessages||{})}),[ariaLiveMessages]),ariaSelected=(0,react.useMemo)((function(){var message="";if(ariaSelection&&messages.onChange){var option=ariaSelection.option,selectedOptions=ariaSelection.options,removedValue=ariaSelection.removedValue,removedValues=ariaSelection.removedValues,value=ariaSelection.value,selected=removedValue||option||function asOption(val){return Array.isArray(val)?null:val}(value),label=selected?getOptionLabel(selected):"",multiSelected=selectedOptions||removedValues||void 0,labels=multiSelected?multiSelected.map(getOptionLabel):[],onChangeProps=objectSpread2_objectSpread2({isDisabled:selected&&isOptionDisabled(selected,selectValue),label,labels},ariaSelection);message=messages.onChange(onChangeProps)}return message}),[ariaSelection,messages,isOptionDisabled,selectValue,getOptionLabel]),ariaFocused=(0,react.useMemo)((function(){var focusMsg="",focused=focusedOption||focusedValue,isSelected=!!(focusedOption&&selectValue&&selectValue.includes(focusedOption));if(focused&&messages.onFocus){var onFocusProps={focused,label:getOptionLabel(focused),isDisabled:isOptionDisabled(focused,selectValue),isSelected,options:focusableOptions,context:focused===focusedOption?"menu":"value",selectValue,isAppleDevice};focusMsg=messages.onFocus(onFocusProps)}return focusMsg}),[focusedOption,focusedValue,getOptionLabel,isOptionDisabled,messages,focusableOptions,selectValue,isAppleDevice]),ariaResults=(0,react.useMemo)((function(){var resultsMsg="";if(menuIsOpen&&options.length&&!isLoading&&messages.onFilter){var resultsMessage=screenReaderStatus({count:focusableOptions.length});resultsMsg=messages.onFilter({inputValue,resultsMessage})}return resultsMsg}),[focusableOptions,inputValue,menuIsOpen,messages,options,screenReaderStatus,isLoading]),isInitialFocus="initial-input-focus"===(null==ariaSelection?void 0:ariaSelection.action),ariaGuidance=(0,react.useMemo)((function(){var guidanceMsg="";if(messages.guidance){var context=focusedValue?"value":menuIsOpen?"menu":"input";guidanceMsg=messages.guidance({"aria-label":ariaLabel,context,isDisabled:focusedOption&&isOptionDisabled(focusedOption,selectValue),isMulti,isSearchable,tabSelectsValue,isInitialFocus})}return guidanceMsg}),[ariaLabel,focusedOption,focusedValue,isMulti,isOptionDisabled,isSearchable,menuIsOpen,messages,selectValue,tabSelectsValue,isInitialFocus]),ScreenReaderText=jsx(react.Fragment,null,jsx("span",{id:"aria-selection"},ariaSelected),jsx("span",{id:"aria-focused"},ariaFocused),jsx("span",{id:"aria-results"},ariaResults),jsx("span",{id:"aria-guidance"},ariaGuidance));return jsx(react.Fragment,null,jsx(A11yText$1,{id},isInitialFocus&&ScreenReaderText),jsx(A11yText$1,{"aria-live":ariaLive,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},isFocused&&!isInitialFocus&&ScreenReaderText))},diacritics=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],anyDiacritic=new RegExp("["+diacritics.map((function(d){return d.letters})).join("")+"]","g"),diacriticToBase={},i=0;i<diacritics.length;i++)for(var diacritic=diacritics[i],j=0;j<diacritic.letters.length;j++)diacriticToBase[diacritic.letters[j]]=diacritic.base;var stripDiacritics=function stripDiacritics(str){return str.replace(anyDiacritic,(function(match){return diacriticToBase[match]}))},memoizedStripDiacriticsForInput=function memoizeOne(resultFn,isEqual){void 0===isEqual&&(isEqual=areInputsEqual);var cache=null;function memoized(){for(var newArgs=[],_i=0;_i<arguments.length;_i++)newArgs[_i]=arguments[_i];if(cache&&cache.lastThis===this&&isEqual(newArgs,cache.lastArgs))return cache.lastResult;var lastResult=resultFn.apply(this,newArgs);return cache={lastResult,lastArgs:newArgs,lastThis:this},lastResult}return memoized.clear=function clear(){cache=null},memoized}(stripDiacritics),trimString=function trimString(str){return str.replace(/^\s+|\s+$/g,"")},defaultStringify=function defaultStringify(option){return"".concat(option.label," ").concat(option.value)},Select_aab027f3_esm_excluded=["innerRef"];function DummyInput(_ref){var innerRef=_ref.innerRef,filteredProps=function removeProps(propsObj){for(var _len2=arguments.length,properties=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)properties[_key2-1]=arguments[_key2];var propsMap=Object.entries(propsObj).filter((function(_ref){var key=_slicedToArray(_ref,1)[0];return!properties.includes(key)}));return propsMap.reduce((function(newProps,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],val=_ref4[1];return newProps[key]=val,newProps}),{})}(_objectWithoutProperties(_ref,Select_aab027f3_esm_excluded),"onExited","in","enter","exit","appear");return jsx("input",extends_extends({ref:innerRef},filteredProps,{css:css({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cancelScroll=function cancelScroll(event){event.cancelable&&event.preventDefault(),event.stopPropagation()};var STYLE_KEYS=["boxSizing","height","overflow","paddingRight","position"],LOCK_STYLES={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove(e){e.cancelable&&e.preventDefault()}function allowTouchMove(e){e.stopPropagation()}function preventInertiaScroll(){var top=this.scrollTop,totalScroll=this.scrollHeight,currentScroll=top+this.offsetHeight;0===top?this.scrollTop=1:currentScroll===totalScroll&&(this.scrollTop=top-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),activeScrollLocks=0,listenerOptions={capture:!1,passive:!1};var blurSelectInput=function blurSelectInput(event){var element=event.target;return element.ownerDocument.activeElement&&element.ownerDocument.activeElement.blur()},_ref2$1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ScrollManager(_ref){var children=_ref.children,lockEnabled=_ref.lockEnabled,_ref$captureEnabled=_ref.captureEnabled,setScrollCaptureTarget=function useScrollCapture(_ref){var isEnabled=_ref.isEnabled,onBottomArrive=_ref.onBottomArrive,onBottomLeave=_ref.onBottomLeave,onTopArrive=_ref.onTopArrive,onTopLeave=_ref.onTopLeave,isBottom=(0,react.useRef)(!1),isTop=(0,react.useRef)(!1),touchStart=(0,react.useRef)(0),scrollTarget=(0,react.useRef)(null),handleEventDelta=(0,react.useCallback)((function(event,delta){if(null!==scrollTarget.current){var _scrollTarget$current=scrollTarget.current,scrollTop=_scrollTarget$current.scrollTop,scrollHeight=_scrollTarget$current.scrollHeight,clientHeight=_scrollTarget$current.clientHeight,target=scrollTarget.current,isDeltaPositive=delta>0,availableScroll=scrollHeight-clientHeight-scrollTop,shouldCancelScroll=!1;availableScroll>delta&&isBottom.current&&(onBottomLeave&&onBottomLeave(event),isBottom.current=!1),isDeltaPositive&&isTop.current&&(onTopLeave&&onTopLeave(event),isTop.current=!1),isDeltaPositive&&delta>availableScroll?(onBottomArrive&&!isBottom.current&&onBottomArrive(event),target.scrollTop=scrollHeight,shouldCancelScroll=!0,isBottom.current=!0):!isDeltaPositive&&-delta>scrollTop&&(onTopArrive&&!isTop.current&&onTopArrive(event),target.scrollTop=0,shouldCancelScroll=!0,isTop.current=!0),shouldCancelScroll&&cancelScroll(event)}}),[onBottomArrive,onBottomLeave,onTopArrive,onTopLeave]),onWheel=(0,react.useCallback)((function(event){handleEventDelta(event,event.deltaY)}),[handleEventDelta]),onTouchStart=(0,react.useCallback)((function(event){touchStart.current=event.changedTouches[0].clientY}),[]),onTouchMove=(0,react.useCallback)((function(event){var deltaY=touchStart.current-event.changedTouches[0].clientY;handleEventDelta(event,deltaY)}),[handleEventDelta]),startListening=(0,react.useCallback)((function(el){if(el){var notPassive=!!supportsPassiveEvents&&{passive:!1};el.addEventListener("wheel",onWheel,notPassive),el.addEventListener("touchstart",onTouchStart,notPassive),el.addEventListener("touchmove",onTouchMove,notPassive)}}),[onTouchMove,onTouchStart,onWheel]),stopListening=(0,react.useCallback)((function(el){el&&(el.removeEventListener("wheel",onWheel,!1),el.removeEventListener("touchstart",onTouchStart,!1),el.removeEventListener("touchmove",onTouchMove,!1))}),[onTouchMove,onTouchStart,onWheel]);return(0,react.useEffect)((function(){if(isEnabled){var element=scrollTarget.current;return startListening(element),function(){stopListening(element)}}}),[isEnabled,startListening,stopListening]),function(element){scrollTarget.current=element}}({isEnabled:void 0===_ref$captureEnabled||_ref$captureEnabled,onBottomArrive:_ref.onBottomArrive,onBottomLeave:_ref.onBottomLeave,onTopArrive:_ref.onTopArrive,onTopLeave:_ref.onTopLeave}),setScrollLockTarget=function useScrollLock(_ref){var isEnabled=_ref.isEnabled,_ref$accountForScroll=_ref.accountForScrollbars,accountForScrollbars=void 0===_ref$accountForScroll||_ref$accountForScroll,originalStyles=(0,react.useRef)({}),scrollTarget=(0,react.useRef)(null),addScrollLock=(0,react.useCallback)((function(touchScrollTarget){if(canUseDOM){var target=document.body,targetStyle=target&&target.style;if(accountForScrollbars&&STYLE_KEYS.forEach((function(key){var val=targetStyle&&targetStyle[key];originalStyles.current[key]=val})),accountForScrollbars&&activeScrollLocks<1){var currentPadding=parseInt(originalStyles.current.paddingRight,10)||0,clientWidth=document.body?document.body.clientWidth:0,adjustedPadding=window.innerWidth-clientWidth+currentPadding||0;Object.keys(LOCK_STYLES).forEach((function(key){var val=LOCK_STYLES[key];targetStyle&&(targetStyle[key]=val)})),targetStyle&&(targetStyle.paddingRight="".concat(adjustedPadding,"px"))}target&&isTouchDevice()&&(target.addEventListener("touchmove",preventTouchMove,listenerOptions),touchScrollTarget&&(touchScrollTarget.addEventListener("touchstart",preventInertiaScroll,listenerOptions),touchScrollTarget.addEventListener("touchmove",allowTouchMove,listenerOptions))),activeScrollLocks+=1}}),[accountForScrollbars]),removeScrollLock=(0,react.useCallback)((function(touchScrollTarget){if(canUseDOM){var target=document.body,targetStyle=target&&target.style;activeScrollLocks=Math.max(activeScrollLocks-1,0),accountForScrollbars&&activeScrollLocks<1&&STYLE_KEYS.forEach((function(key){var val=originalStyles.current[key];targetStyle&&(targetStyle[key]=val)})),target&&isTouchDevice()&&(target.removeEventListener("touchmove",preventTouchMove,listenerOptions),touchScrollTarget&&(touchScrollTarget.removeEventListener("touchstart",preventInertiaScroll,listenerOptions),touchScrollTarget.removeEventListener("touchmove",allowTouchMove,listenerOptions)))}}),[accountForScrollbars]);return(0,react.useEffect)((function(){if(isEnabled){var element=scrollTarget.current;return addScrollLock(element),function(){removeScrollLock(element)}}}),[isEnabled,addScrollLock,removeScrollLock]),function(element){scrollTarget.current=element}}({isEnabled:lockEnabled});return jsx(react.Fragment,null,lockEnabled&&jsx("div",{onClick:blurSelectInput,css:_ref2$1}),children((function targetRef(element){setScrollCaptureTarget(element),setScrollLockTarget(element)})))}var Select_aab027f3_esm_ref2={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},RequiredInput$1=function RequiredInput(_ref){var name=_ref.name,onFocus=_ref.onFocus;return jsx("input",{required:!0,name,tabIndex:-1,"aria-hidden":"true",onFocus,css:Select_aab027f3_esm_ref2,value:"",onChange:function onChange(){}})};function testPlatform(re){var _window$navigator$use;return"undefined"!=typeof window&&null!=window.navigator&&re.test((null===(_window$navigator$use=window.navigator.userAgentData)||void 0===_window$navigator$use?void 0:_window$navigator$use.platform)||window.navigator.platform)}function isMac(){return testPlatform(/^Mac/i)}function isIOS(){return function isIPhone(){return testPlatform(/^iPhone/i)}()||function isIPad(){return testPlatform(/^iPad/i)||isMac()&&navigator.maxTouchPoints>1}()}var defaultStyles={clearIndicator:clearIndicatorCSS,container:function containerCSS(_ref){var isDisabled=_ref.isDisabled;return{label:"container",direction:_ref.isRtl?"rtl":void 0,pointerEvents:isDisabled?"none":void 0,position:"relative"}},control:function css(_ref,unstyled){var isDisabled=_ref.isDisabled,isFocused=_ref.isFocused,_ref$theme=_ref.theme,colors=_ref$theme.colors,borderRadius=_ref$theme.borderRadius;return objectSpread2_objectSpread2({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:_ref$theme.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},unstyled?{}:{backgroundColor:isDisabled?colors.neutral5:colors.neutral0,borderColor:isDisabled?colors.neutral10:isFocused?colors.primary:colors.neutral20,borderRadius,borderStyle:"solid",borderWidth:1,boxShadow:isFocused?"0 0 0 1px ".concat(colors.primary):void 0,"&:hover":{borderColor:isFocused?colors.primary:colors.neutral30}})},dropdownIndicator:dropdownIndicatorCSS,group:function groupCSS(_ref,unstyled){var spacing=_ref.theme.spacing;return unstyled?{}:{paddingBottom:2*spacing.baseUnit,paddingTop:2*spacing.baseUnit}},groupHeading:function groupHeadingCSS(_ref2,unstyled){var _ref2$theme=_ref2.theme,colors=_ref2$theme.colors,spacing=_ref2$theme.spacing;return objectSpread2_objectSpread2({label:"group",cursor:"default",display:"block"},unstyled?{}:{color:colors.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*spacing.baseUnit,paddingRight:3*spacing.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function indicatorsContainerCSS(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function indicatorSeparatorCSS(_ref4,unstyled){var isDisabled=_ref4.isDisabled,_ref4$theme=_ref4.theme,baseUnit=_ref4$theme.spacing.baseUnit,colors=_ref4$theme.colors;return objectSpread2_objectSpread2({label:"indicatorSeparator",alignSelf:"stretch",width:1},unstyled?{}:{backgroundColor:isDisabled?colors.neutral10:colors.neutral20,marginBottom:2*baseUnit,marginTop:2*baseUnit})},input:function inputCSS(_ref,unstyled){var isDisabled=_ref.isDisabled,value=_ref.value,_ref$theme=_ref.theme,spacing=_ref$theme.spacing,colors=_ref$theme.colors;return objectSpread2_objectSpread2(objectSpread2_objectSpread2({visibility:isDisabled?"hidden":"visible",transform:value?"translateZ(0)":""},containerStyle),unstyled?{}:{margin:spacing.baseUnit/2,paddingBottom:spacing.baseUnit/2,paddingTop:spacing.baseUnit/2,color:colors.neutral80})},loadingIndicator:function loadingIndicatorCSS(_ref5,unstyled){var isFocused=_ref5.isFocused,size=_ref5.size,_ref5$theme=_ref5.theme,colors=_ref5$theme.colors,baseUnit=_ref5$theme.spacing.baseUnit;return objectSpread2_objectSpread2({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:size,lineHeight:1,marginRight:size,textAlign:"center",verticalAlign:"middle"},unstyled?{}:{color:isFocused?colors.neutral60:colors.neutral20,padding:2*baseUnit})},loadingMessage:loadingMessageCSS,menu:function menuCSS(_ref2,unstyled){var _objectSpread2,placement=_ref2.placement,_ref2$theme=_ref2.theme,borderRadius=_ref2$theme.borderRadius,spacing=_ref2$theme.spacing,colors=_ref2$theme.colors;return objectSpread2_objectSpread2((_defineProperty(_objectSpread2={label:"menu"},function alignToControl(placement){return placement?{bottom:"top",top:"bottom"}[placement]:"bottom"}(placement),"100%"),_defineProperty(_objectSpread2,"position","absolute"),_defineProperty(_objectSpread2,"width","100%"),_defineProperty(_objectSpread2,"zIndex",1),_objectSpread2),unstyled?{}:{backgroundColor:colors.neutral0,borderRadius,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:spacing.menuGutter,marginTop:spacing.menuGutter})},menuList:function menuListCSS(_ref4,unstyled){var maxHeight=_ref4.maxHeight,baseUnit=_ref4.theme.spacing.baseUnit;return objectSpread2_objectSpread2({maxHeight,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},unstyled?{}:{paddingBottom:baseUnit,paddingTop:baseUnit})},menuPortal:function menuPortalCSS(_ref8){var rect=_ref8.rect,offset=_ref8.offset,position=_ref8.position;return{left:rect.left,position,top:offset,width:rect.width,zIndex:1}},multiValue:function multiValueCSS(_ref,unstyled){var _ref$theme=_ref.theme,spacing=_ref$theme.spacing,borderRadius=_ref$theme.borderRadius,colors=_ref$theme.colors;return objectSpread2_objectSpread2({label:"multiValue",display:"flex",minWidth:0},unstyled?{}:{backgroundColor:colors.neutral10,borderRadius:borderRadius/2,margin:spacing.baseUnit/2})},multiValueLabel:function multiValueLabelCSS(_ref2,unstyled){var _ref2$theme=_ref2.theme,borderRadius=_ref2$theme.borderRadius,colors=_ref2$theme.colors,cropWithEllipsis=_ref2.cropWithEllipsis;return objectSpread2_objectSpread2({overflow:"hidden",textOverflow:cropWithEllipsis||void 0===cropWithEllipsis?"ellipsis":void 0,whiteSpace:"nowrap"},unstyled?{}:{borderRadius:borderRadius/2,color:colors.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function multiValueRemoveCSS(_ref3,unstyled){var _ref3$theme=_ref3.theme,spacing=_ref3$theme.spacing,borderRadius=_ref3$theme.borderRadius,colors=_ref3$theme.colors,isFocused=_ref3.isFocused;return objectSpread2_objectSpread2({alignItems:"center",display:"flex"},unstyled?{}:{borderRadius:borderRadius/2,backgroundColor:isFocused?colors.dangerLight:void 0,paddingLeft:spacing.baseUnit,paddingRight:spacing.baseUnit,":hover":{backgroundColor:colors.dangerLight,color:colors.danger}})},noOptionsMessage:noOptionsMessageCSS,option:function optionCSS(_ref,unstyled){var isDisabled=_ref.isDisabled,isFocused=_ref.isFocused,isSelected=_ref.isSelected,_ref$theme=_ref.theme,spacing=_ref$theme.spacing,colors=_ref$theme.colors;return objectSpread2_objectSpread2({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},unstyled?{}:{backgroundColor:isSelected?colors.primary:isFocused?colors.primary25:"transparent",color:isDisabled?colors.neutral20:isSelected?colors.neutral0:"inherit",padding:"".concat(2*spacing.baseUnit,"px ").concat(3*spacing.baseUnit,"px"),":active":{backgroundColor:isDisabled?void 0:isSelected?colors.primary:colors.primary50}})},placeholder:function placeholderCSS(_ref,unstyled){var _ref$theme=_ref.theme,spacing=_ref$theme.spacing,colors=_ref$theme.colors;return objectSpread2_objectSpread2({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},unstyled?{}:{color:colors.neutral50,marginLeft:spacing.baseUnit/2,marginRight:spacing.baseUnit/2})},singleValue:function css(_ref,unstyled){var isDisabled=_ref.isDisabled,_ref$theme=_ref.theme,spacing=_ref$theme.spacing,colors=_ref$theme.colors;return objectSpread2_objectSpread2({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},unstyled?{}:{color:isDisabled?colors.neutral40:colors.neutral80,marginLeft:spacing.baseUnit/2,marginRight:spacing.baseUnit/2})},valueContainer:function valueContainerCSS(_ref2,unstyled){var spacing=_ref2.theme.spacing,isMulti=_ref2.isMulti,hasValue=_ref2.hasValue,controlShouldRenderValue=_ref2.selectProps.controlShouldRenderValue;return objectSpread2_objectSpread2({alignItems:"center",display:isMulti&&hasValue&&controlShouldRenderValue?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},unstyled?{}:{padding:"".concat(spacing.baseUnit/2,"px ").concat(2*spacing.baseUnit,"px")})}};var defaultTheme={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},defaultProps={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function createFilter(config){return function(option,rawInput){if(option.data.__isNew__)return!0;var _ignoreCase$ignoreAcc=objectSpread2_objectSpread2({ignoreCase:!0,ignoreAccents:!0,stringify:defaultStringify,trim:!0,matchFrom:"any"},config),ignoreCase=_ignoreCase$ignoreAcc.ignoreCase,ignoreAccents=_ignoreCase$ignoreAcc.ignoreAccents,stringify=_ignoreCase$ignoreAcc.stringify,trim=_ignoreCase$ignoreAcc.trim,matchFrom=_ignoreCase$ignoreAcc.matchFrom,input=trim?trimString(rawInput):rawInput,candidate=trim?trimString(stringify(option)):stringify(option);return ignoreCase&&(input=input.toLowerCase(),candidate=candidate.toLowerCase()),ignoreAccents&&(input=memoizedStripDiacriticsForInput(input),candidate=stripDiacritics(candidate)),"start"===matchFrom?candidate.substr(0,input.length)===input:candidate.indexOf(input)>-1}}(),formatGroupLabel:function formatGroupLabel(group){return group.label},getOptionLabel:function getOptionLabel(option){return option.label},getOptionValue:function getOptionValue(option){return option.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function isOptionDisabled(option){return!!option.isDisabled},loadingMessage:function loadingMessage(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function noOptionsMessage(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function screenReaderStatus(_ref){var count=_ref.count;return"".concat(count," result").concat(1!==count?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function toCategorizedOption(props,option,selectValue,index){return{type:"option",data:option,isDisabled:_isOptionDisabled(props,option,selectValue),isSelected:_isOptionSelected(props,option,selectValue),label:getOptionLabel(props,option),value:getOptionValue(props,option),index}}function buildCategorizedOptions(props,selectValue){return props.options.map((function(groupOrOption,groupOrOptionIndex){if("options"in groupOrOption){var categorizedOptions=groupOrOption.options.map((function(option,optionIndex){return toCategorizedOption(props,option,selectValue,optionIndex)})).filter((function(categorizedOption){return isFocusable(props,categorizedOption)}));return categorizedOptions.length>0?{type:"group",data:groupOrOption,options:categorizedOptions,index:groupOrOptionIndex}:void 0}var categorizedOption=toCategorizedOption(props,groupOrOption,selectValue,groupOrOptionIndex);return isFocusable(props,categorizedOption)?categorizedOption:void 0})).filter(notNullish)}function buildFocusableOptionsFromCategorizedOptions(categorizedOptions){return categorizedOptions.reduce((function(optionsAccumulator,categorizedOption){return"group"===categorizedOption.type?optionsAccumulator.push.apply(optionsAccumulator,_toConsumableArray(categorizedOption.options.map((function(option){return option.data})))):optionsAccumulator.push(categorizedOption.data),optionsAccumulator}),[])}function buildFocusableOptionsWithIds(categorizedOptions,optionId){return categorizedOptions.reduce((function(optionsAccumulator,categorizedOption){return"group"===categorizedOption.type?optionsAccumulator.push.apply(optionsAccumulator,_toConsumableArray(categorizedOption.options.map((function(option){return{data:option.data,id:"".concat(optionId,"-").concat(categorizedOption.index,"-").concat(option.index)}})))):optionsAccumulator.push({data:categorizedOption.data,id:"".concat(optionId,"-").concat(categorizedOption.index)}),optionsAccumulator}),[])}function isFocusable(props,categorizedOption){var _props$inputValue=props.inputValue,inputValue=void 0===_props$inputValue?"":_props$inputValue,data=categorizedOption.data,isSelected=categorizedOption.isSelected,label=categorizedOption.label,value=categorizedOption.value;return(!shouldHideSelectedOptions(props)||!isSelected)&&_filterOption(props,{label,value,data},inputValue)}var getFocusedOptionId=function getFocusedOptionId(focusableOptionsWithIds,focusedOption){var _focusableOptionsWith;return(null===(_focusableOptionsWith=focusableOptionsWithIds.find((function(option){return option.data===focusedOption})))||void 0===_focusableOptionsWith?void 0:_focusableOptionsWith.id)||null},getOptionLabel=function getOptionLabel(props,data){return props.getOptionLabel(data)},getOptionValue=function getOptionValue(props,data){return props.getOptionValue(data)};function _isOptionDisabled(props,option,selectValue){return"function"==typeof props.isOptionDisabled&&props.isOptionDisabled(option,selectValue)}function _isOptionSelected(props,option,selectValue){if(selectValue.indexOf(option)>-1)return!0;if("function"==typeof props.isOptionSelected)return props.isOptionSelected(option,selectValue);var candidate=getOptionValue(props,option);return selectValue.some((function(i){return getOptionValue(props,i)===candidate}))}function _filterOption(props,option,inputValue){return!props.filterOption||props.filterOption(option,inputValue)}var shouldHideSelectedOptions=function shouldHideSelectedOptions(props){var hideSelectedOptions=props.hideSelectedOptions,isMulti=props.isMulti;return void 0===hideSelectedOptions?isMulti:hideSelectedOptions},instanceId=1,Select=function(_Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Select,_Component);var _super=_createSuper(Select);function Select(_props){var _this;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Select),(_this=_super.call(this,_props)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},_this.blockOptionHover=!1,_this.isComposing=!1,_this.commonProps=void 0,_this.initialTouchX=0,_this.initialTouchY=0,_this.openAfterFocus=!1,_this.scrollToFocusedOptionOnUpdate=!1,_this.userIsDragging=void 0,_this.isAppleDevice=function isAppleDevice(){return isMac()||isIOS()}(),_this.controlRef=null,_this.getControlRef=function(ref){_this.controlRef=ref},_this.focusedOptionRef=null,_this.getFocusedOptionRef=function(ref){_this.focusedOptionRef=ref},_this.menuListRef=null,_this.getMenuListRef=function(ref){_this.menuListRef=ref},_this.inputRef=null,_this.getInputRef=function(ref){_this.inputRef=ref},_this.focus=_this.focusInput,_this.blur=_this.blurInput,_this.onChange=function(newValue,actionMeta){var _this$props=_this.props,onChange=_this$props.onChange,name=_this$props.name;actionMeta.name=name,_this.ariaOnChange(newValue,actionMeta),onChange(newValue,actionMeta)},_this.setValue=function(newValue,action,option){var _this$props2=_this.props,closeMenuOnSelect=_this$props2.closeMenuOnSelect,isMulti=_this$props2.isMulti,inputValue=_this$props2.inputValue;_this.onInputChange("",{action:"set-value",prevInputValue:inputValue}),closeMenuOnSelect&&(_this.setState({inputIsHiddenAfterUpdate:!isMulti}),_this.onMenuClose()),_this.setState({clearFocusValueOnUpdate:!0}),_this.onChange(newValue,{action,option})},_this.selectOption=function(newValue){var _this$props3=_this.props,blurInputOnSelect=_this$props3.blurInputOnSelect,isMulti=_this$props3.isMulti,name=_this$props3.name,selectValue=_this.state.selectValue,deselected=isMulti&&_this.isOptionSelected(newValue,selectValue),isDisabled=_this.isOptionDisabled(newValue,selectValue);if(deselected){var candidate=_this.getOptionValue(newValue);_this.setValue(selectValue.filter((function(i){return _this.getOptionValue(i)!==candidate})),"deselect-option",newValue)}else{if(isDisabled)return void _this.ariaOnChange(newValue,{action:"select-option",option:newValue,name});isMulti?_this.setValue([].concat(_toConsumableArray(selectValue),[newValue]),"select-option",newValue):_this.setValue(newValue,"select-option")}blurInputOnSelect&&_this.blurInput()},_this.removeValue=function(removedValue){var isMulti=_this.props.isMulti,selectValue=_this.state.selectValue,candidate=_this.getOptionValue(removedValue),newValueArray=selectValue.filter((function(i){return _this.getOptionValue(i)!==candidate})),newValue=valueTernary(isMulti,newValueArray,newValueArray[0]||null);_this.onChange(newValue,{action:"remove-value",removedValue}),_this.focusInput()},_this.clearValue=function(){var selectValue=_this.state.selectValue;_this.onChange(valueTernary(_this.props.isMulti,[],null),{action:"clear",removedValues:selectValue})},_this.popValue=function(){var isMulti=_this.props.isMulti,selectValue=_this.state.selectValue,lastSelectedValue=selectValue[selectValue.length-1],newValueArray=selectValue.slice(0,selectValue.length-1),newValue=valueTernary(isMulti,newValueArray,newValueArray[0]||null);lastSelectedValue&&_this.onChange(newValue,{action:"pop-value",removedValue:lastSelectedValue})},_this.getFocusedOptionId=function(focusedOption){return getFocusedOptionId(_this.state.focusableOptionsWithIds,focusedOption)},_this.getFocusableOptionsWithIds=function(){return buildFocusableOptionsWithIds(buildCategorizedOptions(_this.props,_this.state.selectValue),_this.getElementId("option"))},_this.getValue=function(){return _this.state.selectValue},_this.cx=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return classNames.apply(void 0,[_this.props.classNamePrefix].concat(args))},_this.getOptionLabel=function(data){return getOptionLabel(_this.props,data)},_this.getOptionValue=function(data){return getOptionValue(_this.props,data)},_this.getStyles=function(key,props){var unstyled=_this.props.unstyled,base=defaultStyles[key](props,unstyled);base.boxSizing="border-box";var custom=_this.props.styles[key];return custom?custom(base,props):base},_this.getClassNames=function(key,props){var _this$props$className,_this$props$className2;return null===(_this$props$className=(_this$props$className2=_this.props.classNames)[key])||void 0===_this$props$className?void 0:_this$props$className.call(_this$props$className2,props)},_this.getElementId=function(element){return"".concat(_this.state.instancePrefix,"-").concat(element)},_this.getComponents=function(){return function defaultComponents(props){return objectSpread2_objectSpread2(objectSpread2_objectSpread2({},components),props.components)}(_this.props)},_this.buildCategorizedOptions=function(){return buildCategorizedOptions(_this.props,_this.state.selectValue)},_this.getCategorizedOptions=function(){return _this.props.menuIsOpen?_this.buildCategorizedOptions():[]},_this.buildFocusableOptions=function(){return buildFocusableOptionsFromCategorizedOptions(_this.buildCategorizedOptions())},_this.getFocusableOptions=function(){return _this.props.menuIsOpen?_this.buildFocusableOptions():[]},_this.ariaOnChange=function(value,actionMeta){_this.setState({ariaSelection:objectSpread2_objectSpread2({value},actionMeta)})},_this.onMenuMouseDown=function(event){0===event.button&&(event.stopPropagation(),event.preventDefault(),_this.focusInput())},_this.onMenuMouseMove=function(event){_this.blockOptionHover=!1},_this.onControlMouseDown=function(event){if(!event.defaultPrevented){var openMenuOnClick=_this.props.openMenuOnClick;_this.state.isFocused?_this.props.menuIsOpen?"INPUT"!==event.target.tagName&&"TEXTAREA"!==event.target.tagName&&_this.onMenuClose():openMenuOnClick&&_this.openMenu("first"):(openMenuOnClick&&(_this.openAfterFocus=!0),_this.focusInput()),"INPUT"!==event.target.tagName&&"TEXTAREA"!==event.target.tagName&&event.preventDefault()}},_this.onDropdownIndicatorMouseDown=function(event){if(!(event&&"mousedown"===event.type&&0!==event.button||_this.props.isDisabled)){var _this$props4=_this.props,isMulti=_this$props4.isMulti,menuIsOpen=_this$props4.menuIsOpen;_this.focusInput(),menuIsOpen?(_this.setState({inputIsHiddenAfterUpdate:!isMulti}),_this.onMenuClose()):_this.openMenu("first"),event.preventDefault()}},_this.onClearIndicatorMouseDown=function(event){event&&"mousedown"===event.type&&0!==event.button||(_this.clearValue(),event.preventDefault(),_this.openAfterFocus=!1,"touchend"===event.type?_this.focusInput():setTimeout((function(){return _this.focusInput()})))},_this.onScroll=function(event){"boolean"==typeof _this.props.closeMenuOnScroll?event.target instanceof HTMLElement&&isDocumentElement(event.target)&&_this.props.onMenuClose():"function"==typeof _this.props.closeMenuOnScroll&&_this.props.closeMenuOnScroll(event)&&_this.props.onMenuClose()},_this.onCompositionStart=function(){_this.isComposing=!0},_this.onCompositionEnd=function(){_this.isComposing=!1},_this.onTouchStart=function(_ref2){var touches=_ref2.touches,touch=touches&&touches.item(0);touch&&(_this.initialTouchX=touch.clientX,_this.initialTouchY=touch.clientY,_this.userIsDragging=!1)},_this.onTouchMove=function(_ref3){var touches=_ref3.touches,touch=touches&&touches.item(0);if(touch){var deltaX=Math.abs(touch.clientX-_this.initialTouchX),deltaY=Math.abs(touch.clientY-_this.initialTouchY);_this.userIsDragging=deltaX>5||deltaY>5}},_this.onTouchEnd=function(event){_this.userIsDragging||(_this.controlRef&&!_this.controlRef.contains(event.target)&&_this.menuListRef&&!_this.menuListRef.contains(event.target)&&_this.blurInput(),_this.initialTouchX=0,_this.initialTouchY=0)},_this.onControlTouchEnd=function(event){_this.userIsDragging||_this.onControlMouseDown(event)},_this.onClearIndicatorTouchEnd=function(event){_this.userIsDragging||_this.onClearIndicatorMouseDown(event)},_this.onDropdownIndicatorTouchEnd=function(event){_this.userIsDragging||_this.onDropdownIndicatorMouseDown(event)},_this.handleInputChange=function(event){var prevInputValue=_this.props.inputValue,inputValue=event.currentTarget.value;_this.setState({inputIsHiddenAfterUpdate:!1}),_this.onInputChange(inputValue,{action:"input-change",prevInputValue}),_this.props.menuIsOpen||_this.onMenuOpen()},_this.onInputFocus=function(event){_this.props.onFocus&&_this.props.onFocus(event),_this.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(_this.openAfterFocus||_this.props.openMenuOnFocus)&&_this.openMenu("first"),_this.openAfterFocus=!1},_this.onInputBlur=function(event){var prevInputValue=_this.props.inputValue;_this.menuListRef&&_this.menuListRef.contains(document.activeElement)?_this.inputRef.focus():(_this.props.onBlur&&_this.props.onBlur(event),_this.onInputChange("",{action:"input-blur",prevInputValue}),_this.onMenuClose(),_this.setState({focusedValue:null,isFocused:!1}))},_this.onOptionHover=function(focusedOption){if(!_this.blockOptionHover&&_this.state.focusedOption!==focusedOption){var focusedOptionIndex=_this.getFocusableOptions().indexOf(focusedOption);_this.setState({focusedOption,focusedOptionId:focusedOptionIndex>-1?_this.getFocusedOptionId(focusedOption):null})}},_this.shouldHideSelectedOptions=function(){return shouldHideSelectedOptions(_this.props)},_this.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),_this.focus()},_this.onKeyDown=function(event){var _this$props5=_this.props,isMulti=_this$props5.isMulti,backspaceRemovesValue=_this$props5.backspaceRemovesValue,escapeClearsValue=_this$props5.escapeClearsValue,inputValue=_this$props5.inputValue,isClearable=_this$props5.isClearable,isDisabled=_this$props5.isDisabled,menuIsOpen=_this$props5.menuIsOpen,onKeyDown=_this$props5.onKeyDown,tabSelectsValue=_this$props5.tabSelectsValue,openMenuOnFocus=_this$props5.openMenuOnFocus,_this$state=_this.state,focusedOption=_this$state.focusedOption,focusedValue=_this$state.focusedValue,selectValue=_this$state.selectValue;if(!(isDisabled||"function"==typeof onKeyDown&&(onKeyDown(event),event.defaultPrevented))){switch(_this.blockOptionHover=!0,event.key){case"ArrowLeft":if(!isMulti||inputValue)return;_this.focusValue("previous");break;case"ArrowRight":if(!isMulti||inputValue)return;_this.focusValue("next");break;case"Delete":case"Backspace":if(inputValue)return;if(focusedValue)_this.removeValue(focusedValue);else{if(!backspaceRemovesValue)return;isMulti?_this.popValue():isClearable&&_this.clearValue()}break;case"Tab":if(_this.isComposing)return;if(event.shiftKey||!menuIsOpen||!tabSelectsValue||!focusedOption||openMenuOnFocus&&_this.isOptionSelected(focusedOption,selectValue))return;_this.selectOption(focusedOption);break;case"Enter":if(229===event.keyCode)break;if(menuIsOpen){if(!focusedOption)return;if(_this.isComposing)return;_this.selectOption(focusedOption);break}return;case"Escape":menuIsOpen?(_this.setState({inputIsHiddenAfterUpdate:!1}),_this.onInputChange("",{action:"menu-close",prevInputValue:inputValue}),_this.onMenuClose()):isClearable&&escapeClearsValue&&_this.clearValue();break;case" ":if(inputValue)return;if(!menuIsOpen){_this.openMenu("first");break}if(!focusedOption)return;_this.selectOption(focusedOption);break;case"ArrowUp":menuIsOpen?_this.focusOption("up"):_this.openMenu("last");break;case"ArrowDown":menuIsOpen?_this.focusOption("down"):_this.openMenu("first");break;case"PageUp":if(!menuIsOpen)return;_this.focusOption("pageup");break;case"PageDown":if(!menuIsOpen)return;_this.focusOption("pagedown");break;case"Home":if(!menuIsOpen)return;_this.focusOption("first");break;case"End":if(!menuIsOpen)return;_this.focusOption("last");break;default:return}event.preventDefault()}},_this.state.instancePrefix="react-select-"+(_this.props.instanceId||++instanceId),_this.state.selectValue=cleanValue(_props.value),_props.menuIsOpen&&_this.state.selectValue.length){var focusableOptionsWithIds=_this.getFocusableOptionsWithIds(),focusableOptions=_this.buildFocusableOptions(),optionIndex=focusableOptions.indexOf(_this.state.selectValue[0]);_this.state.focusableOptionsWithIds=focusableOptionsWithIds,_this.state.focusedOption=focusableOptions[optionIndex],_this.state.focusedOptionId=getFocusedOptionId(focusableOptionsWithIds,focusableOptions[optionIndex])}return _this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Select,[{key:"componentDidMount",value:function componentDidMount(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&scrollIntoView(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this$props6=this.props,isDisabled=_this$props6.isDisabled,menuIsOpen=_this$props6.menuIsOpen,isFocused=this.state.isFocused;(isFocused&&!isDisabled&&prevProps.isDisabled||isFocused&&menuIsOpen&&!prevProps.menuIsOpen)&&this.focusInput(),isFocused&&isDisabled&&!prevProps.isDisabled?this.setState({isFocused:!1},this.onMenuClose):isFocused||isDisabled||!prevProps.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(scrollIntoView(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function onMenuOpen(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function onMenuClose(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function onInputChange(newValue,actionMeta){this.props.onInputChange(newValue,actionMeta)}},{key:"focusInput",value:function focusInput(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function blurInput(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function openMenu(focusOption){var _this2=this,_this$state2=this.state,selectValue=_this$state2.selectValue,isFocused=_this$state2.isFocused,focusableOptions=this.buildFocusableOptions(),openAtIndex="first"===focusOption?0:focusableOptions.length-1;if(!this.props.isMulti){var selectedIndex=focusableOptions.indexOf(selectValue[0]);selectedIndex>-1&&(openAtIndex=selectedIndex)}this.scrollToFocusedOptionOnUpdate=!(isFocused&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:focusableOptions[openAtIndex],focusedOptionId:this.getFocusedOptionId(focusableOptions[openAtIndex])},(function(){return _this2.onMenuOpen()}))}},{key:"focusValue",value:function focusValue(direction){var _this$state3=this.state,selectValue=_this$state3.selectValue,focusedValue=_this$state3.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var focusedIndex=selectValue.indexOf(focusedValue);focusedValue||(focusedIndex=-1);var lastIndex=selectValue.length-1,nextFocus=-1;if(selectValue.length){switch(direction){case"previous":nextFocus=0===focusedIndex?0:-1===focusedIndex?lastIndex:focusedIndex-1;break;case"next":focusedIndex>-1&&focusedIndex<lastIndex&&(nextFocus=focusedIndex+1)}this.setState({inputIsHidden:-1!==nextFocus,focusedValue:selectValue[nextFocus]})}}}},{key:"focusOption",value:function focusOption(){var direction=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",pageSize=this.props.pageSize,focusedOption=this.state.focusedOption,options=this.getFocusableOptions();if(options.length){var nextFocus=0,focusedIndex=options.indexOf(focusedOption);focusedOption||(focusedIndex=-1),"up"===direction?nextFocus=focusedIndex>0?focusedIndex-1:options.length-1:"down"===direction?nextFocus=(focusedIndex+1)%options.length:"pageup"===direction?(nextFocus=focusedIndex-pageSize)<0&&(nextFocus=0):"pagedown"===direction?(nextFocus=focusedIndex+pageSize)>options.length-1&&(nextFocus=options.length-1):"last"===direction&&(nextFocus=options.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:options[nextFocus],focusedValue:null,focusedOptionId:this.getFocusedOptionId(options[nextFocus])})}}},{key:"getTheme",value:function getTheme(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(defaultTheme):objectSpread2_objectSpread2(objectSpread2_objectSpread2({},defaultTheme),this.props.theme):defaultTheme}},{key:"getCommonProps",value:function getCommonProps(){var clearValue=this.clearValue,cx=this.cx,getStyles=this.getStyles,getClassNames=this.getClassNames,getValue=this.getValue,selectOption=this.selectOption,setValue=this.setValue,props=this.props,isMulti=props.isMulti,isRtl=props.isRtl,options=props.options;return{clearValue,cx,getStyles,getClassNames,getValue,hasValue:this.hasValue(),isMulti,isRtl,options,selectOption,selectProps:props,setValue,theme:this.getTheme()}}},{key:"hasValue",value:function hasValue(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function hasOptions(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function isClearable(){var _this$props7=this.props,isClearable=_this$props7.isClearable,isMulti=_this$props7.isMulti;return void 0===isClearable?isMulti:isClearable}},{key:"isOptionDisabled",value:function isOptionDisabled(option,selectValue){return _isOptionDisabled(this.props,option,selectValue)}},{key:"isOptionSelected",value:function isOptionSelected(option,selectValue){return _isOptionSelected(this.props,option,selectValue)}},{key:"filterOption",value:function filterOption(option,inputValue){return _filterOption(this.props,option,inputValue)}},{key:"formatOptionLabel",value:function formatOptionLabel(data,context){if("function"==typeof this.props.formatOptionLabel){var _inputValue=this.props.inputValue,_selectValue=this.state.selectValue;return this.props.formatOptionLabel(data,{context,inputValue:_inputValue,selectValue:_selectValue})}return this.getOptionLabel(data)}},{key:"formatGroupLabel",value:function formatGroupLabel(data){return this.props.formatGroupLabel(data)}},{key:"startListeningComposition",value:function startListeningComposition(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function stopListeningComposition(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function startListeningToTouch(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function stopListeningToTouch(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function renderInput(){var _this$props8=this.props,isDisabled=_this$props8.isDisabled,isSearchable=_this$props8.isSearchable,inputId=_this$props8.inputId,inputValue=_this$props8.inputValue,tabIndex=_this$props8.tabIndex,form=_this$props8.form,menuIsOpen=_this$props8.menuIsOpen,required=_this$props8.required,Input=this.getComponents().Input,_this$state4=this.state,inputIsHidden=_this$state4.inputIsHidden,ariaSelection=_this$state4.ariaSelection,commonProps=this.commonProps,id=inputId||this.getElementId("input"),ariaAttributes=objectSpread2_objectSpread2(objectSpread2_objectSpread2(objectSpread2_objectSpread2({"aria-autocomplete":"list","aria-expanded":menuIsOpen,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":required,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},menuIsOpen&&{"aria-controls":this.getElementId("listbox")}),!isSearchable&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==ariaSelection?void 0:ariaSelection.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return isSearchable?react.createElement(Input,extends_extends({},commonProps,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id,innerRef:this.getInputRef,isDisabled,isHidden:inputIsHidden,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex,form,type:"text",value:inputValue},ariaAttributes)):react.createElement(DummyInput,extends_extends({id,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:noop,onFocus:this.onInputFocus,disabled:isDisabled,tabIndex,inputMode:"none",form,value:""},ariaAttributes))}},{key:"renderPlaceholderOrValue",value:function renderPlaceholderOrValue(){var _this3=this,_this$getComponents2=this.getComponents(),MultiValue=_this$getComponents2.MultiValue,MultiValueContainer=_this$getComponents2.MultiValueContainer,MultiValueLabel=_this$getComponents2.MultiValueLabel,MultiValueRemove=_this$getComponents2.MultiValueRemove,SingleValue=_this$getComponents2.SingleValue,Placeholder=_this$getComponents2.Placeholder,commonProps=this.commonProps,_this$props9=this.props,controlShouldRenderValue=_this$props9.controlShouldRenderValue,isDisabled=_this$props9.isDisabled,isMulti=_this$props9.isMulti,inputValue=_this$props9.inputValue,placeholder=_this$props9.placeholder,_this$state5=this.state,selectValue=_this$state5.selectValue,focusedValue=_this$state5.focusedValue,isFocused=_this$state5.isFocused;if(!this.hasValue()||!controlShouldRenderValue)return inputValue?null:react.createElement(Placeholder,extends_extends({},commonProps,{key:"placeholder",isDisabled,isFocused,innerProps:{id:this.getElementId("placeholder")}}),placeholder);if(isMulti)return selectValue.map((function(opt,index){var isOptionFocused=opt===focusedValue,key="".concat(_this3.getOptionLabel(opt),"-").concat(_this3.getOptionValue(opt));return react.createElement(MultiValue,extends_extends({},commonProps,{components:{Container:MultiValueContainer,Label:MultiValueLabel,Remove:MultiValueRemove},isFocused:isOptionFocused,isDisabled,key,index,removeProps:{onClick:function onClick(){return _this3.removeValue(opt)},onTouchEnd:function onTouchEnd(){return _this3.removeValue(opt)},onMouseDown:function onMouseDown(e){e.preventDefault()}},data:opt}),_this3.formatOptionLabel(opt,"value"))}));if(inputValue)return null;var singleValue=selectValue[0];return react.createElement(SingleValue,extends_extends({},commonProps,{data:singleValue,isDisabled}),this.formatOptionLabel(singleValue,"value"))}},{key:"renderClearIndicator",value:function renderClearIndicator(){var ClearIndicator=this.getComponents().ClearIndicator,commonProps=this.commonProps,_this$props10=this.props,isDisabled=_this$props10.isDisabled,isLoading=_this$props10.isLoading,isFocused=this.state.isFocused;if(!this.isClearable()||!ClearIndicator||isDisabled||!this.hasValue()||isLoading)return null;var innerProps={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return react.createElement(ClearIndicator,extends_extends({},commonProps,{innerProps,isFocused}))}},{key:"renderLoadingIndicator",value:function renderLoadingIndicator(){var LoadingIndicator=this.getComponents().LoadingIndicator,commonProps=this.commonProps,_this$props11=this.props,isDisabled=_this$props11.isDisabled,isLoading=_this$props11.isLoading,isFocused=this.state.isFocused;if(!LoadingIndicator||!isLoading)return null;return react.createElement(LoadingIndicator,extends_extends({},commonProps,{innerProps:{"aria-hidden":"true"},isDisabled,isFocused}))}},{key:"renderIndicatorSeparator",value:function renderIndicatorSeparator(){var _this$getComponents5=this.getComponents(),DropdownIndicator=_this$getComponents5.DropdownIndicator,IndicatorSeparator=_this$getComponents5.IndicatorSeparator;if(!DropdownIndicator||!IndicatorSeparator)return null;var commonProps=this.commonProps,isDisabled=this.props.isDisabled,isFocused=this.state.isFocused;return react.createElement(IndicatorSeparator,extends_extends({},commonProps,{isDisabled,isFocused}))}},{key:"renderDropdownIndicator",value:function renderDropdownIndicator(){var DropdownIndicator=this.getComponents().DropdownIndicator;if(!DropdownIndicator)return null;var commonProps=this.commonProps,isDisabled=this.props.isDisabled,isFocused=this.state.isFocused,innerProps={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return react.createElement(DropdownIndicator,extends_extends({},commonProps,{innerProps,isDisabled,isFocused}))}},{key:"renderMenu",value:function renderMenu(){var _this4=this,_this$getComponents7=this.getComponents(),Group=_this$getComponents7.Group,GroupHeading=_this$getComponents7.GroupHeading,Menu=_this$getComponents7.Menu,MenuList=_this$getComponents7.MenuList,MenuPortal=_this$getComponents7.MenuPortal,LoadingMessage=_this$getComponents7.LoadingMessage,NoOptionsMessage=_this$getComponents7.NoOptionsMessage,Option=_this$getComponents7.Option,commonProps=this.commonProps,focusedOption=this.state.focusedOption,_this$props12=this.props,captureMenuScroll=_this$props12.captureMenuScroll,inputValue=_this$props12.inputValue,isLoading=_this$props12.isLoading,loadingMessage=_this$props12.loadingMessage,minMenuHeight=_this$props12.minMenuHeight,maxMenuHeight=_this$props12.maxMenuHeight,menuIsOpen=_this$props12.menuIsOpen,menuPlacement=_this$props12.menuPlacement,menuPosition=_this$props12.menuPosition,menuPortalTarget=_this$props12.menuPortalTarget,menuShouldBlockScroll=_this$props12.menuShouldBlockScroll,menuShouldScrollIntoView=_this$props12.menuShouldScrollIntoView,noOptionsMessage=_this$props12.noOptionsMessage,onMenuScrollToTop=_this$props12.onMenuScrollToTop,onMenuScrollToBottom=_this$props12.onMenuScrollToBottom;if(!menuIsOpen)return null;var menuUI,render=function render(props,id){var type=props.type,data=props.data,isDisabled=props.isDisabled,isSelected=props.isSelected,label=props.label,value=props.value,isFocused=focusedOption===data,onHover=isDisabled?void 0:function(){return _this4.onOptionHover(data)},onSelect=isDisabled?void 0:function(){return _this4.selectOption(data)},optionId="".concat(_this4.getElementId("option"),"-").concat(id),innerProps={id:optionId,onClick:onSelect,onMouseMove:onHover,onMouseOver:onHover,tabIndex:-1,role:"option","aria-selected":_this4.isAppleDevice?void 0:isSelected};return react.createElement(Option,extends_extends({},commonProps,{innerProps,data,isDisabled,isSelected,key:optionId,label,type,value,isFocused,innerRef:isFocused?_this4.getFocusedOptionRef:void 0}),_this4.formatOptionLabel(props.data,"menu"))};if(this.hasOptions())menuUI=this.getCategorizedOptions().map((function(item){if("group"===item.type){var _data=item.data,options=item.options,groupIndex=item.index,groupId="".concat(_this4.getElementId("group"),"-").concat(groupIndex),headingId="".concat(groupId,"-heading");return react.createElement(Group,extends_extends({},commonProps,{key:groupId,data:_data,options,Heading:GroupHeading,headingProps:{id:headingId,data:item.data},label:_this4.formatGroupLabel(item.data)}),item.options.map((function(option){return render(option,"".concat(groupIndex,"-").concat(option.index))})))}if("option"===item.type)return render(item,"".concat(item.index))}));else if(isLoading){var message=loadingMessage({inputValue});if(null===message)return null;menuUI=react.createElement(LoadingMessage,commonProps,message)}else{var _message=noOptionsMessage({inputValue});if(null===_message)return null;menuUI=react.createElement(NoOptionsMessage,commonProps,_message)}var menuPlacementProps={minMenuHeight,maxMenuHeight,menuPlacement,menuPosition,menuShouldScrollIntoView},menuElement=react.createElement(MenuPlacer,extends_extends({},commonProps,menuPlacementProps),(function(_ref4){var ref=_ref4.ref,_ref4$placerProps=_ref4.placerProps,placement=_ref4$placerProps.placement,maxHeight=_ref4$placerProps.maxHeight;return react.createElement(Menu,extends_extends({},commonProps,menuPlacementProps,{innerRef:ref,innerProps:{onMouseDown:_this4.onMenuMouseDown,onMouseMove:_this4.onMenuMouseMove},isLoading,placement}),react.createElement(ScrollManager,{captureEnabled:captureMenuScroll,onTopArrive:onMenuScrollToTop,onBottomArrive:onMenuScrollToBottom,lockEnabled:menuShouldBlockScroll},(function(scrollTargetRef){return react.createElement(MenuList,extends_extends({},commonProps,{innerRef:function innerRef(instance){_this4.getMenuListRef(instance),scrollTargetRef(instance)},innerProps:{role:"listbox","aria-multiselectable":commonProps.isMulti,id:_this4.getElementId("listbox")},isLoading,maxHeight,focusedOption}),menuUI)})))}));return menuPortalTarget||"fixed"===menuPosition?react.createElement(MenuPortal,extends_extends({},commonProps,{appendTo:menuPortalTarget,controlElement:this.controlRef,menuPlacement,menuPosition}),menuElement):menuElement}},{key:"renderFormField",value:function renderFormField(){var _this5=this,_this$props13=this.props,delimiter=_this$props13.delimiter,isDisabled=_this$props13.isDisabled,isMulti=_this$props13.isMulti,name=_this$props13.name,required=_this$props13.required,selectValue=this.state.selectValue;if(required&&!this.hasValue()&&!isDisabled)return react.createElement(RequiredInput$1,{name,onFocus:this.onValueInputFocus});if(name&&!isDisabled){if(isMulti){if(delimiter){var value=selectValue.map((function(opt){return _this5.getOptionValue(opt)})).join(delimiter);return react.createElement("input",{name,type:"hidden",value})}var input=selectValue.length>0?selectValue.map((function(opt,i){return react.createElement("input",{key:"i-".concat(i),name,type:"hidden",value:_this5.getOptionValue(opt)})})):react.createElement("input",{name,type:"hidden",value:""});return react.createElement("div",null,input)}var _value=selectValue[0]?this.getOptionValue(selectValue[0]):"";return react.createElement("input",{name,type:"hidden",value:_value})}}},{key:"renderLiveRegion",value:function renderLiveRegion(){var commonProps=this.commonProps,_this$state6=this.state,ariaSelection=_this$state6.ariaSelection,focusedOption=_this$state6.focusedOption,focusedValue=_this$state6.focusedValue,isFocused=_this$state6.isFocused,selectValue=_this$state6.selectValue,focusableOptions=this.getFocusableOptions();return react.createElement(LiveRegion$1,extends_extends({},commonProps,{id:this.getElementId("live-region"),ariaSelection,focusedOption,focusedValue,isFocused,selectValue,focusableOptions,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function render(){var _this$getComponents8=this.getComponents(),Control=_this$getComponents8.Control,IndicatorsContainer=_this$getComponents8.IndicatorsContainer,SelectContainer=_this$getComponents8.SelectContainer,ValueContainer=_this$getComponents8.ValueContainer,_this$props14=this.props,className=_this$props14.className,id=_this$props14.id,isDisabled=_this$props14.isDisabled,menuIsOpen=_this$props14.menuIsOpen,isFocused=this.state.isFocused,commonProps=this.commonProps=this.getCommonProps();return react.createElement(SelectContainer,extends_extends({},commonProps,{className,innerProps:{id,onKeyDown:this.onKeyDown},isDisabled,isFocused}),this.renderLiveRegion(),react.createElement(Control,extends_extends({},commonProps,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled,isFocused,menuIsOpen}),react.createElement(ValueContainer,extends_extends({},commonProps,{isDisabled}),this.renderPlaceholderOrValue(),this.renderInput()),react.createElement(IndicatorsContainer,extends_extends({},commonProps,{isDisabled}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(props,state){var prevProps=state.prevProps,clearFocusValueOnUpdate=state.clearFocusValueOnUpdate,inputIsHiddenAfterUpdate=state.inputIsHiddenAfterUpdate,ariaSelection=state.ariaSelection,isFocused=state.isFocused,prevWasFocused=state.prevWasFocused,instancePrefix=state.instancePrefix,options=props.options,value=props.value,menuIsOpen=props.menuIsOpen,inputValue=props.inputValue,isMulti=props.isMulti,selectValue=cleanValue(value),newMenuOptionsState={};if(prevProps&&(value!==prevProps.value||options!==prevProps.options||menuIsOpen!==prevProps.menuIsOpen||inputValue!==prevProps.inputValue)){var focusableOptions=menuIsOpen?function buildFocusableOptions(props,selectValue){return buildFocusableOptionsFromCategorizedOptions(buildCategorizedOptions(props,selectValue))}(props,selectValue):[],focusableOptionsWithIds=menuIsOpen?buildFocusableOptionsWithIds(buildCategorizedOptions(props,selectValue),"".concat(instancePrefix,"-option")):[],focusedValue=clearFocusValueOnUpdate?function getNextFocusedValue(state,nextSelectValue){var focusedValue=state.focusedValue,lastFocusedIndex=state.selectValue.indexOf(focusedValue);if(lastFocusedIndex>-1){if(nextSelectValue.indexOf(focusedValue)>-1)return focusedValue;if(lastFocusedIndex<nextSelectValue.length)return nextSelectValue[lastFocusedIndex]}return null}(state,selectValue):null,focusedOption=function getNextFocusedOption(state,options){var lastFocusedOption=state.focusedOption;return lastFocusedOption&&options.indexOf(lastFocusedOption)>-1?lastFocusedOption:options[0]}(state,focusableOptions);newMenuOptionsState={selectValue,focusedOption,focusedOptionId:getFocusedOptionId(focusableOptionsWithIds,focusedOption),focusableOptionsWithIds,focusedValue,clearFocusValueOnUpdate:!1}}var newInputIsHiddenState=null!=inputIsHiddenAfterUpdate&&props!==prevProps?{inputIsHidden:inputIsHiddenAfterUpdate,inputIsHiddenAfterUpdate:void 0}:{},newAriaSelection=ariaSelection,hasKeptFocus=isFocused&&prevWasFocused;return isFocused&&!hasKeptFocus&&(newAriaSelection={value:valueTernary(isMulti,selectValue,selectValue[0]||null),options:selectValue,action:"initial-input-focus"},hasKeptFocus=!prevWasFocused),"initial-input-focus"===(null==ariaSelection?void 0:ariaSelection.action)&&(newAriaSelection=null),objectSpread2_objectSpread2(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},newMenuOptionsState),newInputIsHiddenState),{},{prevProps:props,ariaSelection:newAriaSelection,prevWasFocused:hasKeptFocus})}}]),Select}(react.Component);Select.defaultProps=defaultProps;Math.abs,String.fromCharCode;var StateManagedSelect=(0,react.forwardRef)((function(props,ref){var baseSelectProps=function useStateManager(_ref){var _ref$defaultInputValu=_ref.defaultInputValue,defaultInputValue=void 0===_ref$defaultInputValu?"":_ref$defaultInputValu,_ref$defaultMenuIsOpe=_ref.defaultMenuIsOpen,defaultMenuIsOpen=void 0!==_ref$defaultMenuIsOpe&&_ref$defaultMenuIsOpe,_ref$defaultValue=_ref.defaultValue,defaultValue=void 0===_ref$defaultValue?null:_ref$defaultValue,propsInputValue=_ref.inputValue,propsMenuIsOpen=_ref.menuIsOpen,propsOnChange=_ref.onChange,propsOnInputChange=_ref.onInputChange,propsOnMenuClose=_ref.onMenuClose,propsOnMenuOpen=_ref.onMenuOpen,propsValue=_ref.value,restSelectProps=_objectWithoutProperties(_ref,_excluded),_useState2=_slicedToArray((0,react.useState)(void 0!==propsInputValue?propsInputValue:defaultInputValue),2),stateInputValue=_useState2[0],setStateInputValue=_useState2[1],_useState4=_slicedToArray((0,react.useState)(void 0!==propsMenuIsOpen?propsMenuIsOpen:defaultMenuIsOpen),2),stateMenuIsOpen=_useState4[0],setStateMenuIsOpen=_useState4[1],_useState6=_slicedToArray((0,react.useState)(void 0!==propsValue?propsValue:defaultValue),2),stateValue=_useState6[0],setStateValue=_useState6[1],onChange=(0,react.useCallback)((function(value,actionMeta){"function"==typeof propsOnChange&&propsOnChange(value,actionMeta),setStateValue(value)}),[propsOnChange]),onInputChange=(0,react.useCallback)((function(value,actionMeta){var newValue;"function"==typeof propsOnInputChange&&(newValue=propsOnInputChange(value,actionMeta)),setStateInputValue(void 0!==newValue?newValue:value)}),[propsOnInputChange]),onMenuOpen=(0,react.useCallback)((function(){"function"==typeof propsOnMenuOpen&&propsOnMenuOpen(),setStateMenuIsOpen(!0)}),[propsOnMenuOpen]),onMenuClose=(0,react.useCallback)((function(){"function"==typeof propsOnMenuClose&&propsOnMenuClose(),setStateMenuIsOpen(!1)}),[propsOnMenuClose]),inputValue=void 0!==propsInputValue?propsInputValue:stateInputValue,menuIsOpen=void 0!==propsMenuIsOpen?propsMenuIsOpen:stateMenuIsOpen,value=void 0!==propsValue?propsValue:stateValue;return objectSpread2_objectSpread2(objectSpread2_objectSpread2({},restSelectProps),{},{inputValue,menuIsOpen,onChange,onInputChange,onMenuClose,onMenuOpen,value})}(props);return react.createElement(Select,extends_extends({ref},baseSelectProps))})),StateManagedSelect$1=StateManagedSelect},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./node_modules/regexp-to-ast/lib/regexp-to-ast.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){function RegExpParser(){}RegExpParser.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},RegExpParser.prototype.restoreState=function(newState){this.idx=newState.idx,this.input=newState.input,this.groupIdx=newState.groupIdx},RegExpParser.prototype.pattern=function(input){this.idx=0,this.input=input,this.groupIdx=0,this.consumeChar("/");var value=this.disjunction();this.consumeChar("/");for(var flags={type:"Flags",loc:{begin:this.idx,end:input.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":addFlag(flags,"global");break;case"i":addFlag(flags,"ignoreCase");break;case"m":addFlag(flags,"multiLine");break;case"u":addFlag(flags,"unicode");break;case"y":addFlag(flags,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags,value,loc:this.loc(0)}},RegExpParser.prototype.disjunction=function(){var alts=[],begin=this.idx;for(alts.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),alts.push(this.alternative());return{type:"Disjunction",value:alts,loc:this.loc(begin)}},RegExpParser.prototype.alternative=function(){for(var terms=[],begin=this.idx;this.isTerm();)terms.push(this.term());return{type:"Alternative",value:terms,loc:this.loc(begin)}},RegExpParser.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},RegExpParser.prototype.assertion=function(){var begin=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(begin)};case"$":return{type:"EndAnchor",loc:this.loc(begin)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(begin)};case"B":return{type:"NonWordBoundary",loc:this.loc(begin)}}throw Error("Invalid Assertion Escape");case"(":var type;switch(this.consumeChar("?"),this.popChar()){case"=":type="Lookahead";break;case"!":type="NegativeLookahead"}ASSERT_EXISTS(type);var disjunction=this.disjunction();return this.consumeChar(")"),{type,value:disjunction,loc:this.loc(begin)}}ASSERT_NEVER_REACH_HERE()},RegExpParser.prototype.quantifier=function(isBacktracking){var range,begin=this.idx;switch(this.popChar()){case"*":range={atLeast:0,atMost:1/0};break;case"+":range={atLeast:1,atMost:1/0};break;case"?":range={atLeast:0,atMost:1};break;case"{":var atLeast=this.integerIncludingZero();switch(this.popChar()){case"}":range={atLeast,atMost:atLeast};break;case",":range=this.isDigit()?{atLeast,atMost:this.integerIncludingZero()}:{atLeast,atMost:1/0},this.consumeChar("}")}if(!0===isBacktracking&&void 0===range)return;ASSERT_EXISTS(range)}if(!0!==isBacktracking||void 0!==range)return ASSERT_EXISTS(range),"?"===this.peekChar(0)?(this.consumeChar("?"),range.greedy=!1):range.greedy=!0,range.type="Quantifier",range.loc=this.loc(begin),range},RegExpParser.prototype.atom=function(){var atom,begin=this.idx;switch(this.peekChar()){case".":atom=this.dotAll();break;case"\\":atom=this.atomEscape();break;case"[":atom=this.characterClass();break;case"(":atom=this.group()}return void 0===atom&&this.isPatternCharacter()&&(atom=this.patternCharacter()),ASSERT_EXISTS(atom),atom.loc=this.loc(begin),this.isQuantifier()&&(atom.quantifier=this.quantifier()),atom},RegExpParser.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[cc("\n"),cc("\r"),cc("\u2028"),cc("\u2029")]}},RegExpParser.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},RegExpParser.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},RegExpParser.prototype.characterClassEscape=function(){var set,complement=!1;switch(this.popChar()){case"d":set=digitsCharCodes;break;case"D":set=digitsCharCodes,complement=!0;break;case"s":set=whitespaceCodes;break;case"S":set=whitespaceCodes,complement=!0;break;case"w":set=wordCharCodes;break;case"W":set=wordCharCodes,complement=!0}return ASSERT_EXISTS(set),{type:"Set",value:set,complement}},RegExpParser.prototype.controlEscapeAtom=function(){var escapeCode;switch(this.popChar()){case"f":escapeCode=cc("\f");break;case"n":escapeCode=cc("\n");break;case"r":escapeCode=cc("\r");break;case"t":escapeCode=cc("\t");break;case"v":escapeCode=cc("\v")}return ASSERT_EXISTS(escapeCode),{type:"Character",value:escapeCode}},RegExpParser.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var letter=this.popChar();if(!1===/[a-zA-Z]/.test(letter))throw Error("Invalid ");return{type:"Character",value:letter.toUpperCase().charCodeAt(0)-64}},RegExpParser.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:cc("\0")}},RegExpParser.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},RegExpParser.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},RegExpParser.prototype.identityEscapeAtom=function(){return{type:"Character",value:cc(this.popChar())}},RegExpParser.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:cc(this.popChar())}}},RegExpParser.prototype.characterClass=function(){var set=[],complement=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),complement=!0);this.isClassAtom();){var from=this.classAtom();if("Character"===from.type&&this.isRangeDash()){this.consumeChar("-");var to=this.classAtom();if("Character"===to.type){if(to.value<from.value)throw Error("Range out of order in character class");set.push({from:from.value,to:to.value})}else insertToSet(from.value,set),set.push(cc("-")),insertToSet(to.value,set)}else insertToSet(from.value,set)}return this.consumeChar("]"),{type:"Set",complement,value:set}},RegExpParser.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},RegExpParser.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:cc("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},RegExpParser.prototype.group=function(){var capturing=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),capturing=!1):this.groupIdx++;var value=this.disjunction();this.consumeChar(")");var groupAst={type:"Group",capturing,value};return capturing&&(groupAst.idx=this.groupIdx),groupAst},RegExpParser.prototype.positiveInteger=function(){var number=this.popChar();if(!1===decimalPatternNoZero.test(number))throw Error("Expecting a positive integer");for(;decimalPattern.test(this.peekChar(0));)number+=this.popChar();return parseInt(number,10)},RegExpParser.prototype.integerIncludingZero=function(){var number=this.popChar();if(!1===decimalPattern.test(number))throw Error("Expecting an integer");for(;decimalPattern.test(this.peekChar(0));)number+=this.popChar();return parseInt(number,10)},RegExpParser.prototype.patternCharacter=function(){var nextChar=this.popChar();switch(nextChar){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:cc(nextChar)}}},RegExpParser.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},RegExpParser.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},RegExpParser.prototype.isDigit=function(){return decimalPattern.test(this.peekChar(0))},RegExpParser.prototype.isClassAtom=function(howMuch){switch(void 0===howMuch&&(howMuch=0),this.peekChar(howMuch)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},RegExpParser.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},RegExpParser.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},RegExpParser.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},RegExpParser.prototype.isQuantifier=function(){var prevState=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(prevState)}},RegExpParser.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},RegExpParser.prototype.parseHexDigits=function(howMany){for(var hexString="",i=0;i<howMany;i++){var hexChar=this.popChar();if(!1===hexDigitPattern.test(hexChar))throw Error("Expecting a HexDecimal digits");hexString+=hexChar}return{type:"Character",value:parseInt(hexString,16)}},RegExpParser.prototype.peekChar=function(howMuch){return void 0===howMuch&&(howMuch=0),this.input[this.idx+howMuch]},RegExpParser.prototype.popChar=function(){var nextChar=this.peekChar(0);return this.consumeChar(),nextChar},RegExpParser.prototype.consumeChar=function(char){if(void 0!==char&&this.input[this.idx]!==char)throw Error("Expected: '"+char+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},RegExpParser.prototype.loc=function(begin){return{begin,end:this.idx}};var i,hexDigitPattern=/[0-9a-fA-F]/,decimalPattern=/[0-9]/,decimalPatternNoZero=/[1-9]/;function cc(char){return char.charCodeAt(0)}function insertToSet(item,set){void 0!==item.length?item.forEach((function(subItem){set.push(subItem)})):set.push(item)}function addFlag(flagObj,flagKey){if(!0===flagObj[flagKey])throw"duplicate flag "+flagKey;flagObj[flagKey]=!0}function ASSERT_EXISTS(obj){if(void 0===obj)throw Error("Internal Error - Should never get here!")}function ASSERT_NEVER_REACH_HERE(){throw Error("Internal Error - Should never get here!")}var digitsCharCodes=[];for(i=cc("0");i<=cc("9");i++)digitsCharCodes.push(i);var wordCharCodes=[cc("_")].concat(digitsCharCodes);for(i=cc("a");i<=cc("z");i++)wordCharCodes.push(i);for(i=cc("A");i<=cc("Z");i++)wordCharCodes.push(i);var whitespaceCodes=[cc(" "),cc("\f"),cc("\n"),cc("\r"),cc("\t"),cc("\v"),cc("\t"),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc(" "),cc("\u2028"),cc("\u2029"),cc(" "),cc(" "),cc("　"),cc("\ufeff")];function BaseRegExpVisitor(){}return BaseRegExpVisitor.prototype.visitChildren=function(node){for(var key in node){var child=node[key];node.hasOwnProperty(key)&&(void 0!==child.type?this.visit(child):Array.isArray(child)&&child.forEach((function(subChild){this.visit(subChild)}),this))}},BaseRegExpVisitor.prototype.visit=function(node){switch(node.type){case"Pattern":this.visitPattern(node);break;case"Flags":this.visitFlags(node);break;case"Disjunction":this.visitDisjunction(node);break;case"Alternative":this.visitAlternative(node);break;case"StartAnchor":this.visitStartAnchor(node);break;case"EndAnchor":this.visitEndAnchor(node);break;case"WordBoundary":this.visitWordBoundary(node);break;case"NonWordBoundary":this.visitNonWordBoundary(node);break;case"Lookahead":this.visitLookahead(node);break;case"NegativeLookahead":this.visitNegativeLookahead(node);break;case"Character":this.visitCharacter(node);break;case"Set":this.visitSet(node);break;case"Group":this.visitGroup(node);break;case"GroupBackReference":this.visitGroupBackReference(node);break;case"Quantifier":this.visitQuantifier(node)}this.visitChildren(node)},BaseRegExpVisitor.prototype.visitPattern=function(node){},BaseRegExpVisitor.prototype.visitFlags=function(node){},BaseRegExpVisitor.prototype.visitDisjunction=function(node){},BaseRegExpVisitor.prototype.visitAlternative=function(node){},BaseRegExpVisitor.prototype.visitStartAnchor=function(node){},BaseRegExpVisitor.prototype.visitEndAnchor=function(node){},BaseRegExpVisitor.prototype.visitWordBoundary=function(node){},BaseRegExpVisitor.prototype.visitNonWordBoundary=function(node){},BaseRegExpVisitor.prototype.visitLookahead=function(node){},BaseRegExpVisitor.prototype.visitNegativeLookahead=function(node){},BaseRegExpVisitor.prototype.visitCharacter=function(node){},BaseRegExpVisitor.prototype.visitSet=function(node){},BaseRegExpVisitor.prototype.visitGroup=function(node){},BaseRegExpVisitor.prototype.visitGroupBackReference=function(node){},BaseRegExpVisitor.prototype.visitQuantifier=function(node){},{RegExpParser,BaseRegExpVisitor,VERSION:"0.5.0"}})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/scheduler/cjs/scheduler.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var f,g,h,k;if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a),t=null}catch(b){throw setTimeout(w,0),b}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))},g=function(a,b){u=setTimeout(a,b)},h=function(){clearTimeout(u)},exports.unstable_shouldYield=function(){return!1},k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var z=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof z&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=E},k=function(){},exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<a?Math.floor(1e3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b}}else A=!1},f=function(a){B=a,A||(A=!0,G.postMessage(null))},g=function(a,b){C=x((function(){a(exports.unstable_now())}),b)},h=function(){y(C),C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(!(void 0!==e&&0<I(e,b)))break a;a[d]=b,a[c]=e,c=d}}function J(a){return void 0===(a=a[0])?null:a}function K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else{if(!(void 0!==r&&0>I(r,c)))break a;a[d]=r,a[v]=c,d=v}}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;function T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else{if(!(b.startTime<=a))break;K(M),b.sortIndex=b.expirationTime,H(L,b)}b=J(M)}}function U(a){if(S=!1,T(a),!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}function V(a,b){R=!1,S&&(S=!1,h()),Q=!0;var c=P;try{for(T(b),O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if("function"==typeof d){O.callback=null,P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now(),"function"==typeof e?O.callback=e:O===J(L)&&K(L),T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b),m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(a){a.callback=null},exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))},exports.unstable_getCurrentPriorityLevel=function(){return P},exports.unstable_getFirstCallbackNode=function(){return J(L)},exports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=W,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}},exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();switch("object"==typeof c&&null!==c?c="number"==typeof(c=c.delay)&&0<c?d+c:d:c=d,a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e=c+e,sortIndex:-1},c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V))),a},exports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}}},"./node_modules/scheduler/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/scheduler/cjs/scheduler.production.min.js")},"./node_modules/use-context-selector/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Sz:()=>useContextSelector,kr:()=>createContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),scheduler__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/scheduler/index.js");__webpack_require__("./node_modules/process/browser.js");const CONTEXT_VALUE=Symbol(),ORIGINAL_PROVIDER=Symbol(),useIsomorphicLayoutEffect="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?react__WEBPACK_IMPORTED_MODULE_0__.useEffect:react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect,runWithNormalPriority=scheduler__WEBPACK_IMPORTED_MODULE_1__.unstable_runWithPriority?fn=>{try{(0,scheduler__WEBPACK_IMPORTED_MODULE_1__.unstable_runWithPriority)(scheduler__WEBPACK_IMPORTED_MODULE_1__.unstable_NormalPriority,fn)}catch(e){if("Not implemented."!==e.message)throw e;fn()}}:fn=>fn(),createProvider=ProviderOrig=>({value,children})=>{const valueRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value),versionRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),[resolve,setResolve]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);resolve&&(resolve(value),setResolve(null));const contextValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();if(!contextValue.current){const listeners=new Set,update=(fn,options)=>{versionRef.current+=1;const action={n:versionRef.current};(null==options?void 0:options.suspense)&&(action.n*=-1,action.p=new Promise((r=>{setResolve((()=>v=>{action.v=v,delete action.p,r(v)}))}))),listeners.forEach((listener=>listener(action))),fn()};contextValue.current={[CONTEXT_VALUE]:{v:valueRef,n:versionRef,l:listeners,u:update}}}return useIsomorphicLayoutEffect((()=>{valueRef.current=value,versionRef.current+=1,runWithNormalPriority((()=>{contextValue.current[CONTEXT_VALUE].l.forEach((listener=>{listener({n:versionRef.current,v:value})}))}))}),[value]),(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ProviderOrig,{value:contextValue.current},children)};function createContext(defaultValue){const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({[CONTEXT_VALUE]:{v:{current:defaultValue},n:{current:-1},l:new Set,u:f=>f()}});return context[ORIGINAL_PROVIDER]=context.Provider,context.Provider=createProvider(context.Provider),delete context.Consumer,context}function useContextSelector(context,selector){const contextValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context)[CONTEXT_VALUE];const{v:{current:value},n:{current:version},l:listeners}=contextValue,selected=selector(value),[state,dispatch]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(((prev,action)=>{if(!action)return[value,selected];if("p"in action)throw action.p;if(action.n===version)return Object.is(prev[1],selected)?prev:[value,selected];try{if("v"in action){if(Object.is(prev[0],action.v))return prev;const nextSelected=selector(action.v);return Object.is(prev[1],nextSelected)?prev:[action.v,nextSelected]}}catch(_e){}return[...prev]}),[value,selected]);return Object.is(state[1],selected)||dispatch(),useIsomorphicLayoutEffect((()=>(listeners.add(dispatch),()=>{listeners.delete(dispatch)})),[listeners]),state[1]}}}]);